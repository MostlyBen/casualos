{"version":2,"updates":[{"id":0,"timestamp":1678762927655,"update":"AWnNyPmOBwAnAQRib3RzJDAyODM2NWE0LTAzNmYtNDFkMC05YWYxLTcxNWFkNGYyYWE3YQEnAM3I+Y4HAAZzeXN0ZW0CBADNyPmOBwESYWItMS5jb3JlLnJlZ3VsYXRlJwDNyPmOBwAEZm9ybQIEAM3I+Y4HFAdub3RoaW5nJwDNyPmOBwAHYWIxQ29yZQIEAM3I+Y4HHAR0cnVlJwDNyPmOBwAMb25BbnlCb3REcmFnAgQAzcj5jgchlAFAaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZFNuYXBTdGF0ZSkKewogICAgb3MuYWRkRHJvcFNuYXAoImdyaWQiKTsKfQoKaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQm90U25hcFN0YXRlKQp7CiAgICBvcy5hZGREcm9wU25hcCgiZmFjZSIpOwp9JwDNyPmOBwAIcmVtZW1iZXICBADNyPmOB7YBKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAQRib3RzJDM0YzNjMjEwLTViZjEtNDljZi1iMTUxLWVlMmQwN2YwZTY3MwEnAM3I+Y4H3QEGc3lzdGVtAgQAzcj5jgfeARBhYi0xLmNvcmUuY3JlYXRlKADNyPmOB90BB2FiMUNvcmUBeCcAzcj5jgfdAQRmb3JtAgQAzcj5jgfwAQdub3RoaW5nJwDNyPmOB90BC2Rlc2NyaXB0aW9uAgQAzcj5jgf4AT1Cb3QgdXNlZCB0byBjcmVhdGUvbWFuaWZlc3QgYm90cyBpbnRvIGFuIGFjdHVhbCBzY2VuZS9wb3J0YWwuJwDNyPmOB90BDWFiMUNyZWF0ZUJvdHMCBADNyPmOB7YCwAFALy9ORUVEIFRPIFVOREVSU1RBTkQgV0hBVCBUTyBETyBJRiBBTiBBUlJBWSBJUyBHSVZFTgpsZXQgYm90cyA9IHRoYXQ7Cgpmb3IgKGNvbnN0IHByb3BlcnR5IGluIHBhc3RlZERhdGEpIHsKICAgIGNvbnN0IG5ld0JvdCA9IHBhc3RlZERhdGFbcHJvcGVydHldOwogICAgCiAgICB2YXIgY3JlYXRlQm90ID0gY3JlYXRlKG5ld0JvdCk7Cn0nAQRib3RzJDY2NTdiODY1LWU5ODMtNDQwMS05ZmM5LWY1NDE4ZDE4YTdmNwEnAM3I+Y4H9wMGc3lzdGVtAgQAzcj5jgf4Aw9hYi0xLmNvcmUubGVhcm4nAM3I+Y4H9wMFYWIxSUQCBADNyPmOB4gEBWxlYXJuJwDNyPmOB/cDBGZvcm0CBADNyPmOB44EB25vdGhpbmcnAM3I+Y4H9wMHYWIxQm9vdAIEAM3I+Y4HlgSxBUBsZXQgaW5zdE1vZGVDaGVjayA9IGF3YWl0IG9zLnZlcnNpb24oKS5wbGF5ZXJNb2RlOwpsZXQgaW5pdGlhbEJvb3QgPSBsaW5rcy5yZW1lbWJlci50YWdzLmluaXRpYWxCb290ID8gdHJ1ZSA6IGZhbHNlOwoKZ2xvYmFsVGhpcy5idWlsZGVyVmVyc2lvbiA9IGluc3RNb2RlQ2hlY2sgPT0gImJ1aWxkZXIiID8gdHJ1ZSA6IGZhbHNlOwpnbG9iYWxUaGlzLmFiMSA9IHRoaXNCb3Q7CgppZiAoaW5zdE1vZGVDaGVjayA9PSAiYnVpbGRlciIpCnsKICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IHRydWU7CgogICAgYXdhaXQgdGhpc0JvdC5hYjFBZGFwdCgiYWIxSW50ZXJmYWNlIik7CgogICAgaWYgKGluaXRpYWxCb290KQogICAgewogICAgICAgIGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxTWFuaWZlc3RCb3Qoe2RpbWVuc2lvbjogY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbCwgcG9zaXRpb246e3g6MCx5OjB9fSk7CiAgICB9Cn0KCi8vVVVBQgovL2JvdC52YXJzCgovLyBpZiAoYXV0b0FCKQovLyB7Ci8vICAgICBsZXQgZWdnRGF0YSA9IGF3YWl0IGxpbmtzLnN0b3JlLmFiMVJldHJpZXZlUmVjb3JkKGF1dG9BQik7CgovLyAgICAgY29uc29sZS5sb2coZWdnRGF0YSk7Ci8vIH0KCmlmIChpbml0aWFsQm9vdCkKewogICAgbGlua3MucmVtZW1iZXIudGFncy5pbml0aWFsQm9vdCA9IGZhbHNlOwp9KADNyPmOB/cDB2FiMUNvcmUBeCcAzcj5jgf3AwhhYjFBZGFwdAIEAM3I+Y4HyQnyBUBjb25zdCBzeXN0ZW1JRCA9IHRoYXQ7CmNvbnN0IGJvb3RTdHJhcCA9IG9zLmdldEFCMUJvb3RzdHJhcFVSTCgpCmNvbnN0IHNraWxsRmlsZSA9IGJvb3RTdHJhcC5zbGljZSgwLCBib290U3RyYXAubGVuZ3RoLTcpICsgc3lzdGVtSUQgKyIuYXV4IjsKCnRyeQp7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdlYmhvb2soewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdXJsOiBza2lsbEZpbGUKICAgIH0pOwoKICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIGNvbnNvbGUubG9nKCdbYWIxIGJvb3RzdHJhcF0gQ291bGQgbm90IGRvd25sb2FkIHNraWxsLicpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB1cGRhdGVzID0gcmVzcG9uc2UuZGF0YS51cGRhdGVzOwogICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBvcy5nZXRJbnN0U3RhdGVGcm9tVXBkYXRlcyh1cGRhdGVzKTsKICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHN0YXRlKTsKICAgIAogICAgYXdhaXQgb3MuYXBwbHlVcGRhdGVzVG9JbnN0KHVwZGF0ZXMpOwoKICAgIHdoaXNwZXIoaWRzLCB0YWdOYW1lLCBjb25maWdCb3QudGFncy5pbnN0KTsKCiAgICAvL2FiMS5sb2coImFiLTEgYWRhcHQiKTsKICAgIGNvbnNvbGUubG9nKCJhYi0xIGFkYXB0Iik7CgogICAgcmV0dXJuIHRydWU7Cn0KY2F0Y2gKewogICAgY29uc29sZS5sb2coJ1thYjEgYm9vdHN0cmFwXSBDb3VsZCBub3QgZG93bmxvYWQgc2tpbGwuJyk7Cn0nAM3I+Y4H9wMLZGVzY3JpcHRpb24CBADNyPmOB7wPUVRoaXMgc2tpbGwgaXMgZGVzaWduZWQgdG8gaGFuZGxlIGJvdGggcmVjb25maWd1cmF0aW9uIG9mIGFiLTEgYW5kIGluaXRpYWxpemF0aW9uLicAzcj5jgf3AwpvbkJvdEFkZGVkAgQAzcj5jgeOEElAY29uc29sZS5sb2coImFiLTEgU1RBUlQgVVAiKTsKCnNldFRpbWVvdXQoKCkgPT4gdGhpc0JvdC5hYjFCb290KCksIDUwMCk7JwDNyPmOB/cDCHJlbWVtYmVyAgQAzcj5jgfYECjwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwDNyPmOB/cDA2xvZwIEAM3I+Y4H/xCTAUBsZXQgdXBkYXRlZExvZ3M7CgppZiAoIXRhZ3MuYWIxTG9nKQp7CiAgICB1cGRhdGVkTG9ncyA9IHRoYXQ7Cn0KZWxzZQp7CiAgICB1cGRhdGVkTG9ncyA9IHRhZ3MuYWIxTG9nICsgIlxuIiArIHRoYXQ7Cn0KCm1hc2tzLmFiMUxvZyA9IHVwZGF0ZWRMb2dzOycAzcj5jgf3Aw1tYW5pZmVzdGF0aW9uAgQAzcj5jgeTEijwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDNyPmOB/cDDWFiMUNyZWF0ZUhvc3QCBADNyPmOB7oS5QdAaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElEKQp7CiAgICBvcy50b2FzdCgiY29kZSBjb3BpZWQgdG8gY2xpcGJvYXJkIik7CgogICAgb3Muc2V0Q2xpcGJvYXJkKGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElELnN1YnN0cmluZygwLDMpICsgIi0iICsgbGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQuc3Vic3RyaW5nKDMpKTsKCiAgICByZXR1cm47Cn0KCmxldCBuZXdIb3N0SUQgPSB1dWlkKCkucmVwbGFjZUFsbCgiLSIsICIiKS5zdWJzdHJpbmcoMCw2KTsKbGV0IGRhdGUgPSBEYXRlVGltZS5ub3coKS50b01pbGxpcygpOwpsZXQgcmVjb3JkS2V5ID0gYXdhaXQgb3MuZ2V0RGF0YShsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleSwgImIyMDdhNWU0LWQ1MzEtNDg0Zi1hMGQ2LTY2MjZiZWY1OTAxMyIsICJodHRwczovL3B1YmxpY29zLmxpbmsiKTsKbGV0IHJlY29yZERhdGEgPSBhd2FpdCBvcy5yZWNvcmREYXRhKHJlY29yZEtleS5kYXRhLCBuZXdIb3N0SUQsIHt1cmw6IGNvbmZpZ0JvdC50YWdzLnVybCwgZGF0ZTogZGF0ZX0sICJodHRwczovL3B1YmxpY29zLmxpbmsiKTsKCmlmIChyZWNvcmREYXRhLnN1Y2Nlc3MpCnsKICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElEID0gbmV3SG9zdElELnN1YnN0cmluZygwLDMpICsgIi0iICsgbmV3SG9zdElELnN1YnN0cmluZygzKTsKCiAgICBvcy5zZXRDbGlwYm9hcmQobGlua3MucmVtZW1iZXIudGFncy5ob3N0SUQpOwoKICAgIHRoYXQudGFncy5sYWJlbCA9ICJqb2luIGNvZGU6ICIgKyBuZXdIb3N0SUQuc3Vic3RyaW5nKDAsMykgKyAiLSIgKyBuZXdIb3N0SUQuc3Vic3RyaW5nKDMpOwoKICAgIG9zLnRvYXN0KCJob3N0IGdlbmVyYXRlZCwgY29kZSBjb3BpZWQgdG8gY2xpcGJvYXJkOiAiICsgbmV3SG9zdElEKTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJzb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2FpbiIpOwoKICAgIHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwp9JwDNyPmOB/cDC2FiMUpvaW5Ib3N0AgQAzcj5jgegGq4GQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKbGV0IGpvaW5Db2RlID0gdGhhdC50ZXh0LnJlcGxhY2VBbGwoIi0iLCAiIik7CmxldCByZWNvcmRLZXkgPSBhd2FpdCBvcy5nZXREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5LCAiYjIwN2E1ZTQtZDUzMS00ODRmLWEwZDYtNjYyNmJlZjU5MDEzIiwgImh0dHBzOi8vcHVibGljb3MubGluayIpOwpsZXQgZ2V0UmVjb3JkID0gYXdhaXQgb3MuZ2V0RGF0YShyZWNvcmRLZXkuZGF0YSwgam9pbkNvZGUsICJodHRwczovL3B1YmxpY29zLmxpbmsvIik7CgppZiAoZ2V0UmVjb3JkLnN1Y2Nlc3MpCnsKICAgIGxldCBkYXRlID0gRGF0ZVRpbWUubm93KCk7CiAgICBsZXQgY3JlYXRlRGF0ZSA9IERhdGVUaW1lLmZyb21NaWxsaXMoZ2V0UmVjb3JkLmRhdGEuZGF0ZSk7CiAgICBsZXQgZGlmZmVyZW5jZSA9IGRhdGUuZGlmZihjcmVhdGVEYXRlLCAiZGF5cyIpLnRvT2JqZWN0KCk7CgogICAgZGlmZmVyZW5jZSA9IE1hdGguZmxvb3IoZGlmZmVyZW5jZS5kYXlzKTsKCiAgICBpZiAoZGlmZmVyZW5jZSA8IDgpCiAgICB7CiAgICAgICAgb3MudG9hc3QoImpvaW5pbmcgaG9zdCBub3ciKTsKICAgIAogICAgICAgIG9zLmdvVG9VUkwoZ2V0UmVjb3JkLmRhdGEudXJsKTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBvcy50b2FzdCgiam9pbiBjb2RlIG91dCBvZiBkYXRlLCBwbGVhc2UgZ2VuZXJhdGUgYSBuZXcgam9pbiBjb2RlIik7CiAgICB9Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgidW5hYmxlIHRvIGpvaW4sIHBsZWFzZSBjaGVjayBjb2RlIGFuZCB0cnkgYWdhaW4iKTsKfScBBGJvdHMkNzZhZjA0OTEtMzkxOS00OTg0LWFhODItMjJjNzQyZjQyNjNmAScAzcj5jgfPIAZzeXN0ZW0CBADNyPmOB9AgD2FiLTEuY29yZS5zdG9yZSgAzcj5jgfPIAdhYjFDb3JlAXgnAM3I+Y4HzyAEZm9ybQIEAM3I+Y4H4SAHbm90aGluZycAzcj5jgfPIAtkZXNjcmlwdGlvbgIEAM3I+Y4H6SBNVGhpcyBza2lsbCBpcyBtZWFudCB0byBiZSBhIGNvbmZpZ3VyYWJsZSBtZWFucyB0byBwdWxsIGRvd24gYW5kIHB1Ymxpc2ggZGF0YS4nAM3I+Y4HzyARYWIxUmV0cmlldmVSZWNvcmQCBADNyPmOB7ch6QJAbGV0IHJlY29yZE5hbWUgPSB0aGF0LnJlY29yZE5hbWU7CmxldCByZWNvcmRLZXkgPSB0aGF0LnJlY29yZEtleSA/IHRoYXQucmVjb3JkS2V5IDogbGlua3MucmVtZW1iZXIudGFncy5hYjFSZWNvcmRLZXk7CmxldCByZWNvcmRFbmRwb2ludCA9IHRoYXQucmVjb3JkRW5kcG9pbnQgPyB0aGF0LnJlY29yZEVuZHBvaW50IDogImh0dHBzOi8vcHVibGljb3MubGluayI7CgppZiAoIXJlY29yZE5hbWUpCnsKICAgIHJldHVybiAibm8gcmVjb3JkIG5hbWUgc3VwcGxpZWQiOwp9CgpsZXQgZ2V0UmVjb3JkID0gYXdhaXQgb3MuZ2V0RGF0YShyZWNvcmRLZXksIHJlY29yZE5hbWUsIHJlY29yZEVuZHBvaW50KTsKCnJldHVybiBnZXRSZWNvcmQ7JwDNyPmOB88gD2FiMVJldHJpZXZlRmlsZQIEAM3I+Y4HoSRsQGlmICghdGhhdC51cmwpCnsKICAgIHJldHVybiAibm8gZmlsZSB1cmwgc3VwcGxpZWQiOwp9CgpsZXQgZGF0YSA9IGF3YWl0IG9zLmdldEZpbGUodGhhdC51cmwpOwoKcmV0dXJuIGRhdGE7JwDNyPmOB88gEGFiMVB1Ymxpc2hSZWNvcmQCBADNyPmOB44liwNAbGV0IHJlY29yZERhdGEgPSB0aGF0LmRhdGE7CmxldCByZWNvcmROYW1lID0gdGhhdC5yZWNvcmROYW1lOwpsZXQgcmVjb3JkS2V5ID0gdGhhdC5yZWNvcmRLZXkgPyB0aGF0LnJlY29yZEtleSA6IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5OwpsZXQgcmVjb3JkRW5kcG9pbnQgPSB0aGF0LnJlY29yZEVuZHBvaW50ID8gdGhhdC5yZWNvcmRFbmRwb2ludCA6ICJodHRwczovL3B1YmxpY29zLmxpbmsiOwoKaWYgKCFyZWNvcmREYXRhKQp7CiAgICByZXR1cm4gIm5vIGRhdGEgc3VwcGxpZWQiOwp9CgpyZWNvcmREYXRhID0gYXdhaXQgb3MucmVjb3JkRGF0YShyZWNvcmRLZXksIHJlY29yZE5hbWUsIHJlY29yZERhdGEsIHJlY29yZEVuZHBvaW50KTsKCnJldHVybiByZWNvcmREYXRhOycAzcj5jgfPIA5hYjFQdWJsaXNoRmlsZQIEAM3I+Y4Hmii4A0BsZXQgZmlsZSA9IHRoYXQuZmlsZTsKbGV0IGZpbGVOYW1lID0gdGhhdC5maWxlTmFtZTsKbGV0IG1pbWVUeXBlID0gdGhhdC5taW1lVHlwZTsKbGV0IHJlY29yZEtleSA9IHRoYXQucmVjb3JkS2V5ID8gdGhhdC5yZWNvcmRLZXkgOiBsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleTsKbGV0IHJlY29yZEVuZHBvaW50ID0gdGhhdC5yZWNvcmRFbmRwb2ludCA/IHRoYXQucmVjb3JkRW5kcG9pbnQgOiAiaHR0cHM6Ly9wdWJsaWNvcy5saW5rIjsKCmlmICghZmlsZSkKewogICAgcmV0dXJuICJubyBmaWxlIHN1cHBsaWVkIjsKfQoKbGV0IGZpbGVVcGxvYWQgPSBhd2FpdCBvcy5yZWNvcmRGaWxlKHJlY29yZEtleSwgZmlsZSwge2Rlc2NyaXB0aW9uOiBmaWxlTmFtZSwgbWltZVR5cGU6IG1pbWVUeXBlfSwgcmVjb3JkRW5kcG9pbnQpOwoKcmV0dXJuIGZpbGVVcGxvYWQ7JwEEYm90cyRlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcBJwDNyPmOB9MrBnN5c3RlbQIEAM3I+Y4H1CsSYWItMS5jb3JlLnJlbWVtYmVyJwDNyPmOB9MrBGZvcm0CBADNyPmOB+crB25vdGhpbmcoAM3I+Y4H0ysHYWIxQ29yZQF4KADNyPmOB9MrDWFiMUF3YWtlU3RhdGUBeScAzcj5jgfTKwtkZXNjcmlwdGlvbgIEAM3I+Y4H8SsrVGhpcyBpcyBtZWFudCB0byBiZSB0aGUgbG9jYWwgc3RhdGUgaG9sZGVyLicAzcj5jgfTKwxhYjFSZWNvcmRLZXkCBADNyPmOB50sLnZSSzEuWVdJdE1RPT0uTkhac1VHdG9ObUZHWTNGSmRqSlRNbXMxTkZscVVUMDknAM3I+Y4H0ysSYWIxQWN0aXZlRGltZW5zaW9uAgQAzcj5jgfMLARob21lJwDNyPmOB9MrDGFiMUJhc2VDb2xvcgIEAM3I+Y4H0SwHIzkwOEJGQygAzcj5jgfTKxBhYjFHcmlkU25hcFN0YXRlAXgoAM3I+Y4H0ysPYWIxQm90U25hcFN0YXRlAXgnAM3I+Y4H0ysOYWIxTWVudVJlZnJlc2gCBADNyPmOB9ssGEBjbGVhclRhZ01hc2tzKHRoaXNCb3QpOygAzcj5jgfTKwtpbml0aWFsQm9vdAF4JwDNyPmOB9MrC2FiMUVuZHBvaW50AgQAzcj5jgf1LBZodHRwczovL3B1YmxpY29zLmxpbmsvJwEEYm90cyRmODYwMjg3OC1jMmVmLTQ4YmQtODVhMC04ZDYzNTFlYjQxMjABJwDNyPmOB4wtBnN5c3RlbQIEAM3I+Y4HjS0PYWItMS5jb3JlLmlucHV0JwDNyPmOB4wtBGZvcm0CBADNyPmOB50tB25vdGhpbmcnAM3I+Y4HjC0Jb25LZXlEb3duAgQAzcj5jgelLT9AaWYgKHRoYXQua2V5cyA9PSAiYCIgJiYgYnVpbGRlclZlcnNpb24pCnsKICAgIG9zLnNob3dDaGF0KCk7Cn0nAM3I+Y4HjC0Gb25DaGF0AgQAzcj5jgflLZEUQGlmICghYnVpbGRlclZlcnNpb24pCnsKICAgIHJldHVybjsKfQoKaWYgKHRoYXQubWVzc2FnZVswXSA9PSAiLiIpIAp7CiAgICBvcy5oaWRlQ2hhdCgpOwoKICAgIHN3aXRjaCAodGhhdC5tZXNzYWdlKQogICAgewogICAgICAgIGNhc2UgJy5kb3dubG9hZEFCMSc6CiAgICAgICAgICAgIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSA9IGZhbHNlOwoKICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBhd2FpdCBvcy5zaG93SW5wdXQoImdyb3VwIik7CgogICAgICAgICAgICBpZiAoZ3JvdXAgPT0gImFiMUNvcmUiKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsaW5rcy5yZW1lbWJlci50YWdzLmluaXRpYWxCb290ID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgYWIxR3JvdXAgPSBnZXRCb3RzKGdyb3VwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG9zLmRvd25sb2FkQm90c0FzSW5pdGlhbHphdGlvblVwZGF0ZShhYjFHcm91cCwgZ3JvdXApOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAubG9hZFNraWxsYDoKICAgICAgICAgICAgbGV0IHNraWxsID0gYXdhaXQgb3Muc2hvd0lucHV0KCJza2lsbCIpOwoKICAgICAgICAgICAgbGlua3MubGVhcm4uYWIxQWRhcHQoc2tpbGwpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAuc3lzdGVtYDoKICAgICAgICAgICAgY29uZmlnQm90LnRhZ3Muc3lzdGVtUG9ydGFsID0gdHJ1ZTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgYC5zaGVldGA6CiAgICAgICAgICAgIGNvbmZpZ0JvdC50YWdzLnNoZWV0UG9ydGFsID0gIWNvbmZpZ0JvdC50YWdzLm1hcFBvcnRhbCA/IGNvbmZpZ0JvdC50YWdzLmdyaWRQb3J0YWwgOiBjb25maWdCb3QudGFncy5tYXBQb3J0YWw7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAubWVudVNoZWV0YDoKICAgICAgICAgICAgY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjb25maWdCb3QudGFncy5tZW51UG9ydGFsOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBgLmRvd25sb2FkYDoKICAgICAgICAgICAgb3MuZG93bmxvYWRCb3RzKGdldEJvdHMoInNwYWNlIiwgInNoYXJlZCIpLCAiYWIxQWxsIik7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIGAudXBsb2FkYDoKICAgICAgICAgICAgb3Muc2hvd1VwbG9hZEF1eEZpbGUoKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgYC5zbGVlcGA6CiAgICAgICAgICAgIGNoYW5nZVN0YXRlKGxpbmtzLm1hbmlmZXN0YXRpb24sICJBc2xlZXAiLCAiYWIxTWFuaWZlc3RTdGF0ZSIpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBgLi5gOgogICAgICAgICAgICBjaGFuZ2VTdGF0ZShsaW5rcy5tYW5pZmVzdGF0aW9uLCAiQXdha2UiLCAiYWIxTWFuaWZlc3RTdGF0ZSIpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnLmxvZyc6CiAgICAgICAgICAgIGlmIChjb25maWdCb3QudGFncy50YWdQb3J0YWwgPT0gYWIxLmlkICsgIi5hYjFMb2ciKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb25maWdCb3QubWFza3MudGFnUG9ydGFsID0gbnVsbDsKICAgICAgICAgICAgICAgIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWxTcGFjZSA9IG51bGw7CgogICAgICAgICAgICAgICAgdGFnUG9ydGFsQm90Lm1hc2tzLnRhZ1BvcnRhbEFuY2hvclBvaW50ID0gbnVsbDsKCiAgICAgICAgICAgICAgICBvcy5oaWRlQ2hhdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IGFiMS5pZCArICIuYWIxTG9nIjsKICAgICAgICAgICAgICAgIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWxTcGFjZSA9ICJ0ZW1wTG9jYWwiOwoKICAgICAgICAgICAgICAgIHRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9ICJ0b3AiOwoKICAgICAgICAgICAgICAgIG9zLnNob3dDaGF0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnLmhpZGVMb2cnOgogICAgICAgICAgICBjb25maWdCb3QubWFza3MudGFnUG9ydGFsID0gbnVsbDsKICAgICAgICAgICAgY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbFNwYWNlID0gbnVsbDsKCiAgICAgICAgICAgIHRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9IG51bGw7CgogICAgICAgICAgICBvcy5oaWRlQ2hhdCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBsZXQgbWVzc2FnZSA9IHRoYXQubWVzc2FnZTsKICAgICAgICAgICAgbGV0IGV4ZWN1dGFibGUgPSBtZXNzYWdlLnNsaWNlKDEpOwoKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIG9zLnJ1bihleGVjdXRhYmxlKTsgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfQogICAgfQp9KADNyPmOB4wtB2FiMUNvcmUBeCcAzcj5jgeMLQtkZXNjcmlwdGlvbgIEAM3I+Y4H+EFCVGhpcyBpcyBtZWFudCB0byBoYW5kbGUgYW55IG5vbmUgbWVudSByZWxhdGVkIGlucHV0cy9pbnRlcmFjdGlvbnMuJwDNyPmOB4wtDG9uRmlsZVVwbG9hZAIEAM3I+Y4Hu0IlQGlmICghYnVpbGRlclZlcnNpb24pCnsKICAgIHJldHVybjsKfScAzcj5jgeMLQVsZWFybgIEAM3I+Y4H4UIo8J+UlzY2NTdiODY1LWU5ODMtNDQwMS05ZmM5LWY1NDE4ZDE4YTdmNycAzcj5jgeMLQhyZW1lbWJlcgIEAM3I+Y4HiEMo8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAzcj5jgeMLQ1tYW5pZmVzdGF0aW9uAgQAzcj5jgevQyjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkAA=="}]}