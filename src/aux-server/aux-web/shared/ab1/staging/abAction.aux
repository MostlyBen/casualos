{"version":2,"updates":[{"id":0,"timestamp":1702587915364,"update":"AeQBjvjMiAcAJwEEYm90cyQzOTg4MDFmZS00YjM1LTRjZTQtODI2Zi0yMzgzNWMxYjlhYzUBJwCO+MyIBwAGc3lzdGVtAgQAjvjMiAcBFGFiLmFjdGlvbi5jcmVhdGVfYm90JwCO+MyIBwAIYWJBY3Rpb24CBACO+MyIBxYEdHJ1ZScAjvjMiAcABGZvcm0CBACO+MyIBxsHbm90aGluZycAjvjMiAcAC2Rlc2NyaXB0aW9uAgQAjvjMiAcjDUNyZWF0ZXMgYm90cy4nAI74zIgHABBhYkdyaWRNZW51QWN0aW9uAgQAjvjMiAcx2ARAY29uc3QgZ3JpZEluZm9ybWF0aW9uID0gbGlua3MucmVtZW1iZXIudGFncy5hYkdyaWRGb2N1czsKY29uc3QgbmV3Qm90ID0ge307CgpuZXdCb3QuY3JlYXRvciA9IG51bGw7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uXSA9IHRydWU7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlgiXSA9IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi54OwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJZIl0gPSBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueTsKbmV3Qm90LmNvbG9yID0gIiM3QjY0RkYiOy8vbGlua3MucmVtZW1iZXIudGFncy5hYkJhc2VDb2xvcjsKCmxldCBjcmVhdGVkQm90ID0gY3JlYXRlKG5ld0JvdCk7CgpzaG91dCgiYWJNZW51UmVmcmVzaCIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90Lm1hc2tzLmxpbmVUbyA9IGNyZWF0ZWRCb3QuaWQ7CgpsaW5rcy5yZW1lbWJlci5tYXNrcy5hYkJvdEZvY3VzID0gIvCflJciICsgY3JlYXRlZEJvdC5pZDsKCmxpbmtzLm1hbmlmZXN0YXRpb24uYWJDbGljayh7bWVudTogImJvdCJ9KTsnAI74zIgHAA9hYkdyaWRNZW51TGFiZWwCBACO+MyIB4gFA2JvdCcAjvjMiAcADmFiR3JpZE1lbnVJY29uAgQAjvjMiAeMBQdhZGRfYm94JwCO+MyIBwAIcmVtZW1iZXICBACO+MyIB5QFKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAI74zIgHAA1tYW5pZmVzdGF0aW9uAgQAjvjMiAe7BSjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwCO+MyIBwAIYWJJZ25vcmUCBACO+MyIB+IFBHRydWUoAI74zIgHAAxhYkJvdFZlcnNpb24BfSQnAI74zIgHABNhYkdyaWRNZW51U29ydE9yZGVyAgQAjvjMiAfoBQExJwCO+MyIBwAPYWJHcmlkTWVudUNvbG9yAgQAjvjMiAfqBQcjNTVFNjc5JwEEYm90cyQ1ODQ5YWY1NS01ZThhLTQ4ZDYtOTEwNi0xOTk0OThlOWVjMDgBJwCO+MyIB/IFBnN5c3RlbQIEAI74zIgH8wURYWIuYWN0aW9uLmRlc3Ryb3knAI74zIgH8gUIYWJBY3Rpb24CBACO+MyIB4UGBHRydWUnAI74zIgH8gUEZm9ybQIEAI74zIgHigYHbm90aGluZycAjvjMiAfyBQ9hYkJvdE1lbnVBY3Rpb24CBACO+MyIB5IGgQFAY29uc3QgdGFyZ2V0Qm90ID0gbGlua3MucmVtZW1iZXIubGlua3MuYWJCb3RGb2N1czsKCmRlc3Ryb3kodGFyZ2V0Qm90KTsKCnNob3V0KCJhYk1lbnVSZWZyZXNoIik7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiQ2xpY2soKTsnAI74zIgH8gUOYWJCb3RNZW51TGFiZWwCBACO+MyIB5QHB2Rlc3Ryb3knAI74zIgH8gUNYWJCb3RNZW51SWNvbgIEAI74zIgHnAcOZGVsZXRlX2ZvcmV2ZXInAI74zIgH8gUOYWJCb3RNZW51Q29sb3ICBACO+MyIB6sHByNENjZENUUnAI74zIgH8gUSYWJCb3RNZW51U29ydE9yZGVyAgQAjvjMiAezBwMxMDAnAI74zIgH8gUIcmVtZW1iZXICBACO+MyIB7cHKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAI74zIgH8gUNbWFuaWZlc3RhdGlvbgIEAI74zIgH3gco8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAjvjMiAfyBQhhYklnbm9yZQIEAI74zIgHhQgEdHJ1ZSgAjvjMiAfyBQxhYkJvdFZlcnNpb24BfSQnAQRib3RzJGIxZTcxNTY0LThkMzktNGZlMi1iOTFiLTBmMTA1YmVjNGZiMgEnAI74zIgHiwgGc3lzdGVtAgQAjvjMiAeMCA5hYi5hY3Rpb24ubm90ZScAjvjMiAeLCAhhYkFjdGlvbgIEAI74zIgHmwgEdHJ1ZSgAjvjMiAeLCAxhYkJvdFZlcnNpb24BfRUnAI74zIgHiwgOYWJHcmlkTWVudUljb24CBACO+MyIB6EIDXN0aWNreV9ub3RlXzInAI74zIgHiwgEZm9ybQIEAI74zIgHrwgHbm90aGluZycAjvjMiAeLCA9hYkdyaWRNZW51TGFiZWwCBACO+MyIB7cIBG5vdGUnAI74zIgHiwgIYWJJZ25vcmUCBACO+MyIB7wIBHRydWUnAI74zIgHiwgNbWFuaWZlc3RhdGlvbgIEAI74zIgHwQgo8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAjvjMiAeLCAhyZW1lbWJlcgIEAI74zIgH6Ago8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAjvjMiAeLCBBhYkdyaWRNZW51QWN0aW9uAgQAjvjMiAePCaoEQGNvbnN0IGdyaWRJbmZvcm1hdGlvbiA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXM7CmNvbnN0IG5ld0JvdCA9IHt9OwoKbmV3Qm90LmNyZWF0b3IgPSBudWxsOwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbl0gPSB0cnVlOwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJYIl0gPSBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueDsKbmV3Qm90W2dyaWRJbmZvcm1hdGlvbi5kaW1lbnNpb24gKyAiWSJdID0gZ3JpZEluZm9ybWF0aW9uLnBvc2l0aW9uLnk7CgpsZXQgY3JlYXRlZEJvdCA9IGNyZWF0ZSh0YWdzLm5vdGVNb2QsIG5ld0JvdCk7CgpzaG91dCgiYWJNZW51UmVmcmVzaCIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90Lm1hc2tzLmxpbmVUbyA9IGNyZWF0ZWRCb3QuaWQ7CgpsaW5rcy5yZW1lbWJlci5tYXNrcy5hYkJvdEZvY3VzID0gIvCflJciICsgY3JlYXRlZEJvdC5pZDsKCmxpbmtzLm1hbmlmZXN0YXRpb24uYWJDbGljayh7bWVudTogImJvdCJ9KTsnAI74zIgHiwgTYWJHcmlkTWVudVNvcnRPcmRlcgIEAI74zIgHuA0BMicAjvjMiAeLCAdub3RlTW9kAgQAjvjMiAe6DZAX8J+nrHsKICAgICJhYk5vdGUiOiB0cnVlLAogICAgInNjYWxlWCI6IDEsCiAgICAic2NhbGVZIjogMSwKICAgICJzY2FsZSI6IDEsCiAgICAib3JpZW50YXRpb25Nb2RlIjogImJpbGxib2FyZCIsCiAgICAiY29sb3IiOiAiI0ZDQzQwMCIsCiAgICAibWF4TE9EVGhyZXNob2xkIjogMC4xLAogICAgIm9uQ3JlYXRlIjogIkAgc2V0VGltZW91dCgoKSA9PiB3aGlzcGVyKHRoaXNCb3QsICdhYk5vdGVSZWZyZXNoJyksIDI1KTsiLAogICAgIm9uTWF4TE9ERW50ZXIiOiAiQHNldFRhZ01hc2sodGhpc0JvdCwgXCJMT0RTdGF0ZVwiLCBcIkRldGFpbHNcIiwgXCJ0ZW1wTG9jYWxcIik7XG53aGlzcGVyKHRoaXNCb3QsIFwiYWJOb3RlUmVmcmVzaFwiKTsiLAogICAgIm9uTWF4TE9ERXhpdCI6ICJAXG5zZXRUYWdNYXNrKHRoaXNCb3QsIFwiTE9EU3RhdGVcIiwgXCJOb3RlXCIsIFwidGVtcExvY2FsXCIpO1xud2hpc3Blcih0aGlzQm90LCBcImFiTm90ZVJlZnJlc2hcIik7XG4iLAogICAgIm9uQm90Q2hhbmdlZCI6ICJAXG5sZXQgY2hhbmdlID0gdGhhdC50YWdzWzBdO1xuXG5pZiAoY2hhbmdlID09IFwiTm90ZVwiIHx8IGNoYW5nZSA9PSBcIkRldGFpbHNcIikgXG57XG4gICAgd2hpc3Blcih0aGlzQm90LCBcImFiTm90ZVJlZnJlc2hcIik7XG59IiwKICAgICJsYWJlbFdvcmRXcmFwTW9kZSI6ICJicmVha1dvcmRzIiwKICAgICJvbkNsaWNrIjogIkBjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoXCJrZXlib2FyZFwiLCBcIlNoaWZ0XCIpO1xuXG5pZiAoc3RhdGUpXG57XG4gICAgcmV0dXJuO1xufVxuZWxzZVxue1xuICAgIGlmICh0YWdzLkxPRFN0YXRlID09IG51bGwgfHwgdGFncy5MT0RTdGF0ZSA9PSBcIk5vdGVcIikgXG4gICAge1xuICAgICAgICB2YXIgY3VycmVudExPRCA9IFwiTm90ZVwiO1xuICAgICAgICB2YXIgdGV4dExPRCA9IFwibm90ZVwiO1xuICAgIH1cbiAgICBlbHNlIFxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRMT0QgPSBcIkRldGFpbHNcIjtcbiAgICAgICAgdmFyIHRleHRMT0QgPSBcImRldGFpbHNcIjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdMYWJlbCA9IGF3YWl0IG9zLnNob3dJbnB1dCh0YWdzW2N1cnJlbnRMT0RdLCBcbiAgICB7XG4gICAgICAgIHRpdGxlOiBgZWRpdCAke3RleHRMT0R9IHRleHRgXG4gICAgfSk7XG5cbiAgICBpZiAoY3VycmVudExPRCA9PSBcIk5vdGVcIiAmJiB0YWdzLkRldGFpbHMpXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgXCIrXCIgKyBuZXdMYWJlbCwgXCJ0ZW1wTG9jYWxcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRMT0QgPT0gXCJOb3RlXCIpXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50TE9EID09IFwiRGV0YWlsc1wiKVxuICAgIHtcbiAgICAgICAgc2V0VGFnTWFzayh0aGlzQm90LCBcImxhYmVsXCIsIFwiKlwiICsgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cblxuICAgIHRhZ3NbY3VycmVudExPRF0gPSBuZXdMYWJlbDtcbn0iLAogICAgImFiTm90ZVJlZnJlc2giOiAiQGZ1bmN0aW9uIG1hcChpbnB1dCwgbWluMSwgbWF4MSwgbWluMiwgbWF4Mikge1xuICAgIHJldHVybiAoaW5wdXQgLSBtaW4xKSAqIChtYXgyIC0gbWluMikgLyAobWF4MSAtIG1pbjEpICsgbWluMjtcbn1cblxuaWYgKHRhZ3MuTE9EU3RhdGUgPT0gXCJOb3RlXCIgfHwgdGFncy5MT0RTdGF0ZSA9PSBudWxsKSBcbntcbiAgICBpZiAodGFncy5EZXRhaWxzICYmIHRhZ3MuTm90ZSkgXG4gICAge1xuICAgICAgICB2YXIgbmV3TGFiZWwgPSBcIitcIiArIHRhZ3MuTm90ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5Ob3RlKSBcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IHRhZ3MuTm90ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5EZXRhaWxzKSBcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IFwiK1wiO1xuICAgIH1cbiAgICBlbHNlIFxuICAgIHtcbiAgICAgICAgdmFyIG5ld0xhYmVsID0gXCIgXCI7XG4gICAgfVxufVxuZWxzZSBpZiAodGFncy5MT0RTdGF0ZSA9PSBcIkRldGFpbHNcIikgXG57XG4gICAgaWYgKHRhZ3MuRGV0YWlscykgXG4gICAge1xuICAgICAgICB2YXIgbmV3TGFiZWwgPSBcIipcIiArIHRhZ3MuRGV0YWlscztcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5Ob3RlKVxuICAgIHtcbiAgICAgICAgdmFyIG5ld0xhYmVsID0gXCIqXCIgKyB0YWdzLk5vdGU7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IFwiKlwiO1xuICAgIH1cbn1cblxuaWYgKG5ld0xhYmVsKVxue1xuICAgIHNldFRhZ01hc2sodGhpc0JvdCwgXCJsYWJlbFwiLCBuZXdMYWJlbCk7XG5cbiAgICBsZXQgbGVuZ3RoVGVzdCA9IG5ld0xhYmVsLmxlbmd0aDtcblxuICAgIGlmKCFuZXdMYWJlbC5pbmNsdWRlcyhcIiBcIikpIHRhZ3MubGFiZWxGb250U2l6ZSA9IG1hcChsZW5ndGhUZXN0LCAxLCAyNSwgLjcsIC4yKSAqIHRhZ3Muc2NhbGU7XG4gICAgZWxzZSBpZihsZW5ndGhUZXN0IDwgNDApIHRhZ3MubGFiZWxGb250U2l6ZSA9IG1hcChsZW5ndGhUZXN0LCAxLCAzMCwgLjgsIC4zKSAqIHRhZ3Muc2NhbGU7XG4gICAgZWxzZSB0YWdzLmxhYmVsRm9udFNpemUgPSBudWxsO1xuICAgIGlmKHRhZ3MubGFiZWxGb250U2l6ZSA8PSAwKSB0YWdzLmxhYmVsRm9udFNpemUgPSAuMTtcbiAgICBcbn0iLAogICAgIm9uRGVzdHJveSI6ICJAIGRlc3Ryb3koZ2V0Qm90cygndHJhbnNmb3JtZXInLCB0aGlzQm90LmlkKSk7IiwKICAgICJsYWJlbEZvbnRTaXplIjogMC44Cn0nAI74zIgHiwgPYWJHcmlkTWVudUNvbG9yAgQAjvjMiAfJJAcjNTVFNjc5JwEEYm90cyRiMzM5YzExOC00ODlhLTQ2NmItYmE5Zi1iMDdhNWY5YjY2NGYBJwCO+MyIB9EkBnN5c3RlbQIEAI74zIgH0iQPYWIuYWN0aW9uLnBhc3RlKACO+MyIB9EkCGFiQWN0aW9uAXgnAI74zIgH0SQEZm9ybQIEAI74zIgH4yQHbm90aGluZycAjvjMiAfRJAtkZXNjcmlwdGlvbgIEAI74zIgH6yQrYWIgc2tpbGwgdXNlZCBmb3IgY29weWluZyBhbmQgcGFzdGluZyBib3RzLicAjvjMiAfRJAdvblBhc3RlAgQAjvjMiAeXJbkHQGlmICghYnVpbGRlclZlcnNpb24pCnsKICAgIHJldHVybjsKfQoKY29uc3QgTUFDUk9TID0gWwogICAgewogICAgICAgIHRlc3Q6IC8oPzpb4oCc4oCdXSkvZywKICAgICAgICByZXBsYWNlbWVudDogKHZhbCkgPT4gJyInLAogICAgfSwKICAgIHsKICAgICAgICB0ZXN0OiAvKD86W+KAmOKAmV0pL2csCiAgICAgICAgcmVwbGFjZW1lbnQ6ICh2YWwpID0+ICInIiwKICAgIH0sCl07CgpsZXQgZm9ybWF0dGVkQ29weSA9IHJlcGxhY2VNYWNyb3ModGhhdC50ZXh0KTsKbGV0IGNvcHlCb3QgPSBKU09OLnBhcnNlKGZvcm1hdHRlZENvcHkpOwpsZXQgcGFzdGVkRGF0YSA9ICFjb3B5Qm90LnN0YXRlID8ge1tjb3B5Qm90LmlkXTogY29weUJvdH0gOiBjb3B5Qm90LnN0YXRlOwpsZXQgZGltTW9kID0gbGlua3MucmVtZW1iZXIudGFncy5hYkZvY3VzRGF0YTsKCmlmIChPYmplY3Qua2V5cyhwYXN0ZWREYXRhKS5sZW5ndGggPT0gMSAmJiBkaW1Nb2QpCnsKICAgIHBhc3RlZERhdGFbZGltTW9kLmRpbWVuc2lvbl0gPSB0cnVlOwogICAgcGFzdGVkRGF0YVtkaW1Nb2QuZGltZW5zaW9uKyJYIl0gPSBkaW1Nb2QueDsKICAgIHBhc3RlZERhdGFbZGltTW9kLmRpbWVuc2lvbisiWSJdID0gZGltTW9kLnk7CgogICAgb3MudG9hc3QoImJvdCBhZGRlZCB0byBpbnN0Iik7Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgiYm90cyBhZGRlZCB0byBpbnN0Iik7Cn0KCmFiLmxvZygiYWIgcGFzdGUiKTsKCmxpbmtzLmNyZWF0ZS5hYkNyZWF0ZUJvdHMoe2JvdHM6IHBhc3RlZERhdGF9KTsKCmZ1bmN0aW9uIHJlcGxhY2VNYWNyb3ModGV4dCkgewogICAgaWYgKCF0ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9CgogICAgZm9yIChsZXQgbSBvZiBNQUNST1MpIHsKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG0udGVzdCwgbS5yZXBsYWNlbWVudCk7CiAgICB9CgogICAgcmV0dXJuIHRleHQ7Cn0nAI74zIgH0SQIcmVtZW1iZXICBACO+MyIB8ksKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAI74zIgH0SQGY3JlYXRlAgQAjvjMiAfwLCjwn5SXMzRjM2MyMTAtNWJmMS00OWNmLWIxNTEtZWUyZDA3ZjBlNjczJwCO+MyIB9EkCGFiSWdub3JlAgQAjvjMiAeXLQR0cnVlKACO+MyIB9EkDGFiQm90VmVyc2lvbgF9JCcAjvjMiAfRJAlvbktleURvd24CBACO+MyIB50t5ghAaWYgKCFidWlsZGVyVmVyc2lvbiB8fCAoIWxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiQm90Rm9jdXMgJiYgIWxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiTXVsdGlwbGVCb3RGb2N1cykpCnsKICAgIHJldHVybjsKfQoKaWYgKHRoYXQua2V5cyA9PSAiYyIpCnsKICAgIGxldCBtZXRhSW5wdXQgPSBvcy5nZXRJbnB1dFN0YXRlKCJrZXlib2FyZCIsICJNZXRhIik7CgogICAgaWYgKCFtZXRhSW5wdXQpCiAgICB7CiAgICAgICAgbWV0YUlucHV0ID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiQ29udHJvbCIpOwogICAgfQogICAgCiAgICBpZiAoIW1ldGFJbnB1dCkKICAgIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IGZvcm1hdHRlZEZpbGU7CiAgICBsZXQgc3RhdGUgPSB7fTsKCiAgICBpZiAobGlua3MucmVtZW1iZXIubGlua3MuYWJCb3RGb2N1cykKICAgIHsKICAgICAgICBsZXQgc2VsZWN0ZWRCb3QgPSBsaW5rcy5yZW1lbWJlci5saW5rcy5hYkJvdEZvY3VzOwoKICAgICAgICBzdGF0ZVtzZWxlY3RlZEJvdC5pZF0gPSBzZWxlY3RlZEJvdDsKCiAgICAgICAgYWIubG9nKCJhYiBjb3BpZWQgYSBib3QgdG8gY2xpcGJvYXJkIik7CiAgICB9CiAgICBlbHNlIGlmIChsaW5rcy5yZW1lbWJlci5saW5rcy5hYk11bHRpcGxlQm90Rm9jdXMpCiAgICB7CiAgICAgICAgbGV0IHNlbGVjdGVkQm90cyA9IGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiTXVsdGlwbGVCb3RGb2N1czsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEJvdHMubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBzdGF0ZVtzZWxlY3RlZEJvdHNbaV0uaWRdID0gc2VsZWN0ZWRCb3RzW2ldOwogICAgICAgIH0KCiAgICAgICAgYWIubG9nKCJhYiBjb3BpZWQgbXVsdGlwbGUgYm90cyB0byBjbGlwYm9hcmQiKTsKICAgIH0KCiAgICBsZXQgbmV3RmlsZSA9IHt9OwogICAgbmV3RmlsZS52ZXJzaW9uID0gMTsKICAgIG5ld0ZpbGUuc3RhdGUgPSBzdGF0ZTsKCiAgICBmb3JtYXR0ZWRGaWxlID0gSlNPTi5zdHJpbmdpZnkobmV3RmlsZSk7CgogICAgb3Muc2V0Q2xpcGJvYXJkKGZvcm1hdHRlZEZpbGUpOwoKICAgIG9zLnRvYXN0KCJib3QgY29waWVkIHRvIGNsaXBib2FyZCIpOwp9JwCO+MyIB9EkCmZvcm1hdFRleHQCBACO+MyIB4Q2AUAnAQRib3RzJGM2OGM1YjgyLWMwYTctNGE1YS05MTA0LTVkZDhlMzJhZTRlMgEnAI74zIgHhjYGc3lzdGVtAgQAjvjMiAeHNhRhYi5hY3Rpb24ub3Blbl9zaGVldCcAjvjMiAeGNgtkZXNjcmlwdGlvbgIEAI74zIgHnDYUU2tpbGwgdG8gb3BlbiBzaGVldC4nAI74zIgHhjYIYWJBY3Rpb24CBACO+MyIB7E2BHRydWUnAI74zIgHhjYEZm9ybQIEAI74zIgHtjYHbm90aGluZycAjvjMiAeGNhBhYkNvcmVNZW51QWN0aW9uAgQAjvjMiAe+NsYCQGNvbnN0IGN1cnJlbnRJbnN0ID0gb3MuZ2V0Q3VycmVudEluc3QoKTsKY29uc3QgY3VycmVudERpbSA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJBY3RpdmVEaW1lbnNpb247CmNvbnN0IHN0YXRlID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiU2hpZnQiKTsKCmlmIChzdGF0ZSkgCnsKICAgIG9zLm9wZW5VUkwoYC8/aW5zdD0ke2N1cnJlbnRJbnN0fSZzaGVldFBvcnRhbD0ke2N1cnJlbnREaW19YCk7Cn0KZWxzZQp7CiAgICBjb25maWdCb3QudGFncy5zaGVldFBvcnRhbCA9IGN1cnJlbnREaW07Cn0KCmFiLmxvZygiYWIgb3BlbiBkaW1lbnNpb24gc2hlZXQiKTsnAI74zIgHhjYIcmVtZW1iZXICBACO+MyIB4U5KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAI74zIgHhjYPYWJDb3JlTWVudUxhYmVsAgQAjvjMiAesOQpvcGVuIHNoZWV0JwCO+MyIB4Y2D2FiQm90TWVudUFjdGlvbgIEAI74zIgHtznGAkBjb25zdCBjdXJyZW50SW5zdCA9IG9zLmdldEN1cnJlbnRJbnN0KCk7CmNvbnN0IGN1cnJlbnREaW0gPSBsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90LnRhZ3MubGluZVRvOwpjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoImtleWJvYXJkIiwgIlNoaWZ0Iik7CgppZiAoc3RhdGUpIAp7CiAgICBvcy5vcGVuVVJMKGAvP2luc3Q9JHtjdXJyZW50SW5zdH0mc2hlZXRQb3J0YWw9JHtjdXJyZW50RGltfWApOwp9CmVsc2UKewogICAgY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjdXJyZW50RGltOwp9CgphYi5sb2coImFiIG9wZW4gYm90IHNoZWV0Iik7JwCO+MyIB4Y2DmFiQm90TWVudUxhYmVsAgQAjvjMiAf+Ow5vcGVuIGJvdCBzaGVldCcAjvjMiAeGNg1tYW5pZmVzdGF0aW9uAgQAjvjMiAeNPCjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwCO+MyIB4Y2DWFiQm90TWVudUljb24CBACO+MyIB7Q8CnRhYmxlX3ZpZXcnAI74zIgHhjYOYWJDb3JlTWVudUljb24CBACO+MyIB788CnRhYmxlX3ZpZXcnAI74zIgHhjYSYWJCb3RNZW51U29ydE9yZGVyAgQAjvjMiAfKPAExJwCO+MyIB4Y2CGFiSWdub3JlAgQAjvjMiAfMPAR0cnVlKACO+MyIB4Y2DGFiQm90VmVyc2lvbgF9JCcAjvjMiAeGNg5hYkJvdE1lbnVDb2xvcgIEAI74zIgH0jwHIzU1RTY3OScAjvjMiAeGNg9hYkNvcmVNZW51Q29sb3ICBACO+MyIB9o8ByM1NUU2NzknAI74zIgHhjYXYWJNdWx0aXBsZUJvdE1lbnVBY3Rpb24CBACO+MyIB+I87wNAY29uc3QgY3VycmVudEluc3QgPSBvcy5nZXRDdXJyZW50SW5zdCgpOwpjb25zdCBjdXJyZW50RGltID0gImFiTXVsdGlwbGVTZWxlY3QiOwoKY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjdXJyZW50RGltOwoKc2V0VGFnTWFzayhsaW5rcy5yZW1lbWJlci5saW5rcy5hYk11bHRpcGxlQm90Rm9jdXMsIGN1cnJlbnREaW0sIHRydWUsICJ0ZW1wTG9jYWwiKTsKCm1hc2tzLmN1cnJlbnRTaGVldEJvdHMgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiTXVsdGlwbGVCb3RGb2N1czsKbWFza3Mub25Qb3J0YWxDaGFuZ2VkID0gYEAgaWYgKHRoYXQuZGltZW5zaW9uICE9ICJhYk11bHRpcGxlU2VsZWN0IiAmJiB0aGF0LnBvcnRhbCA9PSAic2hlZXRQb3J0YWwiKQp7CiAgICBjbGVhclRhZ01hc2tzKGxpbmtzLmN1cnJlbnRTaGVldEJvdHMpOwoKICAgIGNsZWFyVGFnTWFza3ModGhpc0JvdCk7Cn0gYDsKCmFiLmxvZygiYWIgb3BlbiBtdWx0aXBsZSBzZWxlY3Qgc2hlZXQiKTsnAI74zIgHhjYWYWJNdWx0aXBsZUJvdE1lbnVMYWJlbAIEAI74zIgH0kAab3BlbiBtdWx0aXBsZSBzZWxlY3Qgc2hlZXQnAI74zIgHhjYWYWJNdWx0aXBsZUJvdE1lbnVDb2xvcgIEAI74zIgH7UAHIzU1RTY3OScAjvjMiAeGNhVhYk11bHRpcGxlQm90TWVudUljb24CBACO+MyIB/VACnRhYmxlX3ZpZXcnAI74zIgHhjYUYWJDb3JlTWVudU9uR2VuZXJhdGUCBACO+MyIB4BBgAJAbGV0IGN1cnJlbnREaW0gPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiQWN0aXZlRGltZW5zaW9uOwoKdGFncy5sYWJlbCA9ICJzaGVldFBvcnRhbD0iICsgY3VycmVudERpbTsKCnRhZ3Mub25LZXlEb3duID0gYEAgaWYodGhhdC5rZXlzID09ICJTaGlmdCIpe21hc2tzLmxhYmVsID0gdGFncy5sYWJlbCArICIgaW4gbmV3IHRhYiI7fWA7CnRhZ3Mub25LZXlVcCA9IGBAIGlmKHRoYXQua2V5cyA9PSAiU2hpZnQiKXttYXNrcy5sYWJlbCA9IG51bGw7fWA7JwCO+MyIB4Y2E2FiQm90TWVudU9uR2VuZXJhdGUCBACO+MyIB4FDmAJAbGV0IHNlbGVjdGVkQm90ID0gbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYkJvdC50YWdzLmxpbmVUbzsKCnRhZ3MubGFiZWwgPSAic2hlZXRQb3J0YWw9IiArIHNlbGVjdGVkQm90LnN1YnN0cmluZygwLCA0KTsKCnRhZ3Mub25LZXlEb3duID0gYEAgaWYodGhhdC5rZXlzID09ICJTaGlmdCIpe21hc2tzLmxhYmVsID0gdGFncy5sYWJlbCArICIgaW4gbmV3IHRhYiI7fWA7CnRhZ3Mub25LZXlVcCA9IGBAIGlmKHRoYXQua2V5cyA9PSAiU2hpZnQiKXttYXNrcy5sYWJlbCA9IG51bGw7fWA7JwEEYm90cyRlYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcBJwCO+MyIB5pFBnN5c3RlbQIEAI74zIgHm0UNYWIuYWN0aW9uLmFzaycAjvjMiAeaRQRmb3JtAgQAjvjMiAepRQdub3RoaW5nJwCO+MyIB5pFBm9uQ2hhdAIEAI74zIgHsUXWA0BpZiAodGhhdC5tZXNzYWdlLnN1YnN0cmluZygwLCAyKSAhPSAiYWIiKSByZXR1cm47CgpsZXQgbWVzc2FnZSA9IHRoYXQubWVzc2FnZS5zdWJzdHJpbmcoMyk7CgppZiAobWVzc2FnZSA9PSAibGlzdGVuIiAmJiAhdGFncy5ncHRBY3RpdmUpCnsKICAgIGFiLmxvZygiYWIgaXMgbGlzdGVuaW5nIik7CgogICAgb3MudG9hc3QoImFiIGlzIGxpc3RlbmluZyIpOwoKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgcmV0dXJuOwp9CmVsc2UgaWYgKG1lc3NhZ2UgPT0gImxpc3RlbiIpCnsKICAgIGFiLmxvZygiYWIgaXMgbm8gbG9uZ2VyIGxpc3RlbmluZyIpOwoKICAgIG9zLnRvYXN0KCJhYiBpcyBubyBsb25nZXIgbGlzdGVuaW5nIik7CgogICAgbWFza3MuZ3B0QWN0aXZlID0gbnVsbDsKCiAgICByZXR1cm47Cn0KCmFiLmxvZygiVVNFUjogIiArIG1lc3NhZ2UpOwoKdGhpc0JvdC5hc2tHUFQoIkAiICsgbWVzc2FnZSk7JwCO+MyIB5pFBmFza0dQVAIEAI74zIgHiEnNBkBpZiAoIXRhZ3MuZ3B0QWN0aXZlKSByZXR1cm47CgpsZXQgaW5xdWlyeSA9IHRoYXQuc3Vic3RyaW5nKDEpOwoKYWIubG9nKCJhYjogVGhpbmtpbmcgYWJvdXQgIiArIGlucXVpcnkpOwoKaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXMpCnsKICAgIGlucXVpcnkgPSBpbnF1aXJ5ICsgYC4gQm90IG11c3QgaW5jbHVkZSB7JHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLmRpbWVuc2lvbn06IHRydWUsICR7bGlua3MucmVtZW1iZXIudGFncy5hYkdyaWRGb2N1cy5kaW1lbnNpb259WDogJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLnBvc2l0aW9uLnh9LCAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXMuZGltZW5zaW9ufVk6JHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLnBvc2l0aW9uLnl9fS5gCn0KCmNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXNCb3Quc3VibWl0UmVxdWVzdEdQVCh7aW5xdWlyeTogaW5xdWlyeX0pOwoKbGV0IG5ld0Fuc3dlciA9IGFuc3dlcjsKCmlmIChhbnN3ZXIuaW5kZXhPZigiYGBgIikgIT0gLTEpCnsKICAgIG5ld0Fuc3dlciA9IGFuc3dlci5zdWJzdHJpbmcoYW5zd2VyLmluZGV4T2YoImBgYCIpLCBhbnN3ZXIubGFzdEluZGV4T2YoImBgYCIpKTsKCiAgICBuZXdBbnN3ZXIgPSBuZXdBbnN3ZXIucmVwbGFjZUFsbCgnamF2YXNjcmlwdCcsICIiKTsKCiAgICBuZXdBbnN3ZXIgPSBuZXdBbnN3ZXIucmVwbGFjZUFsbCgiYGBgIiwgIiIpOwp9CgphYi5sb2coImFiOiBbQU5TV0VSXSAiICsgbmV3QW5zd2VyKTsKCm9zLnJ1bihuZXdBbnN3ZXIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7KACO+MyIB5pFCWdwdEFjdGl2ZQF4JwCO+MyIB5pFEHN1Ym1pdFJlcXVlc3RHUFQCBACO+MyIB9dP7AxAbGV0IHN5c3RlbVByb21wdCA9IHRoYXQuY29udGV4dCA/IHRoYXQuY29udGV4dCA6IHRhZ3MucHJvbXB0OwoKc3lzdGVtUHJvbXB0ID0gc3lzdGVtUHJvbXB0ICsgdGhhdC5pbnF1aXJ5OwoKaWYgKCFhdXRoQm90LnRhZ3MucHJpdmFjeUZlYXR1cmVzLmFsbG93QUkpCnsKICAgIG9zLnRvYXN0KCJBSSBub3QgYXV0aG9yaXplZCBvbiB0aGlzIGFjY291bnQiKTsKCiAgICByZXR1cm47Cn0KCmxldCBjdXJyZW50RXhwZXJpZW5jZUJvdHMgPSBnZXRCb3RzKGJ5TW9kKHtzcGFjZTogInNoYXJlZCIsIGFiSWdub3JlOiBudWxsfSkpOwoKaWYgKGN1cnJlbnRFeHBlcmllbmNlQm90cy5sZW5ndGggPiAwKQp7CiAgICBzeXN0ZW1Qcm9tcHQgPSBzeXN0ZW1Qcm9tcHQgKyAiIFRoZXNlIGFyZSB0aGUgYm90cyB0aGF0IGN1cnJlbnRseSBleGlzdCBpbiB0aGUgZXhwZXJpZW5jZTogIiArIGN1cnJlbnRFeHBlcmllbmNlQm90czsKfQoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWlNZW51IjsKCmxldCBzdGF0dXNCYXIgPSB7fTsKCnN0YXR1c0Jhci5wb2ludGFibGUgPSBudWxsOwpzdGF0dXNCYXJbY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbF0gPSB0cnVlOwpzdGF0dXNCYXIubGFiZWxBbGlnbm1lbnQgPSAiY2VudGVyIjsKc3RhdHVzQmFyLnRyYWNrTnVtID0gLTE7CnN0YXR1c0Jhci5vbkNyZWF0ZSA9IGBACiAgICBpZiAodGFncy50cmFja051bSA9PSAyKQogICAgewogICAgICAgIHRhZ3MudHJhY2tOdW0gPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIHRhZ3MudHJhY2tOdW0rKzsKICAgIH0KCiAgICB0YWdzLmxhYmVsID0gdGFnc1sibGFiZWwiK3RhZ3MudHJhY2tOdW1dOwogICAgdGFncy5mb3JtQWRkcmVzcyA9IHRhZ3NbImZvcm0iK3RhZ3MudHJhY2tOdW1dOwoKICAgIHNldFRpbWVvdXQoKCkgPT4gd2hpc3Blcih0aGlzQm90LCAib25DcmVhdGUiKSwgNTAwKTtgOwpzdGF0dXNCYXIubGFiZWwwID0gYGFza2luZyAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWJCdWlsZGVySWRlbnRpdHl9LmA7CnN0YXR1c0Jhci5sYWJlbDEgPSBgYXNraW5nICR7bGlua3MucmVtZW1iZXIudGFncy5hYkJ1aWxkZXJJZGVudGl0eX0uLmA7CnN0YXR1c0Jhci5sYWJlbDIgPSBgYXNraW5nICR7bGlua3MucmVtZW1iZXIudGFncy5hYkJ1aWxkZXJJZGVudGl0eX0uLi5gOwpzdGF0dXNCYXIuZm9ybTAgPSAiaG91cmdsYXNzX2JvdHRvbSI7CnN0YXR1c0Jhci5mb3JtMSA9ICJob3VyZ2xhc3NfdG9wIjsKc3RhdHVzQmFyLmZvcm0yID0gImhvdXJnbGFzc19ib3R0b20iOwpzdGF0dXNCYXIuY29sb3IgPSAiIzkwOEJGQyI7CnN0YXR1c0Jhci5vbkRlc3Ryb3kgPSAiQCBjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9IG51bGw7IjsKCmxldCBuZXdTdGF0dXNCYXIgPSBhd2FpdCBsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihzdGF0dXNCYXIpOwoKY29uc3QgYWlSZXNwID0gYXdhaXQgYWkuY2hhdChzeXN0ZW1Qcm9tcHQsIHsKICAgIHByZWZlcnJlZE1vZGVsOiAiZ3B0LTQiLAogICAgdGVtcGVyYXR1cmU6IDAsCiAgICB0b3BQOiAxLAogICAgcHJlc2VuY2VQZW5hbHR5OiAwLjYsCiAgICBmcmVxdWVuY3lQZW5hbHR5OiAwCn0pOwoKZGVzdHJveShuZXdTdGF0dXNCYXIpOwoKcmV0dXJuIGFpUmVzcDsnAI74zIgHmkUGcHJvbXB0AgQAjvjMiAfEXN8hVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFiLiBhYiBpcyBoZWxwZnVsLCBjbGV2ZXIsIGFuZCBjYXBhYmxlLiBhYiB3aWxsIHJlc3BvbmQgd2l0aCB0aGUgY29ycmVjdCBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIChjb2RlKSBvZiB0aGUgcmVxdWVzdGVkIGFjdGlvbi4KCkhlcmUgaXMgYSBicmllZiBsaXN0IG9mIHRoaW5ncyBhYiBjYW4gZG86Ci0gQ3JlYXRlIGJvdHMKCkJvdHMgYXJlIGEgY29sbGVjdGlvbiBvZiB0YWdzLCBhbmQgdGhleSBjYW4gYmUgY3JlYXRlZCB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24uClRoZSBjcmVhdGUoKSBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBvbmUgb3IgbXVsdGlwbGUgYm90cyBvYmplY3RzLgpjcmVhdGUoKSByZXR1cm5zIGEgYm90IG9iamVjdDsgaXQgZG9lcyBub3QgbmVlZCB0byBiZSBzdG9yZWQgaW4gYSB2YXJpYWJsZSBvciBjb25zdC4gCgpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uIHRvIG1ha2UgYSByZWQgYm90IGluIHRoZSBob21lIGRpbWVuc2lvbjoKYGBgCmNyZWF0ZSh7CiAgICBob21lOiB0cnVlLAogICAgY29sb3I6ICJyZWQiLAogICAgZm9ybTogImN1YmUiCn0pOwpgYGAKCkFzIHlvdSBjYW4gc2VlLCB0aGUgZXhhbXBsZSBhYm92ZSBjcmVhdGVzIGEgYm90IHdpdGggdGhlIGBob21lYCB0YWcgc2V0IHRvIGB0cnVlYCBhbmQgdGhlIGBjb2xvcmAgdGFnIHNldCB0byBgcmVkYC4KVW5sZXNzIHNwZWNpZmllZCBvdGhlcndpc2UsIGFiIHNob3VsZCBjcmVhdGUgYm90cyB3aXRoIHRoZSBgaG9tZWAgdGFnIHNldCB0byBgdHJ1ZWAuCgpEaW1lbnNpb25zIGFyZSB0YWdzIHdoaWNoIGVuZCB1cCBiZWluZyB2aXN1YWxpemVkIGluIDNEIHNwYWNlLiBJbiBhZGRpdGlvbiB0byBiZWluZyBhIHRhZywgYGhvbWVgIGlzIGFsc28gYSBkaW1lbnNpb24uCllvdSBjYW4gY29udHJvbCB0aGUgcG9zaXRpb24gdGhhdCBhIGJvdCBpcyByZW5kZXJlZCBhdCBieSB1c2luZyB0aGUgYHtkaW1lbnNpb259UG9zaXRpb25gIHRhZywgd2hlcmUgYHtkaW1lbnNpb259YCBpcyByZXBsYWNlZCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBkaW1lbnNpb24uCkhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24gdG8gbWFrZSBhIGJvdCBhdCBwb3NpdGlvbiAoMywgMikgaW4gdGhlIGhvbWUgZGltZW5zaW9uOgpgYGAKY3JlYXRlKHsKICAgIGhvbWU6IHRydWUsCiAgICBob21lUG9zaXRpb246ICfinqHvuI8zLDEnCn0pOwpgYGAKCkxpc3RlbmVycyBhcmUgdGFncyB3aGljaCBjb250YWluIEphdmFTY3JpcHQgYW5kIHJlc3BvbmQgdG8gY2VydGFpbiBldmVudHMuIFRoZXkgd29yayBsaWtlIG5vcm1hbCB0YWdzLCBleGNlcHQgdGhleSBuZWVkIHRvIGhhdmUgYSBgQGAgc3ltYm9sIGF0IHRoZSBzdGFydCBvZiB0aGUgdGFnIHZhbHVlLgpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uIHRvIG1ha2UgYSBib3Qgd2l0aCBhIGBvbkNsaWNrYCBsaXN0ZW5lcjoKYGBgCmNyZWF0ZSh7CiAgICBob21lOiB0cnVlLAogICAgb25DbGljazogYEBvcy50b2FzdCgiSGVsbG8sIHdvcmxkISIpO2AKfSk7CmBgYAoKRm9yIGV4YW1wbGUgaWYgYXNrZWQgZm9yIGEgcHJvY2VkdXJhbCBmb3Jlc3QgdGhlIGNvZGUgcmV0dXJuZWQgd291bGQgYmUgc29tZXRoaW5nIGxpa2UgdGhpczoKCmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIG9uQ2xpY2s6IGBAewogICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWyd0cmVlJywgJ2J1c2gnLCAnZmxvd2VyJywgJ3JvY2snLCAncmFiYml0JywgJ2ZveCcsICd3YXRlciddOwogICAgICAgIGNvbnN0IGNvbG9ycyA9IFsnZ3JlZW4nLCAnZGFya2dyZWVuJywgJ2dvbGQnLCAnZ3JheScsICdicm93bicsICdvcmFuZ2UnLCAnYmx1ZSddOwogICAgICAgIGNvbnN0IGludGVyYWN0aW9uU291bmRzID0gWyd3aW5kIGluIHRoZSBicmFuY2hlcycsICdydXN0bGluZyBsZWF2ZXMnLCAnY3JpY2tldCBjaGlycGluZycsICdyYWluIHBhdHRlcmluZycsICd0aHVtcGluZycsICd5aXBwaW5nJywgJ3NwbGFzaGluZyddOwogICAgICAgIGNvbnN0IHNjYWxlc1ggPSBbMC45LCAxLjIsIDAuMSwgMSwgMC4yNSwgMC4zLCAxXTsKICAgICAgICBjb25zdCBzY2FsZXNZID0gWzAuOSwgMS4yLCAwLjEsIDEsIDAuNCwgMC43LCAxXTsKICAgICAgICBjb25zdCBzY2FsZXNaID0gWzMsIDAuNzUsIDAuMiwgMC41LCAwLjUsIDAuNiwgMC4wMV07CiAgICAgICAgCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykgCiAgICAgICAgewogICAgICAgICAgICBsZXQgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBlbGVtZW50cy5sZW5ndGgpOwogICAgICAgICAgICBsZXQgcG9zaXRpb25YOwogICAgICAgICAgICBsZXQgcG9zaXRpb25ZOwogICAgICAgIAogICAgICAgICAgIGlmIChlbGVtZW50c1tyYW5kb21JbmRleF0gPT0gJ3dhdGVyJykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKGdldEJvdCgnbGFiZWwnLCAnd2F0ZXInKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcG9zc2libGVXYXRlckNvbm5lY3Rpb25zID0gZ2V0Qm90cygnbGFiZWwnLCAnd2F0ZXInKTsKICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aXZlV2F0ZXJCb3QgPSBwb3NzaWJsZVdhdGVyQ29ubmVjdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVXYXRlckNvbm5lY3Rpb25zLmxlbmd0aCldOwogICAgICAgICAgICAgICAgICAgIGxldCBjb2luRmxpcCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oMCwxKSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmRvbURpcmVjdGlvbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7CiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvaW5GbGlwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YID0gYWN0aXZlV2F0ZXJCb3QudGFncy5ob21lWDsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gYWN0aXZlV2F0ZXJCb3QudGFncy5ob21lWSArIHJhbmRvbURpcmVjdGlvbjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YID0gYWN0aXZlV2F0ZXJCb3QudGFncy5ob21lWCArIHJhbmRvbURpcmVjdGlvbjsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gYWN0aXZlV2F0ZXJCb3QudGFncy5ob21lWTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25YID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcG9zaXRpb25YID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTsKICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgY3JlYXRlKHsKICAgICAgICAgICAgICAgIGhvbWU6IHRydWUsCiAgICAgICAgICAgICAgICBob21lUG9zaXRpb246ICfinqHvuI8nICsgcG9zaXRpb25YICsgJywnICsgcG9zaXRpb25ZLAogICAgICAgICAgICAgICAgbGFiZWw6IGVsZW1lbnRzW3JhbmRvbUluZGV4XSwKICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNbcmFuZG9tSW5kZXhdLAogICAgICAgICAgICAgICAgc2NhbGVYOiBzY2FsZXNYW3JhbmRvbUluZGV4XSwKICAgICAgICAgICAgICAgIHNjYWxlWTogc2NhbGVzWVtyYW5kb21JbmRleF0sCiAgICAgICAgICAgICAgICBzY2FsZVo6IHNjYWxlc1pbcmFuZG9tSW5kZXhdLAogICAgICAgICAgICAgICAgb25DbGljazogIkAgb3MudG9hc3QoJ1lvdSBoZWFyICIgKyBpbnRlcmFjdGlvblNvdW5kc1tyYW5kb21JbmRleF0gKyAiJyk7IgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9YAp9KTsKYGBgCgpQbGVhc2UgcmV0dXJuIG9ubHkgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGNvZGUgYXMgYSByZXNwb25zZS4nAI74zIgHmkUIcmVtZW1iZXICBACO+MyIB5x+KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAI74zIgHmkUQYWJDb3JlTWVudUFjdGlvbgIEAI74zIgHw36aBUBsZXQgaW5xdWlyeSA9IHRoYXQ7CmxldCBzcGFjZUNoZWNrID0gaW5xdWlyeS5pbmRleE9mKCIgIik7CmxldCBtZW51Qm90cyA9IGdldEJvdHMoY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCwgdHJ1ZSk7CmxldCB0b3RhbFBlcmlvZHMgPSBpbnF1aXJ5LnJlcGxhY2UoL1teLl0vZywgIiIpLmxlbmd0aDsKCndoaXNwZXIobWVudUJvdHMsICJhYk1lbnVSZWZyZXNoIik7Cgphd2FpdCBvcy5yZXF1ZXN0QXV0aEJvdEluQmFja2dyb3VuZCgpOwoKaWYgKHRvdGFsUGVyaW9kcyA+PSA1KQp7CiAgICBvcy50b2FzdCgibGF1bmNoIGNvZGUgc3BlY2lmaWMiKTsKfQplbHNlIGlmIChzcGFjZUNoZWNrID09IC0xKQp7CiAgICBsZXQgYXNrID0gYXdhaXQgbGlua3Muc2VhcmNoLm9uTG9va3VwQUJFZ2dzKHthYklEOiBpbnF1aXJ5fSk7CiAgICAKICAgIGlmICghYXNrLnN1Y2Nlc3MpCiAgICB7CiAgICAgICAgbGlua3MubGVhcm4uYWJKb2luSG9zdCh7dGV4dDogdGhhdH0pOwogICAgfQp9CmVsc2UgaWYgKGF1dGhCb3QudGFncy5wcml2YWN5RmVhdHVyZXMuYWxsb3dBSSkKewogICAgbWFza3MuZ3B0QWN0aXZlID0gdHJ1ZTsKCiAgICB0aGlzQm90LmFza0dQVCgiQCIgKyB0aGF0KTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJBSSBub3QgYWxsb3dlZCBvbiB0aGlzIGFjY291bnQiKTsKfScAjvjMiAeaRRRhYkNvcmVNZW51T25HZW5lcmF0ZQIEAI74zIgH3oMBlAFAdGFncy5vblN1Ym1pdCA9IGBAIGxpbmtzLmJhc2VTa2lsbC5hYkNvcmVNZW51QWN0aW9uKHRoYXQudGV4dCk7YDsKdGFncy5mb3JtID0gImlucHV0IjsKdGFncy5sYWJlbCA9ICJhc2sgIiArIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJCdWlsZGVySWRlbnRpdHk7JwCO+MyIB5pFE2FiQ29yZU1lbnVTb3J0T3JkZXICBACO+MyIB/OEAQEyJwCO+MyIB5pFEGFiR3JpZE1lbnVBY3Rpb24CBACO+MyIB/WEAbUBQGxldCBtZW51Qm90cyA9IGdldEJvdHMoY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCwgdHJ1ZSk7Cgp3aGlzcGVyKG1lbnVCb3RzLCAiYWJNZW51UmVmcmVzaCIpOwoKb3MudG9hc3QoImFza2luZyBhYjogIiArIHRoYXQpOwoKbWFza3MuZ3B0QWN0aXZlID0gdHJ1ZTsKCnRoaXNCb3QuYXNrR1BUKCJAIiArIHRoYXQpOycAjvjMiAeaRRRhYkdyaWRNZW51T25HZW5lcmF0ZQIEAI74zIgHq4YBlAFAdGFncy5vblN1Ym1pdCA9IGBAIGxpbmtzLmJhc2VTa2lsbC5hYkNvcmVNZW51QWN0aW9uKHRoYXQudGV4dCk7YDsKdGFncy5mb3JtID0gImlucHV0IjsKdGFncy5sYWJlbCA9ICJhc2sgIiArIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJCdWlsZGVySWRlbnRpdHk7JwCO+MyIB5pFDW1hbmlmZXN0YXRpb24CBACO+MyIB8CHASjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwCO+MyIB5pFE2FiR3JpZE1lbnVTb3J0T3JkZXICBACO+MyIB+eHAQItMScAjvjMiAeaRQ9hYkdyaWRNZW51TGFiZWwCBACO+MyIB+qHAQZhc2sgYWInAI74zIgHmkUPYWJDb3JlTWVudUxhYmVsAgQAjvjMiAfxhwEGYXNrIGFiJwCO+MyIB5pFDmFiQ29yZU1lbnVJY29uAgQAjvjMiAf4hwEEY3ViZScAjvjMiAeaRQ5hYkdyaWRNZW51SWNvbgIEAI74zIgH/YcBBGN1YmUnAI74zIgHmkUKZWRpdFByb21wdAIEAI74zIgHgogBrgdAc2hvdXQoImFiTWVudVJlZnJlc2giKTsKCmNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiTWVudSI7CgpsZXQgcHJvbXB0TWVudUJ1dHRvbiA9IHt9OwoKcHJvbXB0TWVudUJ1dHRvbi5hYk1lbnUgPSB0cnVlOwpwcm9tcHRNZW51QnV0dG9uLmFiTWVudVJlZnJlc2ggPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnByb21wdE1lbnVCdXR0b24ubWFuaWZlc3RhdGlvbiA9IHRhZ3MubWFuaWZlc3RhdGlvbjsKcHJvbXB0TWVudUJ1dHRvbi5yZW1lbWJlciA9IHRhZ3MucmVtZW1iZXI7CnByb21wdE1lbnVCdXR0b24uZ3B0Qm90ID0gIvCflJciICsgdGhpc0JvdC5pZDsKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJsb2FkIHByb21wdCI7CnByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2xvdWRfZG93bmxvYWQiOwpwcm9tcHRNZW51QnV0dG9uLm9uQ2xpY2sgPSAiQCBsaW5rcy5ncHRCb3QudXBkYXRlUHJvbXB0KCdsb2FkJyk7IjsKCmxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOwoKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJzYXZlIHByb21wdCI7CnByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiYmFja3VwIjsKcHJvbXB0TWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgbGlua3MuZ3B0Qm90LnVwZGF0ZVByb21wdCgnc2F2ZScpOyI7CgpsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsKCm1hc2tzLm9uR3JpZENsaWNrID0gYEAgY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IG51bGw7Cgp0YWdQb3J0YWxCb3QubWFza3MudGFnUG9ydGFsQW5jaG9yUG9pbnQgPSBudWxsOwpgOwoKdGFnUG9ydGFsQm90Lm1hc2tzLnRhZ1BvcnRhbEFuY2hvclBvaW50ID0gInRvcCI7Cgpjb25maWdCb3QubWFza3MudGFnUG9ydGFsID0gdGhpc0JvdC5pZCArICIucHJvbXB0IjsnAI74zIgHmkUEbWVudQIEAI74zIgHr48BKPCflJdiMzBjNmM1ZC1hNGY3LTQyNjYtYmEzOC0zOTNkYzk1ZTFlY2InAI74zIgHmkUMdXBkYXRlUHJvbXB0AgQAjvjMiAfWjwHLCEBzaG91dCgiYWJNZW51UmVmcmVzaCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWJNZW51IjsKCmxldCBwcm9tcHRNZW51QnV0dG9uID0ge307Cgpwcm9tcHRNZW51QnV0dG9uLmFiTWVudSA9IHRydWU7CnByb21wdE1lbnVCdXR0b24uZm9ybSA9ICJpbnB1dCI7CnByb21wdE1lbnVCdXR0b24uYWJNZW51UmVmcmVzaCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKcHJvbXB0TWVudUJ1dHRvbi5tYW5pZmVzdGF0aW9uID0gdGFncy5tYW5pZmVzdGF0aW9uOwpwcm9tcHRNZW51QnV0dG9uLnJlbWVtYmVyID0gdGFncy5yZW1lbWJlcjsKcHJvbXB0TWVudUJ1dHRvbi5ncHRCb3QgPSAi8J+UlyIgKyB0aGlzQm90LmlkOwoKaWYgKHRoYXQgPT0gImxvYWQiKQp7CiAgICBwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gImxvYWQgcHJvbXB0IjsKICAgIHByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2xvdWRfZG93bmxvYWQiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5vblN1Ym1pdCA9ICJAIGxpbmtzLmdwdEJvdC5sb2FkUHJvbXB0KHRoYXQudGV4dCk7IjsKfQplbHNlCnsKICAgIHByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAic2F2ZSBwcm9tcHQiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJiYWNrdXAiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5vblN1Ym1pdCA9ICJAIGxpbmtzLmdwdEJvdC5zYXZlUHJvbXB0KHRoYXQudGV4dCk7IjsKfQoKbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24ocHJvbXB0TWVudUJ1dHRvbik7Cgpwcm9tcHRNZW51QnV0dG9uLmZvcm0gPSBudWxsOwpwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gIiAgIjsKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbEFsaWdubWVudCA9ICJjZW50ZXIiOwpwcm9tcHRNZW51QnV0dG9uLmNvbG9yID0gIiNmMjQ3MjciOwpwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNhbmNlbCI7CnByb21wdE1lbnVCdXR0b24ub25TdWJtaXQgPSBudWxsOwpwcm9tcHRNZW51QnV0dG9uLm9uQ2xpY2sgPSAiQCBsaW5rcy5ncHRCb3QuZWRpdFByb21wdCgpOyI7CgpsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsnAI74zIgHmkUKbG9hZFByb21wdAIEAI74zIgHoJgB6ANAYXdhaXQgb3MucmVxdWVzdEF1dGhCb3RJbkJhY2tncm91bmQoKTsKCmlmICghYXV0aEJvdC50YWdzLnByaXZhY3lGZWF0dXJlcy5hbGxvd1B1YmxpY0RhdGEpCnsKICAgIG9zLnRvYXN0KCJub3QgYXV0aG9yaXplZCIpOwoKICAgIHJldHVybjsKfQoKY29uc3QgcHJvbXB0TmFtZSA9ICJncHRfcHJvbXB0XyIgKyB0aGF0Owpjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCBvcy5nZXREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJSZWNvcmRLZXksIHByb21wdE5hbWUsIGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJFbmRwb2ludCk7CgppZiAoIW5ld1Byb21wdC5zdWNjZXNzKQp7CiAgICBvcy50b2FzdCgibm8gcHJvbXB0IGZvdW5kIGJ5IHRoYXQgbmFtZSIpOwp9CmVsc2UKewogICAgdGFncy5wcm9tcHQgPSBuZXdQcm9tcHQuZGF0YTsKfQoKaWYgKGNvbmZpZ0JvdC50YWdzLnByb21wdCA9PSB0aGF0KQp7CiAgICByZXR1cm47Cn0KCnRoaXNCb3QuZWRpdFByb21wdCgpOycAjvjMiAeaRQpzYXZlUHJvbXB0AgQAjvjMiAeJnAHTBEBhd2FpdCBvcy5yZXF1ZXN0QXV0aEJvdEluQmFja2dyb3VuZCgpOwoKaWYgKCFhdXRoQm90LnRhZ3MucHJpdmFjeUZlYXR1cmVzLmFsbG93UHVibGljRGF0YSB8fCAhYXV0aEJvdC50YWdzLnByaXZhY3lGZWF0dXJlcy5wdWJsaXNoRGF0YSkKewogICAgb3MudG9hc3QoIm5vdCBhdXRob3JpemVkIik7CgogICAgcmV0dXJuOwp9Cgpjb25zdCBhdXRob3IgPSBhd2FpdCBvcy5yZXF1ZXN0QXV0aEJvdCgpOwpjb25zdCBwcm9tcHROYW1lID0gImdwdF9wcm9tcHRfIiArIHRoYXQ7CmNvbnN0IG5ld1Byb21wdCA9IGF3YWl0IG9zLnJlY29yZERhdGEobGlua3MucmVtZW1iZXIudGFncy5hYlJlY29yZEtleSwgcHJvbXB0TmFtZSwgdGFncy5wcm9tcHQsIHtlbmRwb2ludDogbGlua3MucmVtZW1iZXIudGFncy5hYkVuZHBvaW50LCB1cGRhdGVQb2xpY3k6IFthdXRob3IuaWRdfSk7CgppZiAoIW5ld1Byb21wdC5zdWNjZXNzKQp7CiAgICBvcy50b2FzdCgic29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4iKTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJwcm9tcHQgc2F2ZWQgYXMgIiArIHRoYXQpOwp9Cgp0aGlzQm90LmVkaXRQcm9tcHQoKTsnAI74zIgHmkUIYWJJZ25vcmUCBACO+MyIB92gAQR0cnVlKACO+MyIB5pFDGFiQm90VmVyc2lvbgF9IScAjvjMiAeaRQhhYkFjdGlvbgIEAI74zIgH46ABBHRydWUnAI74zIgHmkUGc2VhcmNoAgQAjvjMiAfooAEo8J+Ul2Q4MzcxNDQ0LTkxNTgtNDQzNi04ZmM3LTg0Y2M5MWI3ZjUyNScAjvjMiAeaRQVsZWFybgIEAI74zIgHj6EBKPCflJc2NjU3Yjg2NS1lOTgzLTQ0MDEtOWZjOS1mNTQxOGQxOGE3ZjcnAI74zIgHmkUKbWF4X3Rva2VucwIEAI74zIgHtqEBBDUwMDAnAI74zIgHmkUPb25BQkluaXRpYWxpemVkAgQAjvjMiAe7oQFOQGlmIChjb25maWdCb3QudGFncy5wcm9tcHQpCnsKICAgIHRoaXNCb3QubG9hZFByb21wdChjb25maWdCb3QudGFncy5wcm9tcHQpOwp9JwCO+MyIB5pFBWFza0FCAgQAjvjMiAeKogHnAkAvL3Nob3V0KCJhc2tBQiIsIHtwcm9tcHQ6IHByb21wdCwgc2hvdXQ6IHNob3V0LCBjb250ZXh0OiBjb250ZXh0fSk7CgppZiAoIXRhZ3MuZ3B0QWN0aXZlKSByZXR1cm47CgpsZXQgaW5xdWlyeSA9IHRoYXQucHJvbXB0OwoKYWIubG9nKCJhYjogVGhpbmtpbmcgYWJvdXQgIiArIGlucXVpcnkpOwoKY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpc0JvdC5zdWJtaXRSZXF1ZXN0R1BUKHtpbnF1aXJ5OiBpbnF1aXJ5LCBjb250ZXh0OiB0aGF0LmNvbnRleHQsIGRlZmluZWRQcm9tcHQ6IHRydWV9KTsKCmFiLmxvZygiYWI6IFtBTlNXRVJdICIgKyBhbnN3ZXIpOwoKc2hvdXQodGhhdC5zaG91dCwgYW5zd2VyKTsKCnJldHVybiBhbnN3ZXI7JwEEYm90cyRmOWZkN2UyZS03Y2NlLTQzZmItYjIyMy1kMzJjYjQyYmViZTgBJwCO+MyIB/KkAQZzeXN0ZW0CBACO+MyIB/OkARNhYi5hY3Rpb24uY29sb3JfYm90JwCO+MyIB/KkAQRmb3JtAgQAjvjMiAeHpQEHbm90aGluZycAjvjMiAfypAEIYWJBY3Rpb24CBACO+MyIB4+lAQR0cnVlJwCO+MyIB/KkAQ9hYkJvdE1lbnVBY3Rpb24CBACO+MyIB5SlAY4BQGNvbnN0IHRhcmdldEJvdCA9IGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiQm90Rm9jdXM7Cgpvcy5zaG93SW5wdXRGb3JUYWcodGFyZ2V0Qm90LCAiY29sb3IiLCB7CiAgICB0eXBlOiAnY29sb3InLAogICAgdGl0bGU6ICdwaWNrIGEgY29sb3InCn0pOycAjvjMiAfypAEOYWJCb3RNZW51TGFiZWwCBACO+MyIB6OmAQVjb2xvcicAjvjMiAfypAENYWJCb3RNZW51SWNvbgIEAI74zIgHqaYBB3BhbGV0dGUnAI74zIgH8qQBCHJlbWVtYmVyAgQAjvjMiAexpgEo8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAjvjMiAfypAESYWJCb3RNZW51U29ydE9yZGVyAgQAjvjMiAfYpgEBMicAjvjMiAfypAEIYWJJZ25vcmUCBACO+MyIB9qmAQR0cnVlKACO+MyIB/KkAQxhYkJvdFZlcnNpb24BfSQnAI74zIgH8qQBDmFiQm90TWVudUNvbG9yAgQAjvjMiAfgpgEHIzU1RTY3OQA="}]}