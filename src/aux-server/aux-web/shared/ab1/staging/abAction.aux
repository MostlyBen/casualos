{"version":2,"updates":[{"id":0,"timestamp":1702497095142,"update":"AeQBzomEjgoAJwEEYm90cyQzOTg4MDFmZS00YjM1LTRjZTQtODI2Zi0yMzgzNWMxYjlhYzUBJwDOiYSOCgAGc3lzdGVtAgQAzomEjgoBFGFiLmFjdGlvbi5jcmVhdGVfYm90JwDOiYSOCgAIYWJBY3Rpb24CBADOiYSOChYEdHJ1ZScAzomEjgoABGZvcm0CBADOiYSOChsHbm90aGluZycAzomEjgoAC2Rlc2NyaXB0aW9uAgQAzomEjgojDUNyZWF0ZXMgYm90cy4nAM6JhI4KABBhYkdyaWRNZW51QWN0aW9uAgQAzomEjgox2ARAY29uc3QgZ3JpZEluZm9ybWF0aW9uID0gbGlua3MucmVtZW1iZXIudGFncy5hYkdyaWRGb2N1czsKY29uc3QgbmV3Qm90ID0ge307CgpuZXdCb3QuY3JlYXRvciA9IG51bGw7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uXSA9IHRydWU7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlgiXSA9IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi54OwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJZIl0gPSBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueTsKbmV3Qm90LmNvbG9yID0gIiM3QjY0RkYiOy8vbGlua3MucmVtZW1iZXIudGFncy5hYkJhc2VDb2xvcjsKCmxldCBjcmVhdGVkQm90ID0gY3JlYXRlKG5ld0JvdCk7CgpzaG91dCgiYWJNZW51UmVmcmVzaCIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90Lm1hc2tzLmxpbmVUbyA9IGNyZWF0ZWRCb3QuaWQ7CgpsaW5rcy5yZW1lbWJlci5tYXNrcy5hYkJvdEZvY3VzID0gIvCflJciICsgY3JlYXRlZEJvdC5pZDsKCmxpbmtzLm1hbmlmZXN0YXRpb24uYWJDbGljayh7bWVudTogImJvdCJ9KTsnAM6JhI4KAA9hYkdyaWRNZW51TGFiZWwCBADOiYSOCogFA2JvdCcAzomEjgoADmFiR3JpZE1lbnVJY29uAgQAzomEjgqMBQdhZGRfYm94JwDOiYSOCgAIcmVtZW1iZXICBADOiYSOCpQFKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM6JhI4KAA1tYW5pZmVzdGF0aW9uAgQAzomEjgq7BSjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDOiYSOCgAIYWJJZ25vcmUCBADOiYSOCuIFBHRydWUoAM6JhI4KAAxhYkJvdFZlcnNpb24BfSAnAM6JhI4KABNhYkdyaWRNZW51U29ydE9yZGVyAgQAzomEjgroBQExJwDOiYSOCgAPYWJHcmlkTWVudUNvbG9yAgQAzomEjgrqBQcjNTVFNjc5JwEEYm90cyQ1ODQ5YWY1NS01ZThhLTQ4ZDYtOTEwNi0xOTk0OThlOWVjMDgBJwDOiYSOCvIFBnN5c3RlbQIEAM6JhI4K8wURYWIuYWN0aW9uLmRlc3Ryb3knAM6JhI4K8gUIYWJBY3Rpb24CBADOiYSOCoUGBHRydWUnAM6JhI4K8gUEZm9ybQIEAM6JhI4KigYHbm90aGluZycAzomEjgryBQ9hYkJvdE1lbnVBY3Rpb24CBADOiYSOCpIGgQFAY29uc3QgdGFyZ2V0Qm90ID0gbGlua3MucmVtZW1iZXIubGlua3MuYWJCb3RGb2N1czsKCmRlc3Ryb3kodGFyZ2V0Qm90KTsKCnNob3V0KCJhYk1lbnVSZWZyZXNoIik7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiQ2xpY2soKTsnAM6JhI4K8gUOYWJCb3RNZW51TGFiZWwCBADOiYSOCpQHB2Rlc3Ryb3knAM6JhI4K8gUNYWJCb3RNZW51SWNvbgIEAM6JhI4KnAcOZGVsZXRlX2ZvcmV2ZXInAM6JhI4K8gUOYWJCb3RNZW51Q29sb3ICBADOiYSOCqsHByNENjZENUUnAM6JhI4K8gUSYWJCb3RNZW51U29ydE9yZGVyAgQAzomEjgqzBwMxMDAnAM6JhI4K8gUIcmVtZW1iZXICBADOiYSOCrcHKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM6JhI4K8gUNbWFuaWZlc3RhdGlvbgIEAM6JhI4K3gco8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAzomEjgryBQhhYklnbm9yZQIEAM6JhI4KhQgEdHJ1ZSgAzomEjgryBQxhYkJvdFZlcnNpb24BfSAnAQRib3RzJGIxZTcxNTY0LThkMzktNGZlMi1iOTFiLTBmMTA1YmVjNGZiMgEnAM6JhI4KiwgGc3lzdGVtAgQAzomEjgqMCA5hYi5hY3Rpb24ubm90ZScAzomEjgqLCAhhYkFjdGlvbgIEAM6JhI4KmwgEdHJ1ZSgAzomEjgqLCAxhYkJvdFZlcnNpb24BfREnAM6JhI4KiwgOYWJHcmlkTWVudUljb24CBADOiYSOCqEIDXN0aWNreV9ub3RlXzInAM6JhI4KiwgEZm9ybQIEAM6JhI4KrwgHbm90aGluZycAzomEjgqLCA9hYkdyaWRNZW51TGFiZWwCBADOiYSOCrcIBG5vdGUnAM6JhI4KiwgIYWJJZ25vcmUCBADOiYSOCrwIBHRydWUnAM6JhI4KiwgNbWFuaWZlc3RhdGlvbgIEAM6JhI4KwQgo8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAzomEjgqLCAhyZW1lbWJlcgIEAM6JhI4K6Ago8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAzomEjgqLCBBhYkdyaWRNZW51QWN0aW9uAgQAzomEjgqPCaoEQGNvbnN0IGdyaWRJbmZvcm1hdGlvbiA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXM7CmNvbnN0IG5ld0JvdCA9IHt9OwoKbmV3Qm90LmNyZWF0b3IgPSBudWxsOwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbl0gPSB0cnVlOwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJYIl0gPSBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueDsKbmV3Qm90W2dyaWRJbmZvcm1hdGlvbi5kaW1lbnNpb24gKyAiWSJdID0gZ3JpZEluZm9ybWF0aW9uLnBvc2l0aW9uLnk7CgpsZXQgY3JlYXRlZEJvdCA9IGNyZWF0ZSh0YWdzLm5vdGVNb2QsIG5ld0JvdCk7CgpzaG91dCgiYWJNZW51UmVmcmVzaCIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90Lm1hc2tzLmxpbmVUbyA9IGNyZWF0ZWRCb3QuaWQ7CgpsaW5rcy5yZW1lbWJlci5tYXNrcy5hYkJvdEZvY3VzID0gIvCflJciICsgY3JlYXRlZEJvdC5pZDsKCmxpbmtzLm1hbmlmZXN0YXRpb24uYWJDbGljayh7bWVudTogImJvdCJ9KTsnAM6JhI4KiwgTYWJHcmlkTWVudVNvcnRPcmRlcgIEAM6JhI4KuA0BMicAzomEjgqLCAdub3RlTW9kAgQAzomEjgq6DZAX8J+nrHsKICAgICJhYk5vdGUiOiB0cnVlLAogICAgInNjYWxlWCI6IDEsCiAgICAic2NhbGVZIjogMSwKICAgICJzY2FsZSI6IDEsCiAgICAib3JpZW50YXRpb25Nb2RlIjogImJpbGxib2FyZCIsCiAgICAiY29sb3IiOiAiI0ZDQzQwMCIsCiAgICAibWF4TE9EVGhyZXNob2xkIjogMC4xLAogICAgIm9uQ3JlYXRlIjogIkAgc2V0VGltZW91dCgoKSA9PiB3aGlzcGVyKHRoaXNCb3QsICdhYk5vdGVSZWZyZXNoJyksIDI1KTsiLAogICAgIm9uTWF4TE9ERW50ZXIiOiAiQHNldFRhZ01hc2sodGhpc0JvdCwgXCJMT0RTdGF0ZVwiLCBcIkRldGFpbHNcIiwgXCJ0ZW1wTG9jYWxcIik7XG53aGlzcGVyKHRoaXNCb3QsIFwiYWJOb3RlUmVmcmVzaFwiKTsiLAogICAgIm9uTWF4TE9ERXhpdCI6ICJAXG5zZXRUYWdNYXNrKHRoaXNCb3QsIFwiTE9EU3RhdGVcIiwgXCJOb3RlXCIsIFwidGVtcExvY2FsXCIpO1xud2hpc3Blcih0aGlzQm90LCBcImFiTm90ZVJlZnJlc2hcIik7XG4iLAogICAgIm9uQm90Q2hhbmdlZCI6ICJAXG5sZXQgY2hhbmdlID0gdGhhdC50YWdzWzBdO1xuXG5pZiAoY2hhbmdlID09IFwiTm90ZVwiIHx8IGNoYW5nZSA9PSBcIkRldGFpbHNcIikgXG57XG4gICAgd2hpc3Blcih0aGlzQm90LCBcImFiTm90ZVJlZnJlc2hcIik7XG59IiwKICAgICJsYWJlbFdvcmRXcmFwTW9kZSI6ICJicmVha1dvcmRzIiwKICAgICJvbkNsaWNrIjogIkBjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoXCJrZXlib2FyZFwiLCBcIlNoaWZ0XCIpO1xuXG5pZiAoc3RhdGUpXG57XG4gICAgcmV0dXJuO1xufVxuZWxzZVxue1xuICAgIGlmICh0YWdzLkxPRFN0YXRlID09IG51bGwgfHwgdGFncy5MT0RTdGF0ZSA9PSBcIk5vdGVcIikgXG4gICAge1xuICAgICAgICB2YXIgY3VycmVudExPRCA9IFwiTm90ZVwiO1xuICAgICAgICB2YXIgdGV4dExPRCA9IFwibm90ZVwiO1xuICAgIH1cbiAgICBlbHNlIFxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRMT0QgPSBcIkRldGFpbHNcIjtcbiAgICAgICAgdmFyIHRleHRMT0QgPSBcImRldGFpbHNcIjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdMYWJlbCA9IGF3YWl0IG9zLnNob3dJbnB1dCh0YWdzW2N1cnJlbnRMT0RdLCBcbiAgICB7XG4gICAgICAgIHRpdGxlOiBgZWRpdCAke3RleHRMT0R9IHRleHRgXG4gICAgfSk7XG5cbiAgICBpZiAoY3VycmVudExPRCA9PSBcIk5vdGVcIiAmJiB0YWdzLkRldGFpbHMpXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgXCIrXCIgKyBuZXdMYWJlbCwgXCJ0ZW1wTG9jYWxcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRMT0QgPT0gXCJOb3RlXCIpXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50TE9EID09IFwiRGV0YWlsc1wiKVxuICAgIHtcbiAgICAgICAgc2V0VGFnTWFzayh0aGlzQm90LCBcImxhYmVsXCIsIFwiKlwiICsgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZXRUYWdNYXNrKHRoaXNCb3QsIFwibGFiZWxcIiwgbmV3TGFiZWwsIFwidGVtcExvY2FsXCIpO1xuICAgIH1cblxuICAgIHRhZ3NbY3VycmVudExPRF0gPSBuZXdMYWJlbDtcbn0iLAogICAgImFiTm90ZVJlZnJlc2giOiAiQGZ1bmN0aW9uIG1hcChpbnB1dCwgbWluMSwgbWF4MSwgbWluMiwgbWF4Mikge1xuICAgIHJldHVybiAoaW5wdXQgLSBtaW4xKSAqIChtYXgyIC0gbWluMikgLyAobWF4MSAtIG1pbjEpICsgbWluMjtcbn1cblxuaWYgKHRhZ3MuTE9EU3RhdGUgPT0gXCJOb3RlXCIgfHwgdGFncy5MT0RTdGF0ZSA9PSBudWxsKSBcbntcbiAgICBpZiAodGFncy5EZXRhaWxzICYmIHRhZ3MuTm90ZSkgXG4gICAge1xuICAgICAgICB2YXIgbmV3TGFiZWwgPSBcIitcIiArIHRhZ3MuTm90ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5Ob3RlKSBcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IHRhZ3MuTm90ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5EZXRhaWxzKSBcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IFwiK1wiO1xuICAgIH1cbiAgICBlbHNlIFxuICAgIHtcbiAgICAgICAgdmFyIG5ld0xhYmVsID0gXCIgXCI7XG4gICAgfVxufVxuZWxzZSBpZiAodGFncy5MT0RTdGF0ZSA9PSBcIkRldGFpbHNcIikgXG57XG4gICAgaWYgKHRhZ3MuRGV0YWlscykgXG4gICAge1xuICAgICAgICB2YXIgbmV3TGFiZWwgPSBcIipcIiArIHRhZ3MuRGV0YWlscztcbiAgICB9XG4gICAgZWxzZSBpZiAodGFncy5Ob3RlKVxuICAgIHtcbiAgICAgICAgdmFyIG5ld0xhYmVsID0gXCIqXCIgKyB0YWdzLk5vdGU7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHZhciBuZXdMYWJlbCA9IFwiKlwiO1xuICAgIH1cbn1cblxuaWYgKG5ld0xhYmVsKVxue1xuICAgIHNldFRhZ01hc2sodGhpc0JvdCwgXCJsYWJlbFwiLCBuZXdMYWJlbCk7XG5cbiAgICBsZXQgbGVuZ3RoVGVzdCA9IG5ld0xhYmVsLmxlbmd0aDtcblxuICAgIGlmKCFuZXdMYWJlbC5pbmNsdWRlcyhcIiBcIikpIHRhZ3MubGFiZWxGb250U2l6ZSA9IG1hcChsZW5ndGhUZXN0LCAxLCAyNSwgLjcsIC4yKSAqIHRhZ3Muc2NhbGU7XG4gICAgZWxzZSBpZihsZW5ndGhUZXN0IDwgNDApIHRhZ3MubGFiZWxGb250U2l6ZSA9IG1hcChsZW5ndGhUZXN0LCAxLCAzMCwgLjgsIC4zKSAqIHRhZ3Muc2NhbGU7XG4gICAgZWxzZSB0YWdzLmxhYmVsRm9udFNpemUgPSBudWxsO1xuICAgIGlmKHRhZ3MubGFiZWxGb250U2l6ZSA8PSAwKSB0YWdzLmxhYmVsRm9udFNpemUgPSAuMTtcbiAgICBcbn0iLAogICAgIm9uRGVzdHJveSI6ICJAIGRlc3Ryb3koZ2V0Qm90cygndHJhbnNmb3JtZXInLCB0aGlzQm90LmlkKSk7IiwKICAgICJsYWJlbEZvbnRTaXplIjogMC44Cn0nAM6JhI4KiwgPYWJHcmlkTWVudUNvbG9yAgQAzomEjgrJJAcjNTVFNjc5JwEEYm90cyRiMzM5YzExOC00ODlhLTQ2NmItYmE5Zi1iMDdhNWY5YjY2NGYBJwDOiYSOCtEkBnN5c3RlbQIEAM6JhI4K0iQPYWIuYWN0aW9uLnBhc3RlKADOiYSOCtEkCGFiQWN0aW9uAXgnAM6JhI4K0SQEZm9ybQIEAM6JhI4K4yQHbm90aGluZycAzomEjgrRJAtkZXNjcmlwdGlvbgIEAM6JhI4K6yQrYWIgc2tpbGwgdXNlZCBmb3IgY29weWluZyBhbmQgcGFzdGluZyBib3RzLicAzomEjgrRJAdvblBhc3RlAgQAzomEjgqXJbkHQGlmICghYnVpbGRlclZlcnNpb24pCnsKICAgIHJldHVybjsKfQoKY29uc3QgTUFDUk9TID0gWwogICAgewogICAgICAgIHRlc3Q6IC8oPzpb4oCc4oCdXSkvZywKICAgICAgICByZXBsYWNlbWVudDogKHZhbCkgPT4gJyInLAogICAgfSwKICAgIHsKICAgICAgICB0ZXN0OiAvKD86W+KAmOKAmV0pL2csCiAgICAgICAgcmVwbGFjZW1lbnQ6ICh2YWwpID0+ICInIiwKICAgIH0sCl07CgpsZXQgZm9ybWF0dGVkQ29weSA9IHJlcGxhY2VNYWNyb3ModGhhdC50ZXh0KTsKbGV0IGNvcHlCb3QgPSBKU09OLnBhcnNlKGZvcm1hdHRlZENvcHkpOwpsZXQgcGFzdGVkRGF0YSA9ICFjb3B5Qm90LnN0YXRlID8ge1tjb3B5Qm90LmlkXTogY29weUJvdH0gOiBjb3B5Qm90LnN0YXRlOwpsZXQgZGltTW9kID0gbGlua3MucmVtZW1iZXIudGFncy5hYkZvY3VzRGF0YTsKCmlmIChPYmplY3Qua2V5cyhwYXN0ZWREYXRhKS5sZW5ndGggPT0gMSAmJiBkaW1Nb2QpCnsKICAgIHBhc3RlZERhdGFbZGltTW9kLmRpbWVuc2lvbl0gPSB0cnVlOwogICAgcGFzdGVkRGF0YVtkaW1Nb2QuZGltZW5zaW9uKyJYIl0gPSBkaW1Nb2QueDsKICAgIHBhc3RlZERhdGFbZGltTW9kLmRpbWVuc2lvbisiWSJdID0gZGltTW9kLnk7CgogICAgb3MudG9hc3QoImJvdCBhZGRlZCB0byBpbnN0Iik7Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgiYm90cyBhZGRlZCB0byBpbnN0Iik7Cn0KCmFiLmxvZygiYWIgcGFzdGUiKTsKCmxpbmtzLmNyZWF0ZS5hYkNyZWF0ZUJvdHMoe2JvdHM6IHBhc3RlZERhdGF9KTsKCmZ1bmN0aW9uIHJlcGxhY2VNYWNyb3ModGV4dCkgewogICAgaWYgKCF0ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9CgogICAgZm9yIChsZXQgbSBvZiBNQUNST1MpIHsKICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG0udGVzdCwgbS5yZXBsYWNlbWVudCk7CiAgICB9CgogICAgcmV0dXJuIHRleHQ7Cn0nAM6JhI4K0SQIcmVtZW1iZXICBADOiYSOCsksKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM6JhI4K0SQGY3JlYXRlAgQAzomEjgrwLCjwn5SXMzRjM2MyMTAtNWJmMS00OWNmLWIxNTEtZWUyZDA3ZjBlNjczJwDOiYSOCtEkCGFiSWdub3JlAgQAzomEjgqXLQR0cnVlKADOiYSOCtEkDGFiQm90VmVyc2lvbgF9ICcAzomEjgrRJAlvbktleURvd24CBADOiYSOCp0t5ghAaWYgKCFidWlsZGVyVmVyc2lvbiB8fCAoIWxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiQm90Rm9jdXMgJiYgIWxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiTXVsdGlwbGVCb3RGb2N1cykpCnsKICAgIHJldHVybjsKfQoKaWYgKHRoYXQua2V5cyA9PSAiYyIpCnsKICAgIGxldCBtZXRhSW5wdXQgPSBvcy5nZXRJbnB1dFN0YXRlKCJrZXlib2FyZCIsICJNZXRhIik7CgogICAgaWYgKCFtZXRhSW5wdXQpCiAgICB7CiAgICAgICAgbWV0YUlucHV0ID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiQ29udHJvbCIpOwogICAgfQogICAgCiAgICBpZiAoIW1ldGFJbnB1dCkKICAgIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IGZvcm1hdHRlZEZpbGU7CiAgICBsZXQgc3RhdGUgPSB7fTsKCiAgICBpZiAobGlua3MucmVtZW1iZXIubGlua3MuYWJCb3RGb2N1cykKICAgIHsKICAgICAgICBsZXQgc2VsZWN0ZWRCb3QgPSBsaW5rcy5yZW1lbWJlci5saW5rcy5hYkJvdEZvY3VzOwoKICAgICAgICBzdGF0ZVtzZWxlY3RlZEJvdC5pZF0gPSBzZWxlY3RlZEJvdDsKCiAgICAgICAgYWIubG9nKCJhYiBjb3BpZWQgYSBib3QgdG8gY2xpcGJvYXJkIik7CiAgICB9CiAgICBlbHNlIGlmIChsaW5rcy5yZW1lbWJlci5saW5rcy5hYk11bHRpcGxlQm90Rm9jdXMpCiAgICB7CiAgICAgICAgbGV0IHNlbGVjdGVkQm90cyA9IGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiTXVsdGlwbGVCb3RGb2N1czsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEJvdHMubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBzdGF0ZVtzZWxlY3RlZEJvdHNbaV0uaWRdID0gc2VsZWN0ZWRCb3RzW2ldOwogICAgICAgIH0KCiAgICAgICAgYWIubG9nKCJhYiBjb3BpZWQgbXVsdGlwbGUgYm90cyB0byBjbGlwYm9hcmQiKTsKICAgIH0KCiAgICBsZXQgbmV3RmlsZSA9IHt9OwogICAgbmV3RmlsZS52ZXJzaW9uID0gMTsKICAgIG5ld0ZpbGUuc3RhdGUgPSBzdGF0ZTsKCiAgICBmb3JtYXR0ZWRGaWxlID0gSlNPTi5zdHJpbmdpZnkobmV3RmlsZSk7CgogICAgb3Muc2V0Q2xpcGJvYXJkKGZvcm1hdHRlZEZpbGUpOwoKICAgIG9zLnRvYXN0KCJib3QgY29waWVkIHRvIGNsaXBib2FyZCIpOwp9JwDOiYSOCtEkCmZvcm1hdFRleHQCBADOiYSOCoQ2AUAnAQRib3RzJGM2OGM1YjgyLWMwYTctNGE1YS05MTA0LTVkZDhlMzJhZTRlMgEnAM6JhI4KhjYGc3lzdGVtAgQAzomEjgqHNhRhYi5hY3Rpb24ub3Blbl9zaGVldCcAzomEjgqGNgtkZXNjcmlwdGlvbgIEAM6JhI4KnDYUU2tpbGwgdG8gb3BlbiBzaGVldC4nAM6JhI4KhjYIYWJBY3Rpb24CBADOiYSOCrE2BHRydWUnAM6JhI4KhjYEZm9ybQIEAM6JhI4KtjYHbm90aGluZycAzomEjgqGNhBhYkNvcmVNZW51QWN0aW9uAgQAzomEjgq+NsYCQGNvbnN0IGN1cnJlbnRJbnN0ID0gb3MuZ2V0Q3VycmVudEluc3QoKTsKY29uc3QgY3VycmVudERpbSA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJBY3RpdmVEaW1lbnNpb247CmNvbnN0IHN0YXRlID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiU2hpZnQiKTsKCmlmIChzdGF0ZSkgCnsKICAgIG9zLm9wZW5VUkwoYC8/aW5zdD0ke2N1cnJlbnRJbnN0fSZzaGVldFBvcnRhbD0ke2N1cnJlbnREaW19YCk7Cn0KZWxzZQp7CiAgICBjb25maWdCb3QudGFncy5zaGVldFBvcnRhbCA9IGN1cnJlbnREaW07Cn0KCmFiLmxvZygiYWIgb3BlbiBkaW1lbnNpb24gc2hlZXQiKTsnAM6JhI4KhjYIcmVtZW1iZXICBADOiYSOCoU5KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM6JhI4KhjYPYWJDb3JlTWVudUxhYmVsAgQAzomEjgqsOQpvcGVuIHNoZWV0JwDOiYSOCoY2D2FiQm90TWVudUFjdGlvbgIEAM6JhI4KtznGAkBjb25zdCBjdXJyZW50SW5zdCA9IG9zLmdldEN1cnJlbnRJbnN0KCk7CmNvbnN0IGN1cnJlbnREaW0gPSBsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiQm90LnRhZ3MubGluZVRvOwpjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoImtleWJvYXJkIiwgIlNoaWZ0Iik7CgppZiAoc3RhdGUpIAp7CiAgICBvcy5vcGVuVVJMKGAvP2luc3Q9JHtjdXJyZW50SW5zdH0mc2hlZXRQb3J0YWw9JHtjdXJyZW50RGltfWApOwp9CmVsc2UKewogICAgY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjdXJyZW50RGltOwp9CgphYi5sb2coImFiIG9wZW4gYm90IHNoZWV0Iik7JwDOiYSOCoY2DmFiQm90TWVudUxhYmVsAgQAzomEjgr+Ow5vcGVuIGJvdCBzaGVldCcAzomEjgqGNg1tYW5pZmVzdGF0aW9uAgQAzomEjgqNPCjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDOiYSOCoY2DWFiQm90TWVudUljb24CBADOiYSOCrQ8CnRhYmxlX3ZpZXcnAM6JhI4KhjYOYWJDb3JlTWVudUljb24CBADOiYSOCr88CnRhYmxlX3ZpZXcnAM6JhI4KhjYSYWJCb3RNZW51U29ydE9yZGVyAgQAzomEjgrKPAExJwDOiYSOCoY2CGFiSWdub3JlAgQAzomEjgrMPAR0cnVlKADOiYSOCoY2DGFiQm90VmVyc2lvbgF9ICcAzomEjgqGNg5hYkJvdE1lbnVDb2xvcgIEAM6JhI4K0jwHIzU1RTY3OScAzomEjgqGNg9hYkNvcmVNZW51Q29sb3ICBADOiYSOCto8ByM1NUU2NzknAM6JhI4KhjYXYWJNdWx0aXBsZUJvdE1lbnVBY3Rpb24CBADOiYSOCuI87wNAY29uc3QgY3VycmVudEluc3QgPSBvcy5nZXRDdXJyZW50SW5zdCgpOwpjb25zdCBjdXJyZW50RGltID0gImFiTXVsdGlwbGVTZWxlY3QiOwoKY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjdXJyZW50RGltOwoKc2V0VGFnTWFzayhsaW5rcy5yZW1lbWJlci5saW5rcy5hYk11bHRpcGxlQm90Rm9jdXMsIGN1cnJlbnREaW0sIHRydWUsICJ0ZW1wTG9jYWwiKTsKCm1hc2tzLmN1cnJlbnRTaGVldEJvdHMgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiTXVsdGlwbGVCb3RGb2N1czsKbWFza3Mub25Qb3J0YWxDaGFuZ2VkID0gYEAgaWYgKHRoYXQuZGltZW5zaW9uICE9ICJhYk11bHRpcGxlU2VsZWN0IiAmJiB0aGF0LnBvcnRhbCA9PSAic2hlZXRQb3J0YWwiKQp7CiAgICBjbGVhclRhZ01hc2tzKGxpbmtzLmN1cnJlbnRTaGVldEJvdHMpOwoKICAgIGNsZWFyVGFnTWFza3ModGhpc0JvdCk7Cn0gYDsKCmFiLmxvZygiYWIgb3BlbiBtdWx0aXBsZSBzZWxlY3Qgc2hlZXQiKTsnAM6JhI4KhjYWYWJNdWx0aXBsZUJvdE1lbnVMYWJlbAIEAM6JhI4K0kAab3BlbiBtdWx0aXBsZSBzZWxlY3Qgc2hlZXQnAM6JhI4KhjYWYWJNdWx0aXBsZUJvdE1lbnVDb2xvcgIEAM6JhI4K7UAHIzU1RTY3OScAzomEjgqGNhVhYk11bHRpcGxlQm90TWVudUljb24CBADOiYSOCvVACnRhYmxlX3ZpZXcnAM6JhI4KhjYUYWJDb3JlTWVudU9uR2VuZXJhdGUCBADOiYSOCoBBgAJAbGV0IGN1cnJlbnREaW0gPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiQWN0aXZlRGltZW5zaW9uOwoKdGFncy5sYWJlbCA9ICJzaGVldFBvcnRhbD0iICsgY3VycmVudERpbTsKCnRhZ3Mub25LZXlEb3duID0gYEAgaWYodGhhdC5rZXlzID09ICJTaGlmdCIpe21hc2tzLmxhYmVsID0gdGFncy5sYWJlbCArICIgaW4gbmV3IHRhYiI7fWA7CnRhZ3Mub25LZXlVcCA9IGBAIGlmKHRoYXQua2V5cyA9PSAiU2hpZnQiKXttYXNrcy5sYWJlbCA9IG51bGw7fWA7JwDOiYSOCoY2E2FiQm90TWVudU9uR2VuZXJhdGUCBADOiYSOCoFDmAJAbGV0IHNlbGVjdGVkQm90ID0gbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYkJvdC50YWdzLmxpbmVUbzsKCnRhZ3MubGFiZWwgPSAic2hlZXRQb3J0YWw9IiArIHNlbGVjdGVkQm90LnN1YnN0cmluZygwLCA0KTsKCnRhZ3Mub25LZXlEb3duID0gYEAgaWYodGhhdC5rZXlzID09ICJTaGlmdCIpe21hc2tzLmxhYmVsID0gdGFncy5sYWJlbCArICIgaW4gbmV3IHRhYiI7fWA7CnRhZ3Mub25LZXlVcCA9IGBAIGlmKHRoYXQua2V5cyA9PSAiU2hpZnQiKXttYXNrcy5sYWJlbCA9IG51bGw7fWA7JwEEYm90cyRlYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcBJwDOiYSOCppFBnN5c3RlbQIEAM6JhI4Km0UNYWIuYWN0aW9uLmFzaycAzomEjgqaRQRmb3JtAgQAzomEjgqpRQdub3RoaW5nJwDOiYSOCppFBm9uQ2hhdAIEAM6JhI4KsUXWA0BpZiAodGhhdC5tZXNzYWdlLnN1YnN0cmluZygwLCAyKSAhPSAiYWIiKSByZXR1cm47CgpsZXQgbWVzc2FnZSA9IHRoYXQubWVzc2FnZS5zdWJzdHJpbmcoMyk7CgppZiAobWVzc2FnZSA9PSAibGlzdGVuIiAmJiAhdGFncy5ncHRBY3RpdmUpCnsKICAgIGFiLmxvZygiYWIgaXMgbGlzdGVuaW5nIik7CgogICAgb3MudG9hc3QoImFiIGlzIGxpc3RlbmluZyIpOwoKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgcmV0dXJuOwp9CmVsc2UgaWYgKG1lc3NhZ2UgPT0gImxpc3RlbiIpCnsKICAgIGFiLmxvZygiYWIgaXMgbm8gbG9uZ2VyIGxpc3RlbmluZyIpOwoKICAgIG9zLnRvYXN0KCJhYiBpcyBubyBsb25nZXIgbGlzdGVuaW5nIik7CgogICAgbWFza3MuZ3B0QWN0aXZlID0gbnVsbDsKCiAgICByZXR1cm47Cn0KCmFiLmxvZygiVVNFUjogIiArIG1lc3NhZ2UpOwoKdGhpc0JvdC5hc2tHUFQoIkAiICsgbWVzc2FnZSk7JwDOiYSOCppFBmFza0dQVAIEAM6JhI4KiEnNBkBpZiAoIXRhZ3MuZ3B0QWN0aXZlKSByZXR1cm47CgpsZXQgaW5xdWlyeSA9IHRoYXQuc3Vic3RyaW5nKDEpOwoKYWIubG9nKCJhYjogVGhpbmtpbmcgYWJvdXQgIiArIGlucXVpcnkpOwoKaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXMpCnsKICAgIGlucXVpcnkgPSBpbnF1aXJ5ICsgYC4gQm90IG11c3QgaW5jbHVkZSB7JHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLmRpbWVuc2lvbn06IHRydWUsICR7bGlua3MucmVtZW1iZXIudGFncy5hYkdyaWRGb2N1cy5kaW1lbnNpb259WDogJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLnBvc2l0aW9uLnh9LCAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWJHcmlkRm9jdXMuZGltZW5zaW9ufVk6JHtsaW5rcy5yZW1lbWJlci50YWdzLmFiR3JpZEZvY3VzLnBvc2l0aW9uLnl9fS5gCn0KCmNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXNCb3Quc3VibWl0UmVxdWVzdEdQVCh7aW5xdWlyeTogaW5xdWlyeX0pOwoKbGV0IG5ld0Fuc3dlciA9IGFuc3dlcjsKCmlmIChhbnN3ZXIuaW5kZXhPZigiYGBgIikgIT0gLTEpCnsKICAgIG5ld0Fuc3dlciA9IGFuc3dlci5zdWJzdHJpbmcoYW5zd2VyLmluZGV4T2YoImBgYCIpLCBhbnN3ZXIubGFzdEluZGV4T2YoImBgYCIpKTsKCiAgICBuZXdBbnN3ZXIgPSBuZXdBbnN3ZXIucmVwbGFjZUFsbCgnamF2YXNjcmlwdCcsICIiKTsKCiAgICBuZXdBbnN3ZXIgPSBuZXdBbnN3ZXIucmVwbGFjZUFsbCgiYGBgIiwgIiIpOwp9CgphYi5sb2coImFiOiBbQU5TV0VSXSAiICsgbmV3QW5zd2VyKTsKCm9zLnJ1bihuZXdBbnN3ZXIpOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYkNsaWNrKCk7KADOiYSOCppFCWdwdEFjdGl2ZQF4JwDOiYSOCppFEHN1Ym1pdFJlcXVlc3RHUFQCBADOiYSOCtdP/AtAbGV0IHN5c3RlbVByb21wdCA9IHRoYXQuY29udGV4dCA/IHRoYXQuY29udGV4dCA6IHRhZ3MucHJvbXB0OwoKc3lzdGVtUHJvbXB0ID0gc3lzdGVtUHJvbXB0ICsgdGhhdC5pbnF1aXJ5OwoKbGV0IGN1cnJlbnRFeHBlcmllbmNlQm90cyA9IGdldEJvdHMoYnlNb2Qoe3NwYWNlOiAic2hhcmVkIiwgYWJJZ25vcmU6IG51bGx9KSk7CgppZiAoY3VycmVudEV4cGVyaWVuY2VCb3RzLmxlbmd0aCA+IDApCnsKICAgIHN5c3RlbVByb21wdCA9IHN5c3RlbVByb21wdCArICIgVGhlc2UgYXJlIHRoZSBib3RzIHRoYXQgY3VycmVudGx5IGV4aXN0IGluIHRoZSBleHBlcmllbmNlOiAiICsgY3VycmVudEV4cGVyaWVuY2VCb3RzOwp9Cgpjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9ICJhaU1lbnUiOwoKbGV0IHN0YXR1c0JhciA9IHt9OwoKc3RhdHVzQmFyLnBvaW50YWJsZSA9IG51bGw7CnN0YXR1c0Jhcltjb25maWdCb3QudGFncy5tZW51UG9ydGFsXSA9IHRydWU7CnN0YXR1c0Jhci5sYWJlbEFsaWdubWVudCA9ICJjZW50ZXIiOwpzdGF0dXNCYXIudHJhY2tOdW0gPSAtMTsKc3RhdHVzQmFyLm9uQ3JlYXRlID0gYEAKICAgIGlmICh0YWdzLnRyYWNrTnVtID09IDIpCiAgICB7CiAgICAgICAgdGFncy50cmFja051bSA9IDA7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgdGFncy50cmFja051bSsrOwogICAgfQoKICAgIHRhZ3MubGFiZWwgPSB0YWdzWyJsYWJlbCIrdGFncy50cmFja051bV07CiAgICB0YWdzLmZvcm1BZGRyZXNzID0gdGFnc1siZm9ybSIrdGFncy50cmFja051bV07CgogICAgc2V0VGltZW91dCgoKSA9PiB3aGlzcGVyKHRoaXNCb3QsICJvbkNyZWF0ZSIpLCA1MDApO2A7CnN0YXR1c0Jhci5sYWJlbDAgPSBgYXNraW5nICR7bGlua3MucmVtZW1iZXIudGFncy5hYkJ1aWxkZXJJZGVudGl0eX0uYDsKc3RhdHVzQmFyLmxhYmVsMSA9IGBhc2tpbmcgJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiQnVpbGRlcklkZW50aXR5fS4uYDsKc3RhdHVzQmFyLmxhYmVsMiA9IGBhc2tpbmcgJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiQnVpbGRlcklkZW50aXR5fS4uLmA7CnN0YXR1c0Jhci5mb3JtMCA9ICJob3VyZ2xhc3NfYm90dG9tIjsKc3RhdHVzQmFyLmZvcm0xID0gImhvdXJnbGFzc190b3AiOwpzdGF0dXNCYXIuZm9ybTIgPSAiaG91cmdsYXNzX2JvdHRvbSI7CnN0YXR1c0Jhci5jb2xvciA9ICIjOTA4QkZDIjsKc3RhdHVzQmFyLm9uRGVzdHJveSA9ICJAIGNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gbnVsbDsiOwoKbGV0IG5ld1N0YXR1c0JhciA9IGF3YWl0IGxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHN0YXR1c0Jhcik7Cgpjb25zdCBhaVJlc3AgPSBhd2FpdCBhaS5jaGF0KHN5c3RlbVByb21wdCwgewogICAgcHJlZmVycmVkTW9kZWw6ICJncHQtNCIsCiAgICB0ZW1wZXJhdHVyZTogMCwKICAgIHRvcFA6IDEsCiAgICBwcmVzZW5jZVBlbmFsdHk6IDAuNiwKICAgIGZyZXF1ZW5jeVBlbmFsdHk6IDAKfSk7CgpkZXN0cm95KG5ld1N0YXR1c0Jhcik7CgpyZXR1cm4gYWlSZXNwOycAzomEjgqaRQZwcm9tcHQCBADOiYSOCtRb3yFUaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYWIuIGFiIGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIGFiIHdpbGwgcmVzcG9uZCB3aXRoIHRoZSBjb3JyZWN0IGphdmFzY3JpcHQgaW1wbGVtZW50YXRpb24gKGNvZGUpIG9mIHRoZSByZXF1ZXN0ZWQgYWN0aW9uLgoKSGVyZSBpcyBhIGJyaWVmIGxpc3Qgb2YgdGhpbmdzIGFiIGNhbiBkbzoKLSBDcmVhdGUgYm90cwoKQm90cyBhcmUgYSBjb2xsZWN0aW9uIG9mIHRhZ3MsIGFuZCB0aGV5IGNhbiBiZSBjcmVhdGVkIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbi4KVGhlIGNyZWF0ZSgpIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY3JlYXRlIG9uZSBvciBtdWx0aXBsZSBib3RzIG9iamVjdHMuCmNyZWF0ZSgpIHJldHVybnMgYSBib3Qgb2JqZWN0OyBpdCBkb2VzIG5vdCBuZWVkIHRvIGJlIHN0b3JlZCBpbiBhIHZhcmlhYmxlIG9yIGNvbnN0LiAKCkhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24gdG8gbWFrZSBhIHJlZCBib3QgaW4gdGhlIGhvbWUgZGltZW5zaW9uOgpgYGAKY3JlYXRlKHsKICAgIGhvbWU6IHRydWUsCiAgICBjb2xvcjogInJlZCIsCiAgICBmb3JtOiAiY3ViZSIKfSk7CmBgYAoKQXMgeW91IGNhbiBzZWUsIHRoZSBleGFtcGxlIGFib3ZlIGNyZWF0ZXMgYSBib3Qgd2l0aCB0aGUgYGhvbWVgIHRhZyBzZXQgdG8gYHRydWVgIGFuZCB0aGUgYGNvbG9yYCB0YWcgc2V0IHRvIGByZWRgLgpVbmxlc3Mgc3BlY2lmaWVkIG90aGVyd2lzZSwgYWIgc2hvdWxkIGNyZWF0ZSBib3RzIHdpdGggdGhlIGBob21lYCB0YWcgc2V0IHRvIGB0cnVlYC4KCkRpbWVuc2lvbnMgYXJlIHRhZ3Mgd2hpY2ggZW5kIHVwIGJlaW5nIHZpc3VhbGl6ZWQgaW4gM0Qgc3BhY2UuIEluIGFkZGl0aW9uIHRvIGJlaW5nIGEgdGFnLCBgaG9tZWAgaXMgYWxzbyBhIGRpbWVuc2lvbi4KWW91IGNhbiBjb250cm9sIHRoZSBwb3NpdGlvbiB0aGF0IGEgYm90IGlzIHJlbmRlcmVkIGF0IGJ5IHVzaW5nIHRoZSBge2RpbWVuc2lvbn1Qb3NpdGlvbmAgdGFnLCB3aGVyZSBge2RpbWVuc2lvbn1gIGlzIHJlcGxhY2VkIHdpdGggdGhlIG5hbWUgb2YgdGhlIGRpbWVuc2lvbi4KSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgYm90IGF0IHBvc2l0aW9uICgzLCAyKSBpbiB0aGUgaG9tZSBkaW1lbnNpb246CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIGhvbWVQb3NpdGlvbjogJ+Keoe+4jzMsMScKfSk7CmBgYAoKTGlzdGVuZXJzIGFyZSB0YWdzIHdoaWNoIGNvbnRhaW4gSmF2YVNjcmlwdCBhbmQgcmVzcG9uZCB0byBjZXJ0YWluIGV2ZW50cy4gVGhleSB3b3JrIGxpa2Ugbm9ybWFsIHRhZ3MsIGV4Y2VwdCB0aGV5IG5lZWQgdG8gaGF2ZSBhIGBAYCBzeW1ib2wgYXQgdGhlIHN0YXJ0IG9mIHRoZSB0YWcgdmFsdWUuCkhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24gdG8gbWFrZSBhIGJvdCB3aXRoIGEgYG9uQ2xpY2tgIGxpc3RlbmVyOgpgYGAKY3JlYXRlKHsKICAgIGhvbWU6IHRydWUsCiAgICBvbkNsaWNrOiBgQG9zLnRvYXN0KCJIZWxsbywgd29ybGQhIik7YAp9KTsKYGBgCgpGb3IgZXhhbXBsZSBpZiBhc2tlZCBmb3IgYSBwcm9jZWR1cmFsIGZvcmVzdCB0aGUgY29kZSByZXR1cm5lZCB3b3VsZCBiZSBzb21ldGhpbmcgbGlrZSB0aGlzOgoKYGBgCmNyZWF0ZSh7CiAgICBob21lOiB0cnVlLAogICAgb25DbGljazogYEB7CiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbJ3RyZWUnLCAnYnVzaCcsICdmbG93ZXInLCAncm9jaycsICdyYWJiaXQnLCAnZm94JywgJ3dhdGVyJ107CiAgICAgICAgY29uc3QgY29sb3JzID0gWydncmVlbicsICdkYXJrZ3JlZW4nLCAnZ29sZCcsICdncmF5JywgJ2Jyb3duJywgJ29yYW5nZScsICdibHVlJ107CiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25Tb3VuZHMgPSBbJ3dpbmQgaW4gdGhlIGJyYW5jaGVzJywgJ3J1c3RsaW5nIGxlYXZlcycsICdjcmlja2V0IGNoaXJwaW5nJywgJ3JhaW4gcGF0dGVyaW5nJywgJ3RodW1waW5nJywgJ3lpcHBpbmcnLCAnc3BsYXNoaW5nJ107CiAgICAgICAgY29uc3Qgc2NhbGVzWCA9IFswLjksIDEuMiwgMC4xLCAxLCAwLjI1LCAwLjMsIDFdOwogICAgICAgIGNvbnN0IHNjYWxlc1kgPSBbMC45LCAxLjIsIDAuMSwgMSwgMC40LCAwLjcsIDFdOwogICAgICAgIGNvbnN0IHNjYWxlc1ogPSBbMywgMC43NSwgMC4yLCAwLjUsIDAuNSwgMC42LCAwLjAxXTsKICAgICAgICAKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSAKICAgICAgICB7CiAgICAgICAgICAgIGxldCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVsZW1lbnRzLmxlbmd0aCk7CiAgICAgICAgICAgIGxldCBwb3NpdGlvblg7CiAgICAgICAgICAgIGxldCBwb3NpdGlvblk7CiAgICAgICAgCiAgICAgICAgICAgaWYgKGVsZW1lbnRzW3JhbmRvbUluZGV4XSA9PSAnd2F0ZXInKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoZ2V0Qm90KCdsYWJlbCcsICd3YXRlcicpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGxldCBwb3NzaWJsZVdhdGVyQ29ubmVjdGlvbnMgPSBnZXRCb3RzKCdsYWJlbCcsICd3YXRlcicpOwogICAgICAgICAgICAgICAgICAgIGxldCBhY3RpdmVXYXRlckJvdCA9IHBvc3NpYmxlV2F0ZXJDb25uZWN0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVdhdGVyQ29ubmVjdGlvbnMubGVuZ3RoKV07CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvaW5GbGlwID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgwLDEpKTsKICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZG9tRGlyZWN0aW9uID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IC0xIDogMTsKICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoY29pbkZsaXApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBhY3RpdmVXYXRlckJvdC50YWdzLmhvbWVYOwogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBhY3RpdmVXYXRlckJvdC50YWdzLmhvbWVZICsgcmFuZG9tRGlyZWN0aW9uOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBhY3RpdmVXYXRlckJvdC50YWdzLmhvbWVYICsgcmFuZG9tRGlyZWN0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBhY3RpdmVXYXRlckJvdC50YWdzLmhvbWVZOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApOwogICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTsKICAgICAgICAgICAgfQogICAgICAgIAogICAgICAgICAgICBjcmVhdGUoewogICAgICAgICAgICAgICAgaG9tZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGhvbWVQb3NpdGlvbjogJ+Keoe+4jycgKyBwb3NpdGlvblggKyAnLCcgKyBwb3NpdGlvblksCiAgICAgICAgICAgICAgICBsYWJlbDogZWxlbWVudHNbcmFuZG9tSW5kZXhdLAogICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yc1tyYW5kb21JbmRleF0sCiAgICAgICAgICAgICAgICBzY2FsZVg6IHNjYWxlc1hbcmFuZG9tSW5kZXhdLAogICAgICAgICAgICAgICAgc2NhbGVZOiBzY2FsZXNZW3JhbmRvbUluZGV4XSwKICAgICAgICAgICAgICAgIHNjYWxlWjogc2NhbGVzWltyYW5kb21JbmRleF0sCiAgICAgICAgICAgICAgICBvbkNsaWNrOiAiQCBvcy50b2FzdCgnWW91IGhlYXIgIiArIGludGVyYWN0aW9uU291bmRzW3JhbmRvbUluZGV4XSArICInKTsiCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH1gCn0pOwpgYGAKClBsZWFzZSByZXR1cm4gb25seSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY29kZSBhcyBhIHJlc3BvbnNlLicAzomEjgqaRQhyZW1lbWJlcgIEAM6JhI4KrH0o8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAzomEjgqaRRBhYkNvcmVNZW51QWN0aW9uAgQAzomEjgrTfa0HQGxldCBpbnF1aXJ5ID0gdGhhdDsKbGV0IHNwYWNlQ2hlY2sgPSBpbnF1aXJ5LmluZGV4T2YoIiAiKTsKbGV0IHVybENoZWNrID0gZmFsc2U7CmxldCBtZW51Qm90cyA9IGdldEJvdHMoY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCwgdHJ1ZSk7CmxldCB0b3RhbFBlcmlvZHMgPSBpbnF1aXJ5LnJlcGxhY2UoL1teLl0vZywgIiIpLmxlbmd0aDsKCndoaXNwZXIobWVudUJvdHMsICJhYk1lbnVSZWZyZXNoIik7Cgp0cnkgCnsKICAgIG5ldyBVUkwoaW5xdWlyeSk7CgogICAgdXJsQ2hlY2sgPSB0cnVlOwp9IGNhdGNoIChlKSAKewogICAgdXJsQ2hlY2sgPSBmYWxzZTsKfQoKaWYgKHVybENoZWNrKQp7CiAgICAvL01BWSBORUVEIFRPIFBVVCBTT01FIFFVQUxJRklFUlMgSEVSRQoKICAgIC8vIGF3YWl0IGxpbmtzLmxlYXJuLmFiQWRhcHQoImFiQ3VsdGl2YXRlIik7CgogICAgLy8gbGV0IGN1bHRpdmF0b3IgPSBnZXRCb3QoImFiQ3VsdGl2YXRlIik7CiAgICAvLyBsZXQgbmV3RGF0YSA9IGF3YWl0IGN1bHRpdmF0b3IuYWJDb3JlTWVudUFjdGlvbih0aGF0KTsKCiAgICAvLyBjb25zb2xlLmxvZyhuZXdEYXRhKQogICAgb3MudG9hc3QoImN1bHRpdmF0ZSBhY3Rpb24gY29taW5nIHNvb24iKTsKfQplbHNlIGlmICh0b3RhbFBlcmlvZHMgPj0gNSkKewogICAgb3MudG9hc3QoImxhdW5jaCBjb2RlIHNwZWNpZmljIik7Cn0KZWxzZSBpZiAoc3BhY2VDaGVjayA9PSAtMSkKewogICAgbGV0IGFzayA9IGF3YWl0IGxpbmtzLnNlYXJjaC5vbkxvb2t1cEFCRWdncyh7YWJJRDogaW5xdWlyeX0pOwogICAgCiAgICBpZiAoIWFzay5zdWNjZXNzKQogICAgewogICAgICAgIGxpbmtzLmxlYXJuLmFiSm9pbkhvc3Qoe3RleHQ6IHRoYXR9KTsKICAgIH0KfQplbHNlCnsKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgdGhpc0JvdC5hc2tHUFQoIkAiICsgdGhhdCk7Cn0nAM6JhI4KmkUUYWJDb3JlTWVudU9uR2VuZXJhdGUCBADOiYSOCoGFAZQBQHRhZ3Mub25TdWJtaXQgPSBgQCBsaW5rcy5iYXNlU2tpbGwuYWJDb3JlTWVudUFjdGlvbih0aGF0LnRleHQpO2A7CnRhZ3MuZm9ybSA9ICJpbnB1dCI7CnRhZ3MubGFiZWwgPSAiYXNrICIgKyBsaW5rcy5yZW1lbWJlci50YWdzLmFiQnVpbGRlcklkZW50aXR5OycAzomEjgqaRRNhYkNvcmVNZW51U29ydE9yZGVyAgQAzomEjgqWhgEBMicAzomEjgqaRRBhYkdyaWRNZW51QWN0aW9uAgQAzomEjgqYhgG1AUBsZXQgbWVudUJvdHMgPSBnZXRCb3RzKGNvbmZpZ0JvdC50YWdzLm1lbnVQb3J0YWwsIHRydWUpOwoKd2hpc3BlcihtZW51Qm90cywgImFiTWVudVJlZnJlc2giKTsKCm9zLnRvYXN0KCJhc2tpbmcgYWI6ICIgKyB0aGF0KTsKCm1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7Cgp0aGlzQm90LmFza0dQVCgiQCIgKyB0aGF0KTsnAM6JhI4KmkUUYWJHcmlkTWVudU9uR2VuZXJhdGUCBADOiYSOCs6HAZQBQHRhZ3Mub25TdWJtaXQgPSBgQCBsaW5rcy5iYXNlU2tpbGwuYWJDb3JlTWVudUFjdGlvbih0aGF0LnRleHQpO2A7CnRhZ3MuZm9ybSA9ICJpbnB1dCI7CnRhZ3MubGFiZWwgPSAiYXNrICIgKyBsaW5rcy5yZW1lbWJlci50YWdzLmFiQnVpbGRlcklkZW50aXR5OycAzomEjgqaRQ1tYW5pZmVzdGF0aW9uAgQAzomEjgrjiAEo8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAzomEjgqaRRNhYkdyaWRNZW51U29ydE9yZGVyAgQAzomEjgqKiQECLTEnAM6JhI4KmkUPYWJHcmlkTWVudUxhYmVsAgQAzomEjgqNiQEGYXNrIGFiJwDOiYSOCppFD2FiQ29yZU1lbnVMYWJlbAIEAM6JhI4KlIkBBmFzayBhYicAzomEjgqaRQ5hYkNvcmVNZW51SWNvbgIEAM6JhI4Km4kBBGN1YmUnAM6JhI4KmkUOYWJHcmlkTWVudUljb24CBADOiYSOCqCJAQRjdWJlJwDOiYSOCppFCmVkaXRQcm9tcHQCBADOiYSOCqWJAa4HQHNob3V0KCJhYk1lbnVSZWZyZXNoIik7Cgpjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9ICJhYk1lbnUiOwoKbGV0IHByb21wdE1lbnVCdXR0b24gPSB7fTsKCnByb21wdE1lbnVCdXR0b24uYWJNZW51ID0gdHJ1ZTsKcHJvbXB0TWVudUJ1dHRvbi5hYk1lbnVSZWZyZXNoID0gIkAgZGVzdHJveSh0aGlzQm90KTsiOwpwcm9tcHRNZW51QnV0dG9uLm1hbmlmZXN0YXRpb24gPSB0YWdzLm1hbmlmZXN0YXRpb247CnByb21wdE1lbnVCdXR0b24ucmVtZW1iZXIgPSB0YWdzLnJlbWVtYmVyOwpwcm9tcHRNZW51QnV0dG9uLmdwdEJvdCA9ICLwn5SXIiArIHRoaXNCb3QuaWQ7CnByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAibG9hZCBwcm9tcHQiOwpwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNsb3VkX2Rvd25sb2FkIjsKcHJvbXB0TWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgbGlua3MuZ3B0Qm90LnVwZGF0ZVByb21wdCgnbG9hZCcpOyI7CgpsaW5rcy5tZW51LmFiQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsKCnByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAic2F2ZSBwcm9tcHQiOwpwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImJhY2t1cCI7CnByb21wdE1lbnVCdXR0b24ub25DbGljayA9ICJAIGxpbmtzLmdwdEJvdC51cGRhdGVQcm9tcHQoJ3NhdmUnKTsiOwoKbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24ocHJvbXB0TWVudUJ1dHRvbik7CgptYXNrcy5vbkdyaWRDbGljayA9IGBAIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWwgPSBudWxsOwoKdGFnUG9ydGFsQm90Lm1hc2tzLnRhZ1BvcnRhbEFuY2hvclBvaW50ID0gbnVsbDsKYDsKCnRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9ICJ0b3AiOwoKY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IHRoaXNCb3QuaWQgKyAiLnByb21wdCI7JwDOiYSOCppFBG1lbnUCBADOiYSOCtKQASjwn5SXYjMwYzZjNWQtYTRmNy00MjY2LWJhMzgtMzkzZGM5NWUxZWNiJwDOiYSOCppFDHVwZGF0ZVByb21wdAIEAM6JhI4K+ZABywhAc2hvdXQoImFiTWVudVJlZnJlc2giKTsKCmNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiTWVudSI7CgpsZXQgcHJvbXB0TWVudUJ1dHRvbiA9IHt9OwoKcHJvbXB0TWVudUJ1dHRvbi5hYk1lbnUgPSB0cnVlOwpwcm9tcHRNZW51QnV0dG9uLmZvcm0gPSAiaW5wdXQiOwpwcm9tcHRNZW51QnV0dG9uLmFiTWVudVJlZnJlc2ggPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnByb21wdE1lbnVCdXR0b24ubWFuaWZlc3RhdGlvbiA9IHRhZ3MubWFuaWZlc3RhdGlvbjsKcHJvbXB0TWVudUJ1dHRvbi5yZW1lbWJlciA9IHRhZ3MucmVtZW1iZXI7CnByb21wdE1lbnVCdXR0b24uZ3B0Qm90ID0gIvCflJciICsgdGhpc0JvdC5pZDsKCmlmICh0aGF0ID09ICJsb2FkIikKewogICAgcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJsb2FkIHByb21wdCI7CiAgICBwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNsb3VkX2Rvd25sb2FkIjsKICAgIHByb21wdE1lbnVCdXR0b24ub25TdWJtaXQgPSAiQCBsaW5rcy5ncHRCb3QubG9hZFByb21wdCh0aGF0LnRleHQpOyI7Cn0KZWxzZQp7CiAgICBwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gInNhdmUgcHJvbXB0IjsKICAgIHByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiYmFja3VwIjsKICAgIHByb21wdE1lbnVCdXR0b24ub25TdWJtaXQgPSAiQCBsaW5rcy5ncHRCb3Quc2F2ZVByb21wdCh0aGF0LnRleHQpOyI7Cn0KCmxpbmtzLm1lbnUuYWJDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOwoKcHJvbXB0TWVudUJ1dHRvbi5mb3JtID0gbnVsbDsKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICIgICI7CnByb21wdE1lbnVCdXR0b24ubGFiZWxBbGlnbm1lbnQgPSAiY2VudGVyIjsKcHJvbXB0TWVudUJ1dHRvbi5jb2xvciA9ICIjZjI0NzI3IjsKcHJvbXB0TWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJjYW5jZWwiOwpwcm9tcHRNZW51QnV0dG9uLm9uU3VibWl0ID0gbnVsbDsKcHJvbXB0TWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgbGlua3MuZ3B0Qm90LmVkaXRQcm9tcHQoKTsiOwoKbGlua3MubWVudS5hYkNyZWF0ZU1lbnVCdXR0b24ocHJvbXB0TWVudUJ1dHRvbik7JwDOiYSOCppFCmxvYWRQcm9tcHQCBADOiYSOCsOZAdsCQGNvbnN0IHByb21wdE5hbWUgPSAiZ3B0X3Byb21wdF8iICsgdGhhdDsKY29uc3QgbmV3UHJvbXB0ID0gYXdhaXQgb3MuZ2V0RGF0YShsaW5rcy5yZW1lbWJlci50YWdzLmFiUmVjb3JkS2V5LCBwcm9tcHROYW1lLCBsaW5rcy5yZW1lbWJlci50YWdzLmFiRW5kcG9pbnQpOwoKaWYgKCFuZXdQcm9tcHQuc3VjY2VzcykKewogICAgb3MudG9hc3QoIm5vIHByb21wdCBmb3VuZCBieSB0aGF0IG5hbWUiKTsKfQplbHNlCnsKICAgIHRhZ3MucHJvbXB0ID0gbmV3UHJvbXB0LmRhdGE7Cn0KCmlmIChjb25maWdCb3QudGFncy5wcm9tcHQgPT0gdGhhdCkKewogICAgcmV0dXJuOwp9Cgp0aGlzQm90LmVkaXRQcm9tcHQoKTsnAM6JhI4KmkUKc2F2ZVByb21wdAIEAM6JhI4Kn5wBmQNAY29uc3QgYXV0aG9yID0gYXdhaXQgb3MucmVxdWVzdEF1dGhCb3QoKTsKY29uc3QgcHJvbXB0TmFtZSA9ICJncHRfcHJvbXB0XyIgKyB0aGF0Owpjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCBvcy5yZWNvcmREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJSZWNvcmRLZXksIHByb21wdE5hbWUsIHRhZ3MucHJvbXB0LCB7ZW5kcG9pbnQ6IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWJFbmRwb2ludCwgdXBkYXRlUG9saWN5OiBbYXV0aG9yLmlkXX0pOwoKaWYgKCFuZXdQcm9tcHQuc3VjY2VzcykKewogICAgb3MudG9hc3QoInNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluIik7Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgicHJvbXB0IHNhdmVkIGFzICIgKyB0aGF0KTsKfQoKdGhpc0JvdC5lZGl0UHJvbXB0KCk7JwDOiYSOCppFCGFiSWdub3JlAgQAzomEjgq5nwEEdHJ1ZSgAzomEjgqaRQxhYkJvdFZlcnNpb24BfR0nAM6JhI4KmkUIYWJBY3Rpb24CBADOiYSOCr+fAQR0cnVlJwDOiYSOCppFBnNlYXJjaAIEAM6JhI4KxJ8BKPCflJdkODM3MTQ0NC05MTU4LTQ0MzYtOGZjNy04NGNjOTFiN2Y1MjUnAM6JhI4KmkUFbGVhcm4CBADOiYSOCuufASjwn5SXNjY1N2I4NjUtZTk4My00NDAxLTlmYzktZjU0MThkMThhN2Y3JwDOiYSOCppFCm1heF90b2tlbnMCBADOiYSOCpKgAQQ1MDAwJwDOiYSOCppFD29uQUJJbml0aWFsaXplZAIEAM6JhI4Kl6ABTkBpZiAoY29uZmlnQm90LnRhZ3MucHJvbXB0KQp7CiAgICB0aGlzQm90LmxvYWRQcm9tcHQoY29uZmlnQm90LnRhZ3MucHJvbXB0KTsKfScAzomEjgqaRQVhc2tBQgIEAM6JhI4K5qAB5wJALy9zaG91dCgiYXNrQUIiLCB7cHJvbXB0OiBwcm9tcHQsIHNob3V0OiBzaG91dCwgY29udGV4dDogY29udGV4dH0pOwoKaWYgKCF0YWdzLmdwdEFjdGl2ZSkgcmV0dXJuOwoKbGV0IGlucXVpcnkgPSB0aGF0LnByb21wdDsKCmFiLmxvZygiYWI6IFRoaW5raW5nIGFib3V0ICIgKyBpbnF1aXJ5KTsKCmNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXNCb3Quc3VibWl0UmVxdWVzdEdQVCh7aW5xdWlyeTogaW5xdWlyeSwgY29udGV4dDogdGhhdC5jb250ZXh0LCBkZWZpbmVkUHJvbXB0OiB0cnVlfSk7CgphYi5sb2coImFiOiBbQU5TV0VSXSAiICsgYW5zd2VyKTsKCnNob3V0KHRoYXQuc2hvdXQsIGFuc3dlcik7CgpyZXR1cm4gYW5zd2VyOycBBGJvdHMkZjlmZDdlMmUtN2NjZS00M2ZiLWIyMjMtZDMyY2I0MmJlYmU4AScAzomEjgrOowEGc3lzdGVtAgQAzomEjgrPowETYWIuYWN0aW9uLmNvbG9yX2JvdCcAzomEjgrOowEEZm9ybQIEAM6JhI4K46MBB25vdGhpbmcnAM6JhI4KzqMBCGFiQWN0aW9uAgQAzomEjgrrowEEdHJ1ZScAzomEjgrOowEPYWJCb3RNZW51QWN0aW9uAgQAzomEjgrwowGOAUBjb25zdCB0YXJnZXRCb3QgPSBsaW5rcy5yZW1lbWJlci5saW5rcy5hYkJvdEZvY3VzOwoKb3Muc2hvd0lucHV0Rm9yVGFnKHRhcmdldEJvdCwgImNvbG9yIiwgewogICAgdHlwZTogJ2NvbG9yJywKICAgIHRpdGxlOiAncGljayBhIGNvbG9yJwp9KTsnAM6JhI4KzqMBDmFiQm90TWVudUxhYmVsAgQAzomEjgr/pAEFY29sb3InAM6JhI4KzqMBDWFiQm90TWVudUljb24CBADOiYSOCoWlAQdwYWxldHRlJwDOiYSOCs6jAQhyZW1lbWJlcgIEAM6JhI4KjaUBKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAM6JhI4KzqMBEmFiQm90TWVudVNvcnRPcmRlcgIEAM6JhI4KtKUBATInAM6JhI4KzqMBCGFiSWdub3JlAgQAzomEjgq2pQEEdHJ1ZSgAzomEjgrOowEMYWJCb3RWZXJzaW9uAX0gJwDOiYSOCs6jAQ5hYkJvdE1lbnVDb2xvcgIEAM6JhI4KvKUBByM1NUU2NzkA"}]}