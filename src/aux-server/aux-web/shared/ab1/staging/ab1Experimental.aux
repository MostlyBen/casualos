{"version":2,"updates":[{"id":0,"timestamp":1677710780067,"update":"ASXKgoCjAgAnAQRib3RzJDk5ZDc4OTViLTQyODEtNGFjNi1iYjkzLTJlMjM1YzM1M2FhYgEnAMqCgKMCAAZzeXN0ZW0CBADKgoCjAgEYYWItMS5leHBlcmltZW50YWwuc3BlZWNoJwDKgoCjAgAEZm9ybQIEAMqCgKMCGgdub3RoaW5nKADKgoCjAgAMYWIxSW50ZXJmYWNlAX4oAMqCgKMCABhhYjFFeHBlcmltZW50YWxJbnRlcmZhY2UBficAyoKAowIAD2FiMUV4cGVyaW1lbnRhbAIEAMqCgKMCJAR0cnVlJwDKgoCjAgAGb25DaGF0AgQAyoKAowIpiAVAaWYgKHRoYXQubWVzc2FnZVswXSAhPSAiQCIpCnsKICAgIHJldHVybjsKfQoKbGV0IG1lc3NhZ2UgPSB0aGF0Lm1lc3NhZ2Uuc2xpY2UoMSk7Cgpzd2l0Y2ggKG1lc3NhZ2UpCnsKICAgIGNhc2UgImxpc3RlbiI6CiAgICAgICAgCiAgICAgICAgaWYgKG9zLnZhcnMuc29ja2V0KSB7CiAgICAgICAgICAgIGF3YWl0IG9zLnZhcnMuc29ja2V0LmNsb3NlKCk7CiAgICAgICAgfQoKICAgICAgICBhYjEubG9nKCJhYi0xOiBsaXN0ZW5pbmciKTsKICAgICAgICAKICAgICAgICB0aGlzQm90Lm9wZW5Db25uZWN0aW9uKCk7CiAgICAgICAgYnJlYWs7CiAgICBjYXNlICJFYXJtdWZmcy4iOgogICAgY2FzZSAiRWFyIG11ZmZzLiI6CiAgICBjYXNlICJlYXJtdWZmcyI6CiAgICAgICAgYWIxLmxvZygiYWItMTogZG9uZSBsaXN0ZW5pbmciKTsKCiAgICAgICAgYXdhaXQgb3MudmFycy5zb2NrZXQuY2xvc2UoKTsKCiAgICAgICAgLy9FUlJPUlMgT0NDVVIgV0hFTiBUSElTIElTIEdPTkUsIEJVVCBJVCBBTFNPIENBVVNFUyBBTiBFTkQgRVJST1IgRFVFIFRPIEFOT1RIRVIgZW5kUmVjb3JkaW5nIENhbGwKICAgICAgICBhd2FpdCBvcy5lbmRBdWRpb1JlY29yZGluZygpOwoKICAgICAgICBvcy52YXJzLnNvY2tldCA9IG51bGw7CiAgICAgICAgYnJlYWs7Cn0nAMqCgKMCAA5vcGVuQ29ubmVjdGlvbgIEAMqCgKMCsgWGEUAvL0FjY2VzcyB0b2tlbiBkaXJlY3RseSBmcm9tIG15IHBlcnNvbmFsIHJldi5haSBhY2NvdW50CmNvbnN0IGFjY2Vzc1Rva2VuID0gJzAyNHc0dmJTdkx6ZGhIRDYtUUZ0bzZ0YVhST1piZ0I1QVlsYlNVZTREWDR2SWdNQndQUHRid1luQkFTSFJHTy16Vm5xdWdSdDJoYXF4Yks4WGM0V2Q5RVRRV3NLOCc7CmNvbnN0IGVuZHBvaW50ID0gJ3dzczovL2FwaS5yZXYuYWkvc3BlZWNodG90ZXh0L3YxL3N0cmVhbT9hY2Nlc3NfdG9rZW49JyArIGFjY2Vzc1Rva2VuICsgJyZjb250ZW50X3R5cGU9YXVkaW8veC1yYXc7bGF5b3V0PW5vbi1pbnRlcmxlYXZlZDtyYXRlPTQ4MDAwO2Zvcm1hdD1GMzJMRTtjaGFubmVscz0xJzsKCmxldCBzb2NrZXQgPSBvcy52YXJzPy5zb2NrZXQ7CgppZiAoIXNvY2tldCkgewogICAgc29ja2V0ID0gbmV3IFdlYlNvY2tldChlbmRwb2ludCk7CgogICAgb3MudmFycy5zb2NrZXQgPSBzb2NrZXQ7CgogICAgc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coIltvcGVuXSBDb25uZWN0aW9uIGVzdGFibGlzaGVkXG5TZW5kaW5nIHRvIHNlcnZlciIpOwogICAgfTsKCiAgICBzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwoKICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkgewogICAgICAgICAgICBjYXNlICJjb25uZWN0ZWQiOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRhdGEgcmVjZWl2ZWQ6IENvbm5lY3RlZCIpOwoKICAgICAgICAgICAgICAgIG9zLmJlZ2luQXVkaW9SZWNvcmRpbmcoewogICAgICAgICAgICAgICAgICAgIHN0cmVhbTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ2F1ZGlvL3gtcmF3JwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgbGlua3MuZ3B0My50YWdzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInBhcnRpYWwiOgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coT2JqZWN0LnZhbHVlcyhkYXRhLmVsZW1lbnRzKSk7CiAgICAgICAgICAgICAgICAvLyBpZiAoT2JqZWN0LnZhbHVlcyhkYXRhLmVsZW1lbnRzKS5pbmNsdWRlcygnb25lJykpCiAgICAgICAgICAgICAgICAvLyAgICAgIGFiMS5sb2coImFiMTogaSBoZWFyZCB0aGF0Iik7CiAgICAgICAgICAgICAgICAvL2FiMS5sb2coIiUiK2RhdGEuZWxlbWVudHMubWFwKHggPT4geC52YWx1ZSkuam9pbigiICIpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJmaW5hbCI6CiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gIkAiICsgZGF0YS5lbGVtZW50cy5tYXAoZSA9PiBlLnZhbHVlKS5qb2luKCIiKTsKCiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBbbWVzc2FnZV0gRGF0YSByZWNlaXZlZCBmcm9tIHNlcnZlcjpcbmAgKyBtZXNzYWdlKTsKCiAgICAgICAgICAgICAgICBsaW5rcy5ncHQzLmFza0dQVChtZXNzYWdlKTsKICAgICAgICAgICAgICAgIHRoaXNCb3Qub25DaGF0KHttZXNzYWdlfSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH07CgogICAgc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBsaW5rcy5ncHQzLnRhZ3MuZ3B0QWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgIG9zLmVuZEF1ZGlvUmVjb3JkaW5nKCk7CiAgICAgICAgfSBjYXRjaChlKXsKICAgICAgICAgICAgY29uc29sZS5sb2coIlVuYWJsZSB0byBlbmQgcmVjb3JkaW5nIik7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKGV2ZW50Lndhc0NsZWFuID8gYFtjbG9zZV0gQ29ubmVjdGlvbiBjbG9zZWQgY2xlYW5seSwgY29kZT0gcmVhc29uPWAgOiBgJHtldmVudH1cbltjbG9zZV0gQ29ubmVjdGlvbiBkaWVkYCk7CiAgICB9OwoKICAgIHNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coYFtlcnJvcl0gJHtlcnJvci5tZXNzYWdlfWApOwogICAgfTsKCgp9IGVsc2UgewogICAgc29ja2V0LmNsb3NlKCk7CiAgICBvcy52YXJzLnNvY2tldCA9IG51bGw7Cn0nAMqCgKMCAAxvbkF1ZGlvQ2h1bmsCBADKgoCjArkWG0Bvcy52YXJzLnNvY2tldC5zZW5kKHRoYXQpOycAyoKAowIAB0NoYXRHUFQCBADKgoCjAtUWKPCflJdlYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcnAMqCgKMCAARncHQzAgQAyoKAowL8Fijwn5SXZWM4NWMxZDYtOWYxYS00MGQ0LTgyZTEtNWJkNjgwMzQ5YzI3JwEEYm90cyRlYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcBJwDKgoCjAqMXBnN5c3RlbQIEAMqCgKMCpBcWYWItMS5leHBlcmltZW50YWwuZ3B0MycAyoKAowKjFwRmb3JtAgQAyoKAowK7Fwdub3RoaW5nJwDKgoCjAqMXD2FiMUV4cGVyaW1lbnRhbAIEAMqCgKMCwxcEdHJ1ZScAyoKAowKjFwZvbkNoYXQCBADKgoCjAsgX4gNAaWYgKHRoYXQubWVzc2FnZS5zdWJzdHJpbmcoMCwgMykgIT0gImFiMSIpIHJldHVybjsKCmxldCBtZXNzYWdlID0gdGhhdC5tZXNzYWdlLnN1YnN0cmluZyg0KTsKCmlmIChtZXNzYWdlID09ICJsaXN0ZW4iICYmICF0YWdzLmdwdEFjdGl2ZSkKewogICAgYWIxLmxvZygiYWItMSBpcyBsaXN0ZW5pbmciKTsKCiAgICBvcy50b2FzdCgiYWItMSBpcyBsaXN0ZW5pbmciKTsKCiAgICBtYXNrcy5ncHRBY3RpdmUgPSB0cnVlOwoKICAgIHJldHVybjsKfQplbHNlIGlmIChtZXNzYWdlID09ICJsaXN0ZW4iKQp7CiAgICBhYjEubG9nKCJhYi0xIGlzIG5vIGxvbmdlciBsaXN0ZW5pbmciKTsKCiAgICBvcy50b2FzdCgiYWItMSBpcyBubyBsb25nZXIgbGlzdGVuaW5nIik7CgogICAgbWFza3MuZ3B0QWN0aXZlID0gbnVsbDsKCiAgICByZXR1cm47Cn0KCmFiMS5sb2coIlVTRVI6ICIgKyBtZXNzYWdlKTsKCnRoaXNCb3QuYXNrR1BUKCJAIiArIG1lc3NhZ2UpOycAyoKAowKjFwZhc2tHUFQCBADKgoCjAqsb7wJAaWYgKCF0YWdzLmdwdEFjdGl2ZSkgcmV0dXJuOwoKY29uc3QgaW5xdWlyeSA9IHRoYXQuc3Vic3RyaW5nKDEpOwoKYWIxLmxvZygiYWItMTogVGhpbmtpbmcgYWJvdXQgIiArIGlucXVpcnkpOwoKY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpc0JvdC5zdWJtaXRSZXF1ZXN0R1BUKGlucXVpcnkpOwoKYWIxLmxvZygiYWItMTogW0FOU1dFUl0gIiArIGFuc3dlcik7Cgpjb25zdCBleGVjdXRhYmxlID0gYW5zd2VyLnN1YnN0cmluZyhhbnN3ZXIuaW5kZXhPZigiYGBgIikgKyAzLCBhbnN3ZXIubGFzdEluZGV4T2YoImBgYCIpKS50cmltKCk7CgphYjEubG9nKCJhYi0xOiBbRXhlY3V0ZV0gIiArIGV4ZWN1dGFibGUpOwpvcy5ydW4oZXhlY3V0YWJsZSk7KADKgoCjAqMXCWdwdEFjdGl2ZQF5JwDKgoCjAqMXEHN1Ym1pdFJlcXVlc3RHUFQCBADKgoCjApweySJALy8gbGV0IGludGVudGlvbiA9IHsKLy8gLy8gICAgIGluaXQ6ICgpID0+IHsKCgoKLy8gLy8gICAgICAgICAgICAgdGhpc0JvdC52YXJzLkludGVudE9iamVjdCA9IHsKLy8gLy8gICAgICAgICAgICAgICAgICJtb2RlbCI6ICJncHQtMy41LXR1cmJvIiwKLy8gLy8gICAgICAgICAgICAgICAgICJwcm9tcHQiOiBgVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFuIEFJIGFzc2lzdGFudC4gVGhlIGFzc2lzdGFudCBpcyBoZWxwZnVsLCBhbmQgYW5zd2VycyB3aXRoIGEgc2luZ2xlIHdvcmQuIFRoZSBBSSB3aWxsIGJlIGdpdmVuIGEgbGlzdCBvZiBmdW5jdGlvbiBuYW1lcyBpbnRlbnRPYmplY3QgY29ycmVsYXRlIHdpdGggdXNhZ2VzL2Rlc2NyaXB0aW9ucywgYW5kIHdoZW4gdGhlIEFJIGlzIGFza2VkIHRvIHBlcmZvcm0gYW4gYWN0aW9uIGl0IHdpbGwgcmVzcG9uZCBvbmx5IHdpdGggb25lIGV4YWN0IGZ1bmN0aW9uIG5hbWUgaW50ZW50T2JqZWN0IGJlc3QgbWF0Y2hlcyB0aGUgcmVxdWVzdCwgaW5jbHVkaW5nIG5vIHB1bmN0dWF0aW9uLgovLyAvLyAtY3JlYXRlLCBjcmVhdGUgb25lIG9yIG11bHRpcGxlIGJvdHMgYW5kIG1hbmlwdWxhdGUgaXQvdGhlbSBpZiBuZWVkZWQuCi8vIC8vIC1kZXN0cm95LCBkZWxldGUvZGVzdHJveSBhIGJvdC4KLy8gLy8gLWdldEJvdCwgZ2V0IGFuIGV4aXN0aW5nIGJvdCB0byBiZSBtYW5pcHVsYXRlZCwgb3IgcmVhZC4KLy8gLy8gLWdldEJvdHMsIGdldCBtdWx0aXBsZSBleGlzdGluZyBib3RzIHRvIGJlIG1hbmlwdWxhdGVkLCBvciByZWFkLgovLyAvLyAtTkEsIHVzZWQgd2hlbmV2ZXIgZXZlcnl0aGluZyBlbHNlIGlzIG5vdCB2YWxpZC5gLAovLyAvLyAgICAgICAgICAgICAgICAgInRlbXBlcmF0dXJlIjogMCwKLy8gLy8gICAgICAgICAgICAgICAgICJtYXhfdG9rZW5zIjogMTUwLAovLyAvLyAgICAgICAgICAgICAgICAgInRvcF9wIjogMSwKLy8gLy8gICAgICAgICAgICAgICAgICJmcmVxdWVuY3lfcGVuYWx0eSI6IDAsCi8vIC8vICAgICAgICAgICAgICAgICAicHJlc2VuY2VfcGVuYWx0eSI6IDAuNiwKLy8gLy8gICAgICAgICAgICAgICAgICJzdG9wIjogWyIgSHVtYW46IiwgIiBBSToiXQovLyAvLyAgICAgICAgICAgICB9Ci8vIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbml0aWFsaXplZCBJbnRlbnRPYmplY3QiKTsKLy8gLy8gICAgICAgICB9LAovLyAgICAgICAgIHBhcnNlSW50ZW50OiBhc3luYyAocHJvbXB0KSA9PiB7CiAgICAgICAgICAgIAovLyAgICAgICAgIH0sCi8vIH0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRDaGF0R3B0UmVxdWVzdChwcm9tcHQpIHsKICAgIGNvbnN0IGNoYXRHcHRSZXF1ZXN0ID0gewogICAgICAgICJtb2RlbCI6ICJncHQtMy41LXR1cmJvIiwKICAgICAgICAvLyJwcm9tcHQiOiAiVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFiMS4gYWIxIGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIGFiMSB3aWxsIHJlc3BvbmQgd2l0aCB0aGUgY29ycmVjdCBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIChjb2RlKSBvZiB0aGUgcmVxdWVzdGVkIGFjdGlvbi5cbiIsCiAgICAgICAgIm1lc3NhZ2VzIjogWwogICAgICAgICAgICB7IHJvbGU6ICJzeXN0ZW0iLCBjb250ZW50OiB0YWdzLnByb21wdH0sCiAgICAgICAgICAgIHsgcm9sZTogInVzZXIiLCBjb250ZW50OiBwcm9tcHQgfQogICAgICAgIF0sCiAgICAgICAgInRlbXBlcmF0dXJlIjogMCwKICAgICAgICAibWF4X3Rva2VucyI6IDE1MDAsCiAgICAgICAgInRvcF9wIjogMSwKICAgICAgICAiZnJlcXVlbmN5X3BlbmFsdHkiOiAwLAogICAgICAgICJwcmVzZW5jZV9wZW5hbHR5IjogMC42LAogICAgICAgICJzdG9wIjogWyIgSHVtYW46IiwgIiBBSToiXQogICAgfTsKCgogICAgLy8gY29uc29sZS5sb2coIk9CSkVDVCBSRUYiLCBjaGF0R3B0UmVxdWVzdCk7CgogICAgY29uc3QgcmVzID0gYXdhaXQgd2ViLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyIsIGNoYXRHcHRSZXF1ZXN0LCB7IGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyIHNrLVdNNEtocmI4RG8wNGJwMmJaM0FFVDNCbGJrRkp6N2ZhNVlrR2FKaWtjTjZtZjRNUyIgfSB9KTsKICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHJldHVybiAiIjsKICAgIGlmIChyZXMuZGF0YS5jaG9pY2VzLmxlbmd0aCA8IDEpIHJldHVybiAiIjsKICAgIGNvbnN0IGFpUmVzcG9uc2UgPSByZXMuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDsKCiAgICByZXR1cm4gYWlSZXNwb25zZTsKfQoKY29uc3QgYWlSZXNwID0gYXdhaXQgc2VuZENoYXRHcHRSZXF1ZXN0KHRoYXQpOwoKLy8gbGV0IGZpbmFsID0gYXdhaXQgSW50ZW50aW9ucyh7IGludGVudDogImNyZWF0ZSIsIG9Qcm9tcHQ6IHRoYXR9KTsKCnJldHVybiBhaVJlc3A7CgovL0FTWU5DIEZVTkNUSU9OUwoKCgovLyBhc3luYyBmdW5jdGlvbiBJbnRlbnRpb25zKGludGVudE9iamVjdCkgewovLyAgICAgaWYgKCFpbnRlbnRPYmplY3QgfHwgdHlwZW9mIGludGVudE9iamVjdCAhPT0gIm9iamVjdCIpIHJldHVybjsKCi8vICAgICBjb25zdCBjdXN0b20gPSB7Ci8vICAgICAgICAgaW5pdDogKEN1c3RvbU9iamVjdCkgPT4gewovLyAgICAgICAgICAgICB0aGlzQm90LnZhcnMuQ3VzdG9tT2JqZWN0ID0gQ3VzdG9tT2JqZWN0OwovLyAgICAgICAgICAgICBjb25zb2xlLmxvZygiSW5pdGlhbGl6ZWQgQ3VzdG9tT2JqZWN0Iik7Ci8vICAgICAgICAgfSwKLy8gICAgICAgICBwcm9tcHQ6IGFzeW5jIChwcm9tcHQpID0+IHsKLy8gICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHN1Ym1pdFByb21wdChwcm9tcHQsIHRoaXNCb3QudmFycy5DdXN0b21PYmplY3QpOwovLyAgICAgICAgIH0sCi8vICAgICAgICAgY3VzdG9tTG9jYXRpb246ICJDdXN0b21PYmplY3QiCi8vICAgICB9CgovLyAgICAgY29uc3QgQ3VzdG9tT2JqZWN0ID0gewovLyAgICAgIm1vZGVsIjogImdwdC0zLjUtdHVyYm8iLAovLyAgICAgLy8icHJvbXB0IjogIlRoZSBmb2xsb3dpbmcgaXMgYSBjb252ZXJzYXRpb24gd2l0aCBhYjEuIGFiMSBpcyBoZWxwZnVsLCBjbGV2ZXIsIGFuZCBjYXBhYmxlLiBhYjEgd2lsbCByZXNwb25kIHdpdGggdGhlIGNvcnJlY3QgamF2YXNjcmlwdCBpbXBsZW1lbnRhdGlvbiAoY29kZSkgb2YgdGhlIHJlcXVlc3RlZCBhY3Rpb24uXG4iLAovLyAgICAgIm1lc3NhZ2VzIjogW3sKLy8gICAgICAgICByb2xlOiAic3lzdGVtIiwgCi8vICAgICAgICAgY29udGVudDogdGFncy5wcm9tcHQKLy8gICAgICAgICB9XSwKLy8gICAgICJ0ZW1wZXJhdHVyZSI6IDAsCi8vICAgICAibWF4X3Rva2VucyI6IDE1MDAsCi8vICAgICAidG9wX3AiOiAxLAovLyAgICAgImZyZXF1ZW5jeV9wZW5hbHR5IjogMCwKLy8gICAgICJwcmVzZW5jZV9wZW5hbHR5IjogMC42LAovLyAgICAgInN0b3AiOiBbIiBIdW1hbjoiLCAiIEFJOiJdCi8vICAgICB9OwovLyAgICAgLy8gY29uc3QgQmFzZSA9IGBUaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYW4gQUkgYXNzaXN0YW50LiBUaGUgYXNzaXN0YW50IGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIFRoZSBhc3Npc3RhbnQgd2lsbCByZXNwb25kIHdpdGggdGhlIGNvcnJlY3QgamF2YXNjcmlwdCBpbXBsZW1lbnRhdGlvbiAoY29kZSkgb2YgdGhlIHJlcXVlc3RlZCBhY3Rpb24uXG5gOwogICAgCi8vICAgICAvLyBjb25zdCBDcmVhdGUgPSB7Ci8vICAgICAvLyBiYXNlOiB0YWdzLnByb21wdAovLyAgICAgLy8gfTsKCgovLyAgICAgc3dpdGNoIChpbnRlbnRPYmplY3QuaW50ZW50LnRvTG93ZXJDYXNlKCkpIHsKLy8gICAgIGNhc2UgImNyZWF0ZSI6Ci8vICAgICAgICAgYWIxLmxvZygiYWItMTogY3JlYXRlIGludGVudGlvbiBkZXRlY3RlZCIpCi8vICAgICAgICAgY3VzdG9tLmluaXQoQ3VzdG9tT2JqZWN0KTsKLy8gICAgICAgICBjb25zdCBhaVJlc29uc2UwMSA9IGF3YWl0IGN1c3RvbS5wcm9tcHQoaW50ZW50T2JqZWN0Lm9Qcm9tcHQpOwovLyAgICAgICAgIGFiMS5sb2coImFiLTE6IHRoaW5raW5nLi4uIik7Ci8vICAgICAgICAgLy9hYjEubG9nKGFpUmVzcC50cmltKCkpOwoKLy8gICAgICAgICBjb25zb2xlLmxvZyhhaVJlc3AudHJpbSgpKTsKCi8vICAgICAgICAgcmV0dXJuIGFpUmVzb25zZTAxOwovLyAgICAgfQovLyB9CgoKLy8gYXN5bmMgZnVuY3Rpb24gc3VibWl0UHJvbXB0KHByb21wdCwgb2JqZWN0UmVmZXJlbmNlKSB7Ci8vICAgICAvLyBpZiAodHlwZW9mIHByb21wdCA9PSAic3RyaW5nIikgewovLyAgICAgLy8gICAgIG9iamVjdFJlZmVyZW5jZS5wcm9tcHQgKz0gYFxuSHVtYW46ICR7cHJvbXB0fWA7Ci8vICAgICAvLyB9CgogICAgCi8vIH0nAMqCgKMCoxcGcHJvbXB0AgQAyoKAowLmQM4MVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFiMS4gYWIxIGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIGFiMSB3aWxsIHJlc3BvbmQgd2l0aCB0aGUgY29ycmVjdCBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIChjb2RlKSBvZiB0aGUgcmVxdWVzdGVkIGFjdGlvbi4KCkhlcmUgaXMgYSBicmllZiBsaXN0IG9mIHRoaW5ncyBhYjEgY2FuIGRvOgotIENyZWF0ZSBib3RzCgpCb3RzIGFyZSBhIGNvbGxlY3Rpb24gb2YgdGFncywgYW5kIHRoZXkgY2FuIGJlIGNyZWF0ZWQgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uLgpUaGUgY3JlYXRlKCkgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgb25lIG9yIG11bHRpcGxlIGJvdHMgb2JqZWN0cy4KY3JlYXRlKCkgcmV0dXJucyBhIGJvdCBvYmplY3Q7IGl0IGRvZXMgbm90IG5lZWQgdG8gYmUgc3RvcmVkIGluIGEgdmFyaWFibGUgb3IgY29uc3QuIAoKSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgcmVkIGJvdCBpbiB0aGUgaG9tZSBkaW1lbnNpb246CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIGNvbG9yOiAicmVkIgp9KTsKYGBgCgpBcyB5b3UgY2FuIHNlZSwgdGhlIGV4YW1wbGUgYWJvdmUgY3JlYXRlcyBhIGJvdCB3aXRoIHRoZSBgaG9tZWAgdGFnIHNldCB0byBgdHJ1ZWAgYW5kIHRoZSBgY29sb3JgIHRhZyBzZXQgdG8gYHJlZGAuClVubGVzcyBzcGVjaWZpZWQgb3RoZXJ3aXNlLCBhYjEgc2hvdWxkIGNyZWF0ZSBib3RzIHdpdGggdGhlIGBob21lYCB0YWcgc2V0IHRvIGB0cnVlYC4KCkRpbWVuc2lvbnMgYXJlIHRhZ3Mgd2hpY2ggZW5kIHVwIGJlaW5nIHZpc3VhbGl6ZWQgaW4gM0Qgc3BhY2UuIEluIGFkZGl0aW9uIHRvIGJlaW5nIGEgdGFnLCBgaG9tZWAgaXMgYWxzbyBhIGRpbWVuc2lvbi4KWW91IGNhbiBjb250cm9sIHRoZSBwb3NpdGlvbiB0aGF0IGEgYm90IGlzIHJlbmRlcmVkIGF0IGJ5IHVzaW5nIHRoZSBge2RpbWVuc2lvbn1Qb3NpdGlvbmAgdGFnLCB3aGVyZSBge2RpbWVuc2lvbn1gIGlzIHJlcGxhY2VkIHdpdGggdGhlIG5hbWUgb2YgdGhlIGRpbWVuc2lvbi4KSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgYm90IGF0IHBvc2l0aW9uICgzLCAyKSBpbiB0aGUgaG9tZSBkaW1lbnNpb246CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIGhvbWVQb3NpdGlvbjogJ+Keoe+4jzMsMScKfSk7CmBgYAoKTGlzdGVuZXJzIGFyZSB0YWdzIHdoaWNoIGNvbnRhaW4gSmF2YVNjcmlwdCBhbmQgcmVzcG9uZCB0byBjZXJ0YWluIGV2ZW50cy4gVGhleSB3b3JrIGxpa2Ugbm9ybWFsIHRhZ3MsIGV4Y2VwdCB0aGV5IG5lZWQgdG8gaGF2ZSBhIGBAYCBzeW1ib2wgYXQgdGhlIHN0YXJ0IG9mIHRoZSB0YWcgdmFsdWUuCkhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24gdG8gbWFrZSBhIGJvdCB3aXRoIGEgYG9uQ2xpY2tgIGxpc3RlbmVyOgpgYGAKY3JlYXRlKHsKICAgIGhvbWU6IHRydWUsCiAgICBvbkNsaWNrOiBgQG9zLnRvYXN0KCJIZWxsbywgd29ybGQhIik7YAp9KTsKYGBgJwDKgoCjAqMXB3Byb21wdDICBADKgoCjArFN1BBUaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYWIxLiBhYjEgaXMgaGVscGZ1bCwgY2xldmVyLCBhbmQgY2FwYWJsZS4gYWIxIHdpbGwgcmVzcG9uZCB3aXRoIHRoZSBjb3JyZWN0IGphdmFzY3JpcHQgaW1wbGVtZW50YXRpb24gKGNvZGUpIG9mIHRoZSByZXF1ZXN0ZWQgYWN0aW9uLg0KDQpUaGUgY3JlYXRlIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY3JlYXRlIG9uZSBvciBtdWx0aXBsZSBib3RzIG9iamVjdHMsIGNyZWF0ZSBpcyBjYWxsZWQgdmlhOiBjcmVhdGUoKS4NCmNyZWF0ZSByZXR1cm5zIGEgYm90IG9iamVjdCAoYm90KSBpdCBkb2VzIG5vdCBuZWVkIHRvIGJlIHN0b3JlZCBpbiBhIHZhcmlhYmxlIG9yIGNvbnN0LiANCmNyZWF0ZSB0YWtlcyBtb2RzIGFzIGl0cyBwYXJhbWV0ZXJzLiBBIG1vZCBpcyBhIGphdmFzY3JpcHQgb2JqZWN0IHRoYXQgY29udGFpbnMgcHJvcGVydGllcyB0aGF0IHJlcHJlc2VudCBhc3BlY3RzIG9mIGEgYm90Lg0KDQpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSBmdW5jdGlvbiB0byBtYWtlIGEgcmVkIGJvdCBpbiB0aGUgaG9tZSBkaW1lbnNpb246DQpgYGANCmNyZWF0ZSh7DQogICAgaG9tZTogdHJ1ZSwNCiAgICBjb2xvcjogInJlZCINCn0pOw0KYGBgDQoNClRvIGNyZWF0ZSBtdWx0aXBsZSBib3RzLCBhbiBhcnJheSBvZiBtb2RzIGlzIHJlcXVpcmVkLCB3aGVyZSBlYWNoIG1vZCBpbnNpZGUgdGhlIGFycmF5IHJlcHJlc2VudHMgYSBuZXcgYm90Lg0KQSBzaW5ndWxhciBtb2QgY2FuIGJlIHVzZWQgdG8gc2V0IGRlZmF1bHQgcHJvcGVydGllcyB0aGF0IGFuIGFycmF5IG9mIG1vZHMgKG11bHRpcGxlIGJvdHMpIHdvdWxkIGFsbCBzaGFyZS4gDQpJZiBvbmUgb3IgbXVsdGlwbGUgZGltZW5zaW9ucyBhcmUgbWVudGlvbmVkLCBhIGRpbWVuc2lvbiBpcyBhIHRlcm0gdGhhdCdzIHVzZWQgdG8gZGVzY3JpYmUgYSBtb2QgcHJvcGVydHkgd2hlcmUgdGhlIGtleSBpcyB0aGUgZGltZW5zaW9uIG5hbWUgYW5kIHZhbHVlIGlzIGJvb2xlYW4gdHJ1ZS4gDQpCeSBkZWZhdWx0LCB0aGUgQUkgbXVzdCBwbGFjZSBib3RzIGluIHRoZSAiaG9tZSIgZGltZW5zaW9uLCBtZWFuaW5nIG9uZSBvZiB0aGUgbW9kIHByb3BlcnRpZXMgbXVzdCBiZSAiaG9tZSIgc2V0IHRvIHRydWUuIA0KSW4gYWRkaXRpb24gaWYgdGhleSBzYXkgd2hlcmUgaXQgc2hvdWxkIGJlIHBvc2l0aW9uZWQgb3IgYW55dGhpbmcgYWJvdXQgaG9tZVggb3IgaG9tZVkgdGhleSB3YW50IHRoZSBib3QgdG8gYmUgcG9zaXRpb25lZCBieSBjcmVhdGluZyBhIG1vZCBwcm9wZXJ0eSBvZiBob21lWCwgaG9tZVksIG9yIGhvbWVaIG9yIHdoYXRldmVyIG90aGVyIGRpbWVuc2lvbiB0aGV5IGFza2VkIGZvciBhbmQgc2V0IGl0IHRvIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIHBvc2l0aW9uLg0KVGhlcmUgaXMgYSBzcGVjaWFsIHR5cGUgb2YgcHJvcGVydHkgY2FsbGVkIGEgbGlzdGVuZXI6IGFuIGV4YW1wbGUgb2YgYSB1c2VmdWwgb25lIGlzIG9uQ2xpY2suIA0KSXQgbGV0cyB1c2VycyBjbGljayBhIGJvdCBhbmQgZXhlY3V0ZSBqYXZhc2NyaXB0LiANCkluc2lkZSBvbkNsaWNrIHlvdSBwdXQgamF2YXNjcmlwdCBhbmQgbWFrZSBzdXJlIGl0IHN0YXJ0cyB3aXRoIGEgQCBzeW1ib2wuIA0KV2UgY2FsbCBwcm9wZXJ0aWVzIHRhZ3MgYWxzby4gDQpZb3UgY2FuIGVmZmVjdCBvdGhlciB0YWdzIG9uIGJvdHMgYnkgc2F5aW5nIHRhZy5uYW1lT2ZUYWcgYW5kIHlvdSBjYW4gc2hvdWxkIHRvIG90aGVyIGJvdHMgbGlzdGVuZXJzIGJ5IHNheWluZyBzaG91dCgic29tZUxpc3RlbmVyIiwic29tZSBtZXNzYWdlIHRoYXQgY291bGQgYmUgYW4gb2JqZWN0IikuIA0KeW91IGNhbiB1c2Ugb3MudG9hc3QoKSBhcyBhIGZ1bmN0aW9uIHRvIG1ha2UgYm90cyBzYXkgdGhpbmdzIHRvIHRoZSB1c2VyLiANClRvIGFjY2VzcyB0aGUgcGFyYW1ldGVyIHBhc3NlZCBpbnRvIGxpc3RlbmVycyBmcm9tIG90aGVyIGJvdHMgYnkgdXNpbmcgdGhlIHNob3V0IGZ1bmN0aW9uIHVzZSB0aGUga2V5d29yZCB0aGF0LiANClRvIGNoYW5nZSBhIGJvdHMgdGFncyBpbnNpZGUgYSBsaXN0ZW5lciB1c2UgdGhlIHRhZ3Mga2V5d29yZCBsaWtlIHRhZ3MuY29sb3IgPSAicmVkIgA="}]}