{"version":2,"updates":[{"id":0,"timestamp":1678763306313,"update":"AWSlsvirCAAnAQRib3RzJDI0ZDkxMzE2LTk2NDgtNDhmNy05ZGZhLTFlMTNmOWE4ZmY1YwEnAKWy+KsIAAZzeXN0ZW0CBAClsvirCAEZYWItMS5leHBlcmltZW50YWwuZm9jdXNBUigApbL4qwgADGFiMUludGVyZmFjZQF+JwClsvirCAAEZm9ybQIEAKWy+KsIHAdub3RoaW5nJwClsvirCAAPb25BbnlGb2N1c0VudGVyAgQApbL4qwgk1wNAaWYgKCFsaW5rcy5yZW1lbWJlci50YWdzLmFiMUF3YWtlU3RhdGUgfHwgdGhhdC5ib3QgIT0gbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QgfHwgIWNvbmZpZ0JvdC50YWdzLkFSKQp7CiAgICByZXR1cm47Cn0KCmxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90Lm1hc2tzLmxhYmVsQ29sb3IgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJhc2VDb2xvcjsKbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QubWFza3MubGFiZWxGb250U2l6ZSA9IDAuNTsKbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QubWFza3MubGFiZWwgPSAibGlzdGVuaW5nIjsKCmlmIChsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiMUJvdC50YWdzLmludGVydmFsKQp7CiAgICBsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7IAp9CgpsaW5rcy5zcGVlY2gub25DaGF0KHttZXNzYWdlOiAiQGxpc3RlbiJ9KTsnAKWy+KsIAA5vbkFueUZvY3VzRXhpdAIEAKWy+KsI/AP7AkBpZiAoIWxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQXdha2VTdGF0ZSB8fCB0aGF0LmJvdCAhPSBsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiMUJvdCB8fCAhY29uZmlnQm90LnRhZ3MuQVIpCnsKICAgIHJldHVybjsKfQoKbGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QubWFza3MubGFiZWxDb2xvciA9IG51bGw7CmxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90Lm1hc2tzLmxhYmVsID0gbnVsbDsKCmxpbmtzLnNwZWVjaC5vbkNoYXQoe21lc3NhZ2U6ICJAZWFybXVmZnMifSk7CgppZiAoIWxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90LnRhZ3MuaW50ZXJ2YWwpCnsKICAgIGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxQ2xpY2soKTsgCn0nAKWy+KsIAA1tYW5pZmVzdGF0aW9uAgQApbL4qwj4Bijwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwClsvirCAAEbWVudQIEAKWy+KsInwco8J+Ul2IzMGM2YzVkLWE0ZjctNDI2Ni1iYTM4LTM5M2RjOTVlMWVjYicApbL4qwgACHJlbWVtYmVyAgQApbL4qwjGByjwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwClsvirCAAGc3BlZWNoAgQApbL4qwjtByjwn5SXOTlkNzg5NWItNDI4MS00YWM2LWJiOTMtMmUyMzVjMzUzYWFiKAClsvirCAARYWIxQ29yZU1lbnVBY3Rpb24BficApbL4qwgAEGFiMUNvcmVNZW51TGFiZWwCBAClsvirCJUICGVudGVyIEFSJwClsvirCAAPYWIxQ29yZU1lbnVJY29uAgQApbL4qwieCAp2aWV3X2luX2FyJwClsvirCAAVYWIxQ29yZU1lbnVPbkdlbmVyYXRlAgQApbL4qwipCDpAaWYgKGNvbmZpZ0JvdC50YWdzLkFSKQp7CiAgICB0YWdzLmxhYmVsID0gImRpc2FibGUgQVIiOwp9JwClsvirCAAPYWIxRXhwZXJpbWVudGFsAgQApbL4qwjkCAR0cnVlJwClsvirCAARY29yZUFjdGlvbk1lbnVSZWYCBAClsvirCOkI/AFAaWYgKGNvbmZpZ0JvdC50YWdzLkFSKQp7CiAgIGNvbmZpZ0JvdC50YWdzLkFSID0gbnVsbDsKCiAgIG9zLnRvYXN0KCJBUiBkaXNhYmxlZCIpOwoKICAgb3MuZGlzYWJsZUFSKCk7Cn0KZWxzZQp7CiAgICBjb25maWdCb3QudGFncy5BUiA9IHRydWU7CgogICAgb3MudG9hc3QoIkFSIGVuYWJsZWQiKTsKCiAgICBvcy5lbmFibGVBUigpOwp9CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7CgpzaG91dCgiYWIxTWVudVJlZnJlc2giKTsnAQRib3RzJDk5ZDc4OTViLTQyODEtNGFjNi1iYjkzLTJlMjM1YzM1M2FhYgEnAKWy+KsI5goGc3lzdGVtAgQApbL4qwjnChhhYi0xLmV4cGVyaW1lbnRhbC5zcGVlY2gnAKWy+KsI5goEZm9ybQIEAKWy+KsIgAsHbm90aGluZygApbL4qwjmCgxhYjFJbnRlcmZhY2UBfigApbL4qwjmChhhYjFFeHBlcmltZW50YWxJbnRlcmZhY2UBficApbL4qwjmCg9hYjFFeHBlcmltZW50YWwCBAClsvirCIoLBHRydWUnAKWy+KsI5goGb25DaGF0AgQApbL4qwiPC4gFQGlmICh0aGF0Lm1lc3NhZ2VbMF0gIT0gIkAiKQp7CiAgICByZXR1cm47Cn0KCmxldCBtZXNzYWdlID0gdGhhdC5tZXNzYWdlLnNsaWNlKDEpOwoKc3dpdGNoIChtZXNzYWdlKQp7CiAgICBjYXNlICJsaXN0ZW4iOgogICAgICAgIAogICAgICAgIGlmIChvcy52YXJzLnNvY2tldCkgewogICAgICAgICAgICBhd2FpdCBvcy52YXJzLnNvY2tldC5jbG9zZSgpOwogICAgICAgIH0KCiAgICAgICAgYWIxLmxvZygiYWItMTogbGlzdGVuaW5nIik7CiAgICAgICAgCiAgICAgICAgdGhpc0JvdC5vcGVuQ29ubmVjdGlvbigpOwogICAgICAgIGJyZWFrOwogICAgY2FzZSAiRWFybXVmZnMuIjoKICAgIGNhc2UgIkVhciBtdWZmcy4iOgogICAgY2FzZSAiZWFybXVmZnMiOgogICAgICAgIGFiMS5sb2coImFiLTE6IGRvbmUgbGlzdGVuaW5nIik7CgogICAgICAgIGF3YWl0IG9zLnZhcnMuc29ja2V0LmNsb3NlKCk7CgogICAgICAgIC8vRVJST1JTIE9DQ1VSIFdIRU4gVEhJUyBJUyBHT05FLCBCVVQgSVQgQUxTTyBDQVVTRVMgQU4gRU5EIEVSUk9SIERVRSBUTyBBTk9USEVSIGVuZFJlY29yZGluZyBDYWxsCiAgICAgICAgYXdhaXQgb3MuZW5kQXVkaW9SZWNvcmRpbmcoKTsKCiAgICAgICAgb3MudmFycy5zb2NrZXQgPSBudWxsOwogICAgICAgIGJyZWFrOwp9JwClsvirCOYKDm9wZW5Db25uZWN0aW9uAgQApbL4qwiYEIYRQC8vQWNjZXNzIHRva2VuIGRpcmVjdGx5IGZyb20gbXkgcGVyc29uYWwgcmV2LmFpIGFjY291bnQKY29uc3QgYWNjZXNzVG9rZW4gPSAnMDI0dzR2YlN2THpkaEhENi1RRnRvNnRhWFJPWmJnQjVBWWxiU1VlNERYNHZJZ01Cd1BQdGJ3WW5CQVNIUkdPLXpWbnF1Z1J0MmhhcXhiSzhYYzRXZDlFVFFXc0s4JzsKY29uc3QgZW5kcG9pbnQgPSAnd3NzOi8vYXBpLnJldi5haS9zcGVlY2h0b3RleHQvdjEvc3RyZWFtP2FjY2Vzc190b2tlbj0nICsgYWNjZXNzVG9rZW4gKyAnJmNvbnRlbnRfdHlwZT1hdWRpby94LXJhdztsYXlvdXQ9bm9uLWludGVybGVhdmVkO3JhdGU9NDgwMDA7Zm9ybWF0PUYzMkxFO2NoYW5uZWxzPTEnOwoKbGV0IHNvY2tldCA9IG9zLnZhcnM/LnNvY2tldDsKCmlmICghc29ja2V0KSB7CiAgICBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGVuZHBvaW50KTsKCiAgICBvcy52YXJzLnNvY2tldCA9IHNvY2tldDsKCiAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZygiW29wZW5dIENvbm5lY3Rpb24gZXN0YWJsaXNoZWRcblNlbmRpbmcgdG8gc2VydmVyIik7CiAgICB9OwoKICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CgogICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgImNvbm5lY3RlZCI6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRGF0YSByZWNlaXZlZDogQ29ubmVjdGVkIik7CgogICAgICAgICAgICAgICAgb3MuYmVnaW5BdWRpb1JlY29yZGluZyh7CiAgICAgICAgICAgICAgICAgICAgc3RyZWFtOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAnYXVkaW8veC1yYXcnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBsaW5rcy5ncHQzLnRhZ3MuZ3B0QWN0aXZlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAicGFydGlhbCI6CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhPYmplY3QudmFsdWVzKGRhdGEuZWxlbWVudHMpKTsKICAgICAgICAgICAgICAgIC8vIGlmIChPYmplY3QudmFsdWVzKGRhdGEuZWxlbWVudHMpLmluY2x1ZGVzKCdvbmUnKSkKICAgICAgICAgICAgICAgIC8vICAgICAgYWIxLmxvZygiYWIxOiBpIGhlYXJkIHRoYXQiKTsKICAgICAgICAgICAgICAgIC8vYWIxLmxvZygiJSIrZGF0YS5lbGVtZW50cy5tYXAoeCA9PiB4LnZhbHVlKS5qb2luKCIgIikpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgImZpbmFsIjoKICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAiQCIgKyBkYXRhLmVsZW1lbnRzLm1hcChlID0+IGUudmFsdWUpLmpvaW4oIiIpOwoKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFttZXNzYWdlXSBEYXRhIHJlY2VpdmVkIGZyb20gc2VydmVyOlxuYCArIG1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIGxpbmtzLmdwdDMuYXNrR1BUKG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpc0JvdC5vbkNoYXQoe21lc3NhZ2V9KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfTsKCiAgICBzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxpbmtzLmdwdDMudGFncy5ncHRBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgb3MuZW5kQXVkaW9SZWNvcmRpbmcoKTsKICAgICAgICB9IGNhdGNoKGUpewogICAgICAgICAgICBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGVuZCByZWNvcmRpbmciKTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coZXZlbnQud2FzQ2xlYW4gPyBgW2Nsb3NlXSBDb25uZWN0aW9uIGNsb3NlZCBjbGVhbmx5LCBjb2RlPSByZWFzb249YCA6IGAke2V2ZW50fVxuW2Nsb3NlXSBDb25uZWN0aW9uIGRpZWRgKTsKICAgIH07CgogICAgc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhgW2Vycm9yXSAke2Vycm9yLm1lc3NhZ2V9YCk7CiAgICB9OwoKCn0gZWxzZSB7CiAgICBzb2NrZXQuY2xvc2UoKTsKICAgIG9zLnZhcnMuc29ja2V0ID0gbnVsbDsKfScApbL4qwjmCgxvbkF1ZGlvQ2h1bmsCBAClsvirCJ8hG0Bvcy52YXJzLnNvY2tldC5zZW5kKHRoYXQpOycApbL4qwjmCgdDaGF0R1BUAgQApbL4qwi7ISjwn5SXZWM4NWMxZDYtOWYxYS00MGQ0LTgyZTEtNWJkNjgwMzQ5YzI3JwClsvirCOYKBGdwdDMCBAClsvirCOIhKPCflJdlYzg1YzFkNi05ZjFhLTQwZDQtODJlMS01YmQ2ODAzNDljMjcnAQRib3RzJGVjODVjMWQ2LTlmMWEtNDBkNC04MmUxLTViZDY4MDM0OWMyNwEnAKWy+KsIiSIGc3lzdGVtAgQApbL4qwiKIhVhYi0xLmV4cGVyaW1lbnRhbC5ncHQnAKWy+KsIiSIEZm9ybQIEAKWy+KsIoCIHbm90aGluZycApbL4qwiJIg9hYjFFeHBlcmltZW50YWwCBAClsvirCKgiBHRydWUnAKWy+KsIiSIGb25DaGF0AgQApbL4qwitIuIDQGlmICh0aGF0Lm1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDMpICE9ICJhYjEiKSByZXR1cm47CgpsZXQgbWVzc2FnZSA9IHRoYXQubWVzc2FnZS5zdWJzdHJpbmcoNCk7CgppZiAobWVzc2FnZSA9PSAibGlzdGVuIiAmJiAhdGFncy5ncHRBY3RpdmUpCnsKICAgIGFiMS5sb2coImFiLTEgaXMgbGlzdGVuaW5nIik7CgogICAgb3MudG9hc3QoImFiLTEgaXMgbGlzdGVuaW5nIik7CgogICAgbWFza3MuZ3B0QWN0aXZlID0gdHJ1ZTsKCiAgICByZXR1cm47Cn0KZWxzZSBpZiAobWVzc2FnZSA9PSAibGlzdGVuIikKewogICAgYWIxLmxvZygiYWItMSBpcyBubyBsb25nZXIgbGlzdGVuaW5nIik7CgogICAgb3MudG9hc3QoImFiLTEgaXMgbm8gbG9uZ2VyIGxpc3RlbmluZyIpOwoKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IG51bGw7CgogICAgcmV0dXJuOwp9CgphYjEubG9nKCJVU0VSOiAiICsgbWVzc2FnZSk7Cgp0aGlzQm90LmFza0dQVCgiQCIgKyBtZXNzYWdlKTsnAKWy+KsIiSIGYXNrR1BUAgQApbL4qwiQJtwFQGlmICghdGFncy5ncHRBY3RpdmUpIHJldHVybjsKCmxldCBpbnF1aXJ5ID0gdGhhdC5zdWJzdHJpbmcoMSk7CgphYjEubG9nKCJhYi0xOiBUaGlua2luZyBhYm91dCAiICsgaW5xdWlyeSk7CgppZiAobGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkRm9jdXMpCnsKICAgIGlucXVpcnkgPSBpbnF1aXJ5ICsgYC4gQm90IG11c3QgaW5jbHVkZSB7JHtsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRGb2N1cy5kaW1lbnNpb259OiB0cnVlLCAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZEZvY3VzLmRpbWVuc2lvbn1YOiAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZEZvY3VzLnBvc2l0aW9uLnh9LCAke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZEZvY3VzLmRpbWVuc2lvbn1ZOiR7bGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkRm9jdXMucG9zaXRpb24ueX19LmAKfQoKY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpc0JvdC5zdWJtaXRSZXF1ZXN0R1BUKGlucXVpcnkpOwoKYWIxLmxvZygiYWItMTogW0FOU1dFUl0gIiArIGFuc3dlcik7Cgpjb25zdCBleGVjdXRhYmxlID0gYW5zd2VyLnN1YnN0cmluZyhhbnN3ZXIuaW5kZXhPZigiYGBgIikgKyAzLCBhbnN3ZXIubGFzdEluZGV4T2YoImBgYCIpKS50cmltKCk7CgphYjEubG9nKCJhYi0xOiBbRXhlY3V0ZV0gIiArIGV4ZWN1dGFibGUpOwpvcy5ydW4oZXhlY3V0YWJsZSk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7KAClsvirCIkiCWdwdEFjdGl2ZQF5JwClsvirCIkiEHN1Ym1pdFJlcXVlc3RHUFQCBAClsvirCO4rySJALy8gbGV0IGludGVudGlvbiA9IHsKLy8gLy8gICAgIGluaXQ6ICgpID0+IHsKCgoKLy8gLy8gICAgICAgICAgICAgdGhpc0JvdC52YXJzLkludGVudE9iamVjdCA9IHsKLy8gLy8gICAgICAgICAgICAgICAgICJtb2RlbCI6ICJncHQtMy41LXR1cmJvIiwKLy8gLy8gICAgICAgICAgICAgICAgICJwcm9tcHQiOiBgVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFuIEFJIGFzc2lzdGFudC4gVGhlIGFzc2lzdGFudCBpcyBoZWxwZnVsLCBhbmQgYW5zd2VycyB3aXRoIGEgc2luZ2xlIHdvcmQuIFRoZSBBSSB3aWxsIGJlIGdpdmVuIGEgbGlzdCBvZiBmdW5jdGlvbiBuYW1lcyBpbnRlbnRPYmplY3QgY29ycmVsYXRlIHdpdGggdXNhZ2VzL2Rlc2NyaXB0aW9ucywgYW5kIHdoZW4gdGhlIEFJIGlzIGFza2VkIHRvIHBlcmZvcm0gYW4gYWN0aW9uIGl0IHdpbGwgcmVzcG9uZCBvbmx5IHdpdGggb25lIGV4YWN0IGZ1bmN0aW9uIG5hbWUgaW50ZW50T2JqZWN0IGJlc3QgbWF0Y2hlcyB0aGUgcmVxdWVzdCwgaW5jbHVkaW5nIG5vIHB1bmN0dWF0aW9uLgovLyAvLyAtY3JlYXRlLCBjcmVhdGUgb25lIG9yIG11bHRpcGxlIGJvdHMgYW5kIG1hbmlwdWxhdGUgaXQvdGhlbSBpZiBuZWVkZWQuCi8vIC8vIC1kZXN0cm95LCBkZWxldGUvZGVzdHJveSBhIGJvdC4KLy8gLy8gLWdldEJvdCwgZ2V0IGFuIGV4aXN0aW5nIGJvdCB0byBiZSBtYW5pcHVsYXRlZCwgb3IgcmVhZC4KLy8gLy8gLWdldEJvdHMsIGdldCBtdWx0aXBsZSBleGlzdGluZyBib3RzIHRvIGJlIG1hbmlwdWxhdGVkLCBvciByZWFkLgovLyAvLyAtTkEsIHVzZWQgd2hlbmV2ZXIgZXZlcnl0aGluZyBlbHNlIGlzIG5vdCB2YWxpZC5gLAovLyAvLyAgICAgICAgICAgICAgICAgInRlbXBlcmF0dXJlIjogMCwKLy8gLy8gICAgICAgICAgICAgICAgICJtYXhfdG9rZW5zIjogMTUwLAovLyAvLyAgICAgICAgICAgICAgICAgInRvcF9wIjogMSwKLy8gLy8gICAgICAgICAgICAgICAgICJmcmVxdWVuY3lfcGVuYWx0eSI6IDAsCi8vIC8vICAgICAgICAgICAgICAgICAicHJlc2VuY2VfcGVuYWx0eSI6IDAuNiwKLy8gLy8gICAgICAgICAgICAgICAgICJzdG9wIjogWyIgSHVtYW46IiwgIiBBSToiXQovLyAvLyAgICAgICAgICAgICB9Ci8vIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbml0aWFsaXplZCBJbnRlbnRPYmplY3QiKTsKLy8gLy8gICAgICAgICB9LAovLyAgICAgICAgIHBhcnNlSW50ZW50OiBhc3luYyAocHJvbXB0KSA9PiB7CiAgICAgICAgICAgIAovLyAgICAgICAgIH0sCi8vIH0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRDaGF0R3B0UmVxdWVzdChwcm9tcHQpIHsKICAgIGNvbnN0IGNoYXRHcHRSZXF1ZXN0ID0gewogICAgICAgICJtb2RlbCI6ICJncHQtMy41LXR1cmJvIiwKICAgICAgICAvLyJwcm9tcHQiOiAiVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFiMS4gYWIxIGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIGFiMSB3aWxsIHJlc3BvbmQgd2l0aCB0aGUgY29ycmVjdCBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIChjb2RlKSBvZiB0aGUgcmVxdWVzdGVkIGFjdGlvbi5cbiIsCiAgICAgICAgIm1lc3NhZ2VzIjogWwogICAgICAgICAgICB7IHJvbGU6ICJzeXN0ZW0iLCBjb250ZW50OiB0YWdzLnByb21wdH0sCiAgICAgICAgICAgIHsgcm9sZTogInVzZXIiLCBjb250ZW50OiBwcm9tcHQgfQogICAgICAgIF0sCiAgICAgICAgInRlbXBlcmF0dXJlIjogMCwKICAgICAgICAibWF4X3Rva2VucyI6IDE1MDAsCiAgICAgICAgInRvcF9wIjogMSwKICAgICAgICAiZnJlcXVlbmN5X3BlbmFsdHkiOiAwLAogICAgICAgICJwcmVzZW5jZV9wZW5hbHR5IjogMC42LAogICAgICAgICJzdG9wIjogWyIgSHVtYW46IiwgIiBBSToiXQogICAgfTsKCgogICAgLy8gY29uc29sZS5sb2coIk9CSkVDVCBSRUYiLCBjaGF0R3B0UmVxdWVzdCk7CgogICAgY29uc3QgcmVzID0gYXdhaXQgd2ViLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyIsIGNoYXRHcHRSZXF1ZXN0LCB7IGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyIHNrLVdNNEtocmI4RG8wNGJwMmJaM0FFVDNCbGJrRkp6N2ZhNVlrR2FKaWtjTjZtZjRNUyIgfSB9KTsKICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHJldHVybiAiIjsKICAgIGlmIChyZXMuZGF0YS5jaG9pY2VzLmxlbmd0aCA8IDEpIHJldHVybiAiIjsKICAgIGNvbnN0IGFpUmVzcG9uc2UgPSByZXMuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDsKCiAgICByZXR1cm4gYWlSZXNwb25zZTsKfQoKY29uc3QgYWlSZXNwID0gYXdhaXQgc2VuZENoYXRHcHRSZXF1ZXN0KHRoYXQpOwoKLy8gbGV0IGZpbmFsID0gYXdhaXQgSW50ZW50aW9ucyh7IGludGVudDogImNyZWF0ZSIsIG9Qcm9tcHQ6IHRoYXR9KTsKCnJldHVybiBhaVJlc3A7CgovL0FTWU5DIEZVTkNUSU9OUwoKCgovLyBhc3luYyBmdW5jdGlvbiBJbnRlbnRpb25zKGludGVudE9iamVjdCkgewovLyAgICAgaWYgKCFpbnRlbnRPYmplY3QgfHwgdHlwZW9mIGludGVudE9iamVjdCAhPT0gIm9iamVjdCIpIHJldHVybjsKCi8vICAgICBjb25zdCBjdXN0b20gPSB7Ci8vICAgICAgICAgaW5pdDogKEN1c3RvbU9iamVjdCkgPT4gewovLyAgICAgICAgICAgICB0aGlzQm90LnZhcnMuQ3VzdG9tT2JqZWN0ID0gQ3VzdG9tT2JqZWN0OwovLyAgICAgICAgICAgICBjb25zb2xlLmxvZygiSW5pdGlhbGl6ZWQgQ3VzdG9tT2JqZWN0Iik7Ci8vICAgICAgICAgfSwKLy8gICAgICAgICBwcm9tcHQ6IGFzeW5jIChwcm9tcHQpID0+IHsKLy8gICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHN1Ym1pdFByb21wdChwcm9tcHQsIHRoaXNCb3QudmFycy5DdXN0b21PYmplY3QpOwovLyAgICAgICAgIH0sCi8vICAgICAgICAgY3VzdG9tTG9jYXRpb246ICJDdXN0b21PYmplY3QiCi8vICAgICB9CgovLyAgICAgY29uc3QgQ3VzdG9tT2JqZWN0ID0gewovLyAgICAgIm1vZGVsIjogImdwdC0zLjUtdHVyYm8iLAovLyAgICAgLy8icHJvbXB0IjogIlRoZSBmb2xsb3dpbmcgaXMgYSBjb252ZXJzYXRpb24gd2l0aCBhYjEuIGFiMSBpcyBoZWxwZnVsLCBjbGV2ZXIsIGFuZCBjYXBhYmxlLiBhYjEgd2lsbCByZXNwb25kIHdpdGggdGhlIGNvcnJlY3QgamF2YXNjcmlwdCBpbXBsZW1lbnRhdGlvbiAoY29kZSkgb2YgdGhlIHJlcXVlc3RlZCBhY3Rpb24uXG4iLAovLyAgICAgIm1lc3NhZ2VzIjogW3sKLy8gICAgICAgICByb2xlOiAic3lzdGVtIiwgCi8vICAgICAgICAgY29udGVudDogdGFncy5wcm9tcHQKLy8gICAgICAgICB9XSwKLy8gICAgICJ0ZW1wZXJhdHVyZSI6IDAsCi8vICAgICAibWF4X3Rva2VucyI6IDE1MDAsCi8vICAgICAidG9wX3AiOiAxLAovLyAgICAgImZyZXF1ZW5jeV9wZW5hbHR5IjogMCwKLy8gICAgICJwcmVzZW5jZV9wZW5hbHR5IjogMC42LAovLyAgICAgInN0b3AiOiBbIiBIdW1hbjoiLCAiIEFJOiJdCi8vICAgICB9OwovLyAgICAgLy8gY29uc3QgQmFzZSA9IGBUaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYW4gQUkgYXNzaXN0YW50LiBUaGUgYXNzaXN0YW50IGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIFRoZSBhc3Npc3RhbnQgd2lsbCByZXNwb25kIHdpdGggdGhlIGNvcnJlY3QgamF2YXNjcmlwdCBpbXBsZW1lbnRhdGlvbiAoY29kZSkgb2YgdGhlIHJlcXVlc3RlZCBhY3Rpb24uXG5gOwogICAgCi8vICAgICAvLyBjb25zdCBDcmVhdGUgPSB7Ci8vICAgICAvLyBiYXNlOiB0YWdzLnByb21wdAovLyAgICAgLy8gfTsKCgovLyAgICAgc3dpdGNoIChpbnRlbnRPYmplY3QuaW50ZW50LnRvTG93ZXJDYXNlKCkpIHsKLy8gICAgIGNhc2UgImNyZWF0ZSI6Ci8vICAgICAgICAgYWIxLmxvZygiYWItMTogY3JlYXRlIGludGVudGlvbiBkZXRlY3RlZCIpCi8vICAgICAgICAgY3VzdG9tLmluaXQoQ3VzdG9tT2JqZWN0KTsKLy8gICAgICAgICBjb25zdCBhaVJlc29uc2UwMSA9IGF3YWl0IGN1c3RvbS5wcm9tcHQoaW50ZW50T2JqZWN0Lm9Qcm9tcHQpOwovLyAgICAgICAgIGFiMS5sb2coImFiLTE6IHRoaW5raW5nLi4uIik7Ci8vICAgICAgICAgLy9hYjEubG9nKGFpUmVzcC50cmltKCkpOwoKLy8gICAgICAgICBjb25zb2xlLmxvZyhhaVJlc3AudHJpbSgpKTsKCi8vICAgICAgICAgcmV0dXJuIGFpUmVzb25zZTAxOwovLyAgICAgfQovLyB9CgoKLy8gYXN5bmMgZnVuY3Rpb24gc3VibWl0UHJvbXB0KHByb21wdCwgb2JqZWN0UmVmZXJlbmNlKSB7Ci8vICAgICAvLyBpZiAodHlwZW9mIHByb21wdCA9PSAic3RyaW5nIikgewovLyAgICAgLy8gICAgIG9iamVjdFJlZmVyZW5jZS5wcm9tcHQgKz0gYFxuSHVtYW46ICR7cHJvbXB0fWA7Ci8vICAgICAvLyB9CgogICAgCi8vIH0nAKWy+KsIiSIGcHJvbXB0AgQApbL4qwi4Ts4MVGhlIGZvbGxvd2luZyBpcyBhIGNvbnZlcnNhdGlvbiB3aXRoIGFiMS4gYWIxIGlzIGhlbHBmdWwsIGNsZXZlciwgYW5kIGNhcGFibGUuIGFiMSB3aWxsIHJlc3BvbmQgd2l0aCB0aGUgY29ycmVjdCBqYXZhc2NyaXB0IGltcGxlbWVudGF0aW9uIChjb2RlKSBvZiB0aGUgcmVxdWVzdGVkIGFjdGlvbi4KCkhlcmUgaXMgYSBicmllZiBsaXN0IG9mIHRoaW5ncyBhYjEgY2FuIGRvOgotIENyZWF0ZSBib3RzCgpCb3RzIGFyZSBhIGNvbGxlY3Rpb24gb2YgdGFncywgYW5kIHRoZXkgY2FuIGJlIGNyZWF0ZWQgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uLgpUaGUgY3JlYXRlKCkgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgb25lIG9yIG11bHRpcGxlIGJvdHMgb2JqZWN0cy4KY3JlYXRlKCkgcmV0dXJucyBhIGJvdCBvYmplY3Q7IGl0IGRvZXMgbm90IG5lZWQgdG8gYmUgc3RvcmVkIGluIGEgdmFyaWFibGUgb3IgY29uc3QuIAoKSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgcmVkIGJvdCBpbiB0aGUgaG9tZSBkaW1lbnNpb246CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIGNvbG9yOiAicmVkIgp9KTsKYGBgCgpBcyB5b3UgY2FuIHNlZSwgdGhlIGV4YW1wbGUgYWJvdmUgY3JlYXRlcyBhIGJvdCB3aXRoIHRoZSBgaG9tZWAgdGFnIHNldCB0byBgdHJ1ZWAgYW5kIHRoZSBgY29sb3JgIHRhZyBzZXQgdG8gYHJlZGAuClVubGVzcyBzcGVjaWZpZWQgb3RoZXJ3aXNlLCBhYjEgc2hvdWxkIGNyZWF0ZSBib3RzIHdpdGggdGhlIGBob21lYCB0YWcgc2V0IHRvIGB0cnVlYC4KCkRpbWVuc2lvbnMgYXJlIHRhZ3Mgd2hpY2ggZW5kIHVwIGJlaW5nIHZpc3VhbGl6ZWQgaW4gM0Qgc3BhY2UuIEluIGFkZGl0aW9uIHRvIGJlaW5nIGEgdGFnLCBgaG9tZWAgaXMgYWxzbyBhIGRpbWVuc2lvbi4KWW91IGNhbiBjb250cm9sIHRoZSBwb3NpdGlvbiB0aGF0IGEgYm90IGlzIHJlbmRlcmVkIGF0IGJ5IHVzaW5nIHRoZSBge2RpbWVuc2lvbn1Qb3NpdGlvbmAgdGFnLCB3aGVyZSBge2RpbWVuc2lvbn1gIGlzIHJlcGxhY2VkIHdpdGggdGhlIG5hbWUgb2YgdGhlIGRpbWVuc2lvbi4KSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgYm90IGF0IHBvc2l0aW9uICgzLCAyKSBpbiB0aGUgaG9tZSBkaW1lbnNpb246CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIGhvbWVQb3NpdGlvbjogJ+Keoe+4jzMsMScKfSk7CmBgYAoKTGlzdGVuZXJzIGFyZSB0YWdzIHdoaWNoIGNvbnRhaW4gSmF2YVNjcmlwdCBhbmQgcmVzcG9uZCB0byBjZXJ0YWluIGV2ZW50cy4gVGhleSB3b3JrIGxpa2Ugbm9ybWFsIHRhZ3MsIGV4Y2VwdCB0aGV5IG5lZWQgdG8gaGF2ZSBhIGBAYCBzeW1ib2wgYXQgdGhlIHN0YXJ0IG9mIHRoZSB0YWcgdmFsdWUuCkhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24gdG8gbWFrZSBhIGJvdCB3aXRoIGEgYG9uQ2xpY2tgIGxpc3RlbmVyOgpgYGAKY3JlYXRlKHsKICAgIGhvbWU6IHRydWUsCiAgICBvbkNsaWNrOiBgQG9zLnRvYXN0KCJIZWxsbywgd29ybGQhIik7YAp9KTsKYGBgJwClsvirCIkiB3Byb21wdDICBAClsvirCINb1BBUaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYWIxLiBhYjEgaXMgaGVscGZ1bCwgY2xldmVyLCBhbmQgY2FwYWJsZS4gYWIxIHdpbGwgcmVzcG9uZCB3aXRoIHRoZSBjb3JyZWN0IGphdmFzY3JpcHQgaW1wbGVtZW50YXRpb24gKGNvZGUpIG9mIHRoZSByZXF1ZXN0ZWQgYWN0aW9uLg0KDQpUaGUgY3JlYXRlIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY3JlYXRlIG9uZSBvciBtdWx0aXBsZSBib3RzIG9iamVjdHMsIGNyZWF0ZSBpcyBjYWxsZWQgdmlhOiBjcmVhdGUoKS4NCmNyZWF0ZSByZXR1cm5zIGEgYm90IG9iamVjdCAoYm90KSBpdCBkb2VzIG5vdCBuZWVkIHRvIGJlIHN0b3JlZCBpbiBhIHZhcmlhYmxlIG9yIGNvbnN0LiANCmNyZWF0ZSB0YWtlcyBtb2RzIGFzIGl0cyBwYXJhbWV0ZXJzLiBBIG1vZCBpcyBhIGphdmFzY3JpcHQgb2JqZWN0IHRoYXQgY29udGFpbnMgcHJvcGVydGllcyB0aGF0IHJlcHJlc2VudCBhc3BlY3RzIG9mIGEgYm90Lg0KDQpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSBmdW5jdGlvbiB0byBtYWtlIGEgcmVkIGJvdCBpbiB0aGUgaG9tZSBkaW1lbnNpb246DQpgYGANCmNyZWF0ZSh7DQogICAgaG9tZTogdHJ1ZSwNCiAgICBjb2xvcjogInJlZCINCn0pOw0KYGBgDQoNClRvIGNyZWF0ZSBtdWx0aXBsZSBib3RzLCBhbiBhcnJheSBvZiBtb2RzIGlzIHJlcXVpcmVkLCB3aGVyZSBlYWNoIG1vZCBpbnNpZGUgdGhlIGFycmF5IHJlcHJlc2VudHMgYSBuZXcgYm90Lg0KQSBzaW5ndWxhciBtb2QgY2FuIGJlIHVzZWQgdG8gc2V0IGRlZmF1bHQgcHJvcGVydGllcyB0aGF0IGFuIGFycmF5IG9mIG1vZHMgKG11bHRpcGxlIGJvdHMpIHdvdWxkIGFsbCBzaGFyZS4gDQpJZiBvbmUgb3IgbXVsdGlwbGUgZGltZW5zaW9ucyBhcmUgbWVudGlvbmVkLCBhIGRpbWVuc2lvbiBpcyBhIHRlcm0gdGhhdCdzIHVzZWQgdG8gZGVzY3JpYmUgYSBtb2QgcHJvcGVydHkgd2hlcmUgdGhlIGtleSBpcyB0aGUgZGltZW5zaW9uIG5hbWUgYW5kIHZhbHVlIGlzIGJvb2xlYW4gdHJ1ZS4gDQpCeSBkZWZhdWx0LCB0aGUgQUkgbXVzdCBwbGFjZSBib3RzIGluIHRoZSAiaG9tZSIgZGltZW5zaW9uLCBtZWFuaW5nIG9uZSBvZiB0aGUgbW9kIHByb3BlcnRpZXMgbXVzdCBiZSAiaG9tZSIgc2V0IHRvIHRydWUuIA0KSW4gYWRkaXRpb24gaWYgdGhleSBzYXkgd2hlcmUgaXQgc2hvdWxkIGJlIHBvc2l0aW9uZWQgb3IgYW55dGhpbmcgYWJvdXQgaG9tZVggb3IgaG9tZVkgdGhleSB3YW50IHRoZSBib3QgdG8gYmUgcG9zaXRpb25lZCBieSBjcmVhdGluZyBhIG1vZCBwcm9wZXJ0eSBvZiBob21lWCwgaG9tZVksIG9yIGhvbWVaIG9yIHdoYXRldmVyIG90aGVyIGRpbWVuc2lvbiB0aGV5IGFza2VkIGZvciBhbmQgc2V0IGl0IHRvIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIHBvc2l0aW9uLg0KVGhlcmUgaXMgYSBzcGVjaWFsIHR5cGUgb2YgcHJvcGVydHkgY2FsbGVkIGEgbGlzdGVuZXI6IGFuIGV4YW1wbGUgb2YgYSB1c2VmdWwgb25lIGlzIG9uQ2xpY2suIA0KSXQgbGV0cyB1c2VycyBjbGljayBhIGJvdCBhbmQgZXhlY3V0ZSBqYXZhc2NyaXB0LiANCkluc2lkZSBvbkNsaWNrIHlvdSBwdXQgamF2YXNjcmlwdCBhbmQgbWFrZSBzdXJlIGl0IHN0YXJ0cyB3aXRoIGEgQCBzeW1ib2wuIA0KV2UgY2FsbCBwcm9wZXJ0aWVzIHRhZ3MgYWxzby4gDQpZb3UgY2FuIGVmZmVjdCBvdGhlciB0YWdzIG9uIGJvdHMgYnkgc2F5aW5nIHRhZy5uYW1lT2ZUYWcgYW5kIHlvdSBjYW4gc2hvdWxkIHRvIG90aGVyIGJvdHMgbGlzdGVuZXJzIGJ5IHNheWluZyBzaG91dCgic29tZUxpc3RlbmVyIiwic29tZSBtZXNzYWdlIHRoYXQgY291bGQgYmUgYW4gb2JqZWN0IikuIA0KeW91IGNhbiB1c2Ugb3MudG9hc3QoKSBhcyBhIGZ1bmN0aW9uIHRvIG1ha2UgYm90cyBzYXkgdGhpbmdzIHRvIHRoZSB1c2VyLiANClRvIGFjY2VzcyB0aGUgcGFyYW1ldGVyIHBhc3NlZCBpbnRvIGxpc3RlbmVycyBmcm9tIG90aGVyIGJvdHMgYnkgdXNpbmcgdGhlIHNob3V0IGZ1bmN0aW9uIHVzZSB0aGUga2V5d29yZCB0aGF0LiANClRvIGNoYW5nZSBhIGJvdHMgdGFncyBpbnNpZGUgYSBsaXN0ZW5lciB1c2UgdGhlIHRhZ3Mga2V5d29yZCBsaWtlIHRhZ3MuY29sb3IgPSAicmVkIicApbL4qwiJIghyZW1lbWJlcgIEAKWy+KsI2Gso8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycApbL4qwiJIhFhYjFDb3JlTWVudUFjdGlvbgIEAKWy+KsI/2u4AUBsZXQgbWVudUJvdHMgPSBnZXRCb3RzKGNvbmZpZ0JvdC50YWdzLm1lbnVQb3J0YWwsIHRydWUpOwoKd2hpc3BlcihtZW51Qm90cywgImFiMU1lbnVSZWZyZXNoIik7Cgpvcy50b2FzdCgiYXNraW5nIGFiLTE6ICIgKyB0aGF0KTsKCm1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7Cgp0aGlzQm90LmFza0dQVCgiQCIgKyB0aGF0KTsnAKWy+KsIiSIVYWIxQ29yZU1lbnVPbkdlbmVyYXRlAgQApbL4qwi4bVhAdGFncy5vblN1Ym1pdCA9IGBAIGxpbmtzLmJhc2VTa2lsbC5hYjFDb3JlTWVudUFjdGlvbih0aGF0LnRleHQpO2A7CnRhZ3MuZm9ybSA9ICJpbnB1dCI7JwClsvirCIkiFGFiMUNvcmVNZW51U29ydE9yZGVyAgQApbL4qwiRbgItMScApbL4qwiJIhFhYjFHcmlkTWVudUFjdGlvbgIEAKWy+KsIlG64AUBsZXQgbWVudUJvdHMgPSBnZXRCb3RzKGNvbmZpZ0JvdC50YWdzLm1lbnVQb3J0YWwsIHRydWUpOwoKd2hpc3BlcihtZW51Qm90cywgImFiMU1lbnVSZWZyZXNoIik7Cgpvcy50b2FzdCgiYXNraW5nIGFiLTE6ICIgKyB0aGF0KTsKCm1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7Cgp0aGlzQm90LmFza0dQVCgiQCIgKyB0aGF0KTsnAKWy+KsIiSIVYWIxR3JpZE1lbnVPbkdlbmVyYXRlAgQApbL4qwjNb1hAdGFncy5vblN1Ym1pdCA9IGBAIGxpbmtzLmJhc2VTa2lsbC5hYjFDb3JlTWVudUFjdGlvbih0aGF0LnRleHQpO2A7CnRhZ3MuZm9ybSA9ICJpbnB1dCI7JwClsvirCIkiDW1hbmlmZXN0YXRpb24CBAClsvirCKZwKPCflJdkY2E1ZDk4Ny1jNGQ4LTQ2ZTQtYjYwYy1kYWE3YjJmNGRkYWQnAKWy+KsIiSIUYWIxR3JpZE1lbnVTb3J0T3JkZXICBAClsvirCM1wAi0xJwClsvirCIkiEGFiMUdyaWRNZW51TGFiZWwCBAClsvirCNBwCGFzayBhYi0xJwClsvirCIkiEGFiMUNvcmVNZW51TGFiZWwCBAClsvirCNlwCGFzayBhYi0xJwClsvirCIkiD2FiMUNvcmVNZW51SWNvbgIEAKWy+KsI4nAEY3ViZScApbL4qwiJIg9hYjFHcmlkTWVudUljb24CBAClsvirCOdwBGN1YmUnAKWy+KsIiSIKZWRpdFByb21wdAIEAKWy+KsI7HC0B0BzaG91dCgiYWIxTWVudVJlZnJlc2giKTsKCmNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiMU1lbnUiOwoKbGV0IHByb21wdE1lbnVCdXR0b24gPSB7fTsKCnByb21wdE1lbnVCdXR0b24uYWIxTWVudSA9IHRydWU7CnByb21wdE1lbnVCdXR0b24uYWIxTWVudVJlZnJlc2ggPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnByb21wdE1lbnVCdXR0b24ubWFuaWZlc3RhdGlvbiA9IHRhZ3MubWFuaWZlc3RhdGlvbjsKcHJvbXB0TWVudUJ1dHRvbi5yZW1lbWJlciA9IHRhZ3MucmVtZW1iZXI7CnByb21wdE1lbnVCdXR0b24uZ3B0Qm90ID0gIvCflJciICsgdGhpc0JvdC5pZDsKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJsb2FkIHByb21wdCI7CnByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2xvdWRfZG93bmxvYWQiOwpwcm9tcHRNZW51QnV0dG9uLm9uQ2xpY2sgPSAiQCBsaW5rcy5ncHRCb3QudXBkYXRlUHJvbXB0KCdsb2FkJyk7IjsKCmxpbmtzLm1lbnUuYWIxQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsKCnByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAic2F2ZSBwcm9tcHQiOwpwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImJhY2t1cCI7CnByb21wdE1lbnVCdXR0b24ub25DbGljayA9ICJAIGxpbmtzLmdwdEJvdC51cGRhdGVQcm9tcHQoJ3NhdmUnKTsiOwoKbGlua3MubWVudS5hYjFDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOwoKbWFza3Mub25HcmlkQ2xpY2sgPSBgQCBjb25maWdCb3QubWFza3MudGFnUG9ydGFsID0gbnVsbDsKCnRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9IG51bGw7CmA7Cgp0YWdQb3J0YWxCb3QubWFza3MudGFnUG9ydGFsQW5jaG9yUG9pbnQgPSAidG9wIjsKCmNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWwgPSB0aGlzQm90LmlkICsgIi5wcm9tcHQiOycApbL4qwiJIgRtZW51AgQApbL4qwifeCjwn5SXYjMwYzZjNWQtYTRmNy00MjY2LWJhMzgtMzkzZGM5NWUxZWNiJwClsvirCIkiDHVwZGF0ZVByb21wdAIEAKWy+KsIxnjRCEBzaG91dCgiYWIxTWVudVJlZnJlc2giKTsKCmNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiMU1lbnUiOwoKbGV0IHByb21wdE1lbnVCdXR0b24gPSB7fTsKCnByb21wdE1lbnVCdXR0b24uYWIxTWVudSA9IHRydWU7CnByb21wdE1lbnVCdXR0b24uZm9ybSA9ICJpbnB1dCI7CnByb21wdE1lbnVCdXR0b24uYWIxTWVudVJlZnJlc2ggPSAiQCBkZXN0cm95KHRoaXNCb3QpOyI7CnByb21wdE1lbnVCdXR0b24ubWFuaWZlc3RhdGlvbiA9IHRhZ3MubWFuaWZlc3RhdGlvbjsKcHJvbXB0TWVudUJ1dHRvbi5yZW1lbWJlciA9IHRhZ3MucmVtZW1iZXI7CnByb21wdE1lbnVCdXR0b24uZ3B0Qm90ID0gIvCflJciICsgdGhpc0JvdC5pZDsKCmlmICh0aGF0ID09ICJsb2FkIikKewogICAgcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJsb2FkIHByb21wdCI7CiAgICBwcm9tcHRNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gImNsb3VkX2Rvd25sb2FkIjsKICAgIHByb21wdE1lbnVCdXR0b24ub25TdWJtaXQgPSAiQCBsaW5rcy5ncHRCb3QubG9hZFByb21wdCh0aGF0LnRleHQpOyI7Cn0KZWxzZQp7CiAgICBwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gInNhdmUgcHJvbXB0IjsKICAgIHByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiYmFja3VwIjsKICAgIHByb21wdE1lbnVCdXR0b24ub25TdWJtaXQgPSAiQCBsaW5rcy5ncHRCb3Quc2F2ZVByb21wdCh0aGF0LnRleHQpOyI7Cn0KCmxpbmtzLm1lbnUuYWIxQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsKCnByb21wdE1lbnVCdXR0b24uZm9ybSA9IG51bGw7CnByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAiICAiOwpwcm9tcHRNZW51QnV0dG9uLmxhYmVsQWxpZ25tZW50ID0gImNlbnRlciI7CnByb21wdE1lbnVCdXR0b24uY29sb3IgPSAiI2YyNDcyNyI7CnByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2FuY2VsIjsKcHJvbXB0TWVudUJ1dHRvbi5vblN1Ym1pdCA9IG51bGw7CnByb21wdE1lbnVCdXR0b24ub25DbGljayA9ICJAIGxpbmtzLmdwdEJvdC5lZGl0UHJvbXB0KCk7IjsKCmxpbmtzLm1lbnUuYWIxQ3JlYXRlTWVudUJ1dHRvbihwcm9tcHRNZW51QnV0dG9uKTsnAKWy+KsIiSIKbG9hZFByb21wdAIEAKWy+KsIloEBqQJAY29uc3QgcHJvbXB0TmFtZSA9ICJncHRfcHJvbXB0XyIgKyB0aGF0Owpjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCBvcy5nZXREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5LCBwcm9tcHROYW1lLCBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUVuZHBvaW50KTsKCmlmICghbmV3UHJvbXB0LnN1Y2Nlc3MpCnsKICAgIG9zLnRvYXN0KCJubyBwcm9tcHQgZm91bmQgYnkgdGhhdCBuYW1lIik7Cn0KZWxzZQp7CiAgICB0YWdzLnByb21wdCA9IG5ld1Byb21wdC5kYXRhOwp9Cgp0aGlzQm90LmVkaXRQcm9tcHQoKTsnAKWy+KsIiSIKc2F2ZVByb21wdAIEAKWy+KsIwIMBmwNAY29uc3QgYXV0aG9yID0gYXdhaXQgb3MucmVxdWVzdEF1dGhCb3QoKTsKY29uc3QgcHJvbXB0TmFtZSA9ICJncHRfcHJvbXB0XyIgKyB0aGF0Owpjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCBvcy5yZWNvcmREYXRhKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxUmVjb3JkS2V5LCBwcm9tcHROYW1lLCB0YWdzLnByb21wdCwge2VuZHBvaW50OiBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUVuZHBvaW50LCB1cGRhdGVQb2xpY3k6IFthdXRob3IuaWRdfSk7CgppZiAoIW5ld1Byb21wdC5zdWNjZXNzKQp7CiAgICBvcy50b2FzdCgic29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4iKTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJwcm9tcHQgc2F2ZWQgYXMgIiArIHRoYXQpOwp9Cgp0aGlzQm90LmVkaXRQcm9tcHQoKTsA"}]}