{"version":2,"updates":[{"id":0,"timestamp":1678497142001,"update":"ATy65rH4DgAnAQRib3RzJGIzMGM2YzVkLWE0ZjctNDI2Ni1iYTM4LTM5M2RjOTVlMWVjYgEnALrmsfgOAAZzeXN0ZW0CBAC65rH4DgETYWItMS5pbnRlcmZhY2UubWVudScAuuax+A4ABGZvcm0CBAC65rH4DhUHbm90aGluZycAuuax+A4AC2Rlc2NyaXB0aW9uAgQAuuax+A4dJlRoaXMgc2tpbGwgaXMgZGVzaWduZWQgZm9yIG1lbnUgc3R1ZmYuKAC65rH4DgAMYWIxSW50ZXJmYWNlAXgnALrmsfgOAAthYjFPcGVuTWVudQIEALrmsfgOReoJQGNvbmZpZ0JvdC5tYXNrcy5tZW51UG9ydGFsID0gImFiMU1lbnUiOwoKbGV0IG1lbnVUeXBlID0gdGhhdCA/ICJhYjEiICsgdGhhdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoYXQuc2xpY2UoMSkgKyAiTWVudSI6ICJhYjFDb3JlTWVudSI7IC8vc2V0IHVwIGEgY2hlY2sgdG8gc2VlIHdoYXQgdHlwZSBvZiBtZW51IHNob3VsZCBiZSBvY2N1cmluZyBbY29yZSwgYm90LCBncmlkLCBpbnN0XQpsZXQgbWVudVNraWxscyA9IGdldEJvdHMobWVudVR5cGUgKyAiQWN0aW9uIik7CmxldCBtYXhPcHRpb25zID0gbWVudVR5cGUgPT0gImluc3QiID8gNyA6IDU7CmxldCBhYjFNZW51QnV0dG9uID0ge307CgphYjFNZW51QnV0dG9uLmFiMU1lbnUgPSB0cnVlOwphYjFNZW51QnV0dG9uLmFiMU1lbnVSZWZyZXNoID0gIkAgZGVzdHJveSh0aGlzQm90KTsiOwphYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBsaW5rcy5iYXNlU2tpbGwuJHttZW51VHlwZSArICJBY3Rpb24ifSgpO2A7Cgpmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVTa2lsbHMubGVuZ3RoOyBpKyspLy9BREQgTE9HSUMgRk9SIE1PUkUgT1BUSU9OUyBUSEFOIDUgOiBtYXhPcHRpb25zCnsKICAgIGxldCBjdXJyZW50U2tpbGwgPSBtZW51U2tpbGxzW2ldOwoKICAgIGFiMU1lbnVCdXR0b24uYmFzZVNraWxsID0gIvCflJciICsgY3VycmVudFNraWxsLmlkOwogICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIkxhYmVsIl07CiAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gY3VycmVudFNraWxsLnRhZ3NbbWVudVR5cGUgKyAiSWNvbiJdOwogICAgYWIxTWVudUJ1dHRvbi5vbkNyZWF0ZSA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIk9uR2VuZXJhdGUiXTsKICAgIGFiMU1lbnVCdXR0b24uYWIxTWVudVNvcnRPcmRlciA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIlNvcnRPcmRlciJdOwogICAgYWIxTWVudUJ1dHRvbi5jb2xvciA9IGN1cnJlbnRTa2lsbC50YWdzW21lbnVUeXBlICsgIkNvbG9yIl0gPyBjdXJyZW50U2tpbGwudGFnc1ttZW51VHlwZSArICJDb2xvciJdIDogbGlua3MucmVtZW1iZXIudGFncy5hYjFCYXNlQ29sb3I7CgogICAgdGhpc0JvdC5hYjFDcmVhdGVNZW51QnV0dG9uKGFiMU1lbnVCdXR0b24pOwp9Cgp0aGlzQm90Lm1hc2tzLm9uR3JpZENsaWNrID0gIkAgc2hvdXQoJ2FiMU1lbnVSZWZyZXNoJyk7IGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxQ2xpY2soKTsiOycAuuax+A4AE2FiMUNyZWF0ZU1lbnVCdXR0b24CBAC65rH4Dq4KlgNAbGV0IGFkZGl0aW9uYWxUYWdzID0gdGhhdDsKbGV0IG5ld01lbnVCdXR0b24gPSB7fTsKCm5ld01lbnVCdXR0b24uc3BhY2UgPSAidGVtcExvY2FsIjsKbmV3TWVudUJ1dHRvbi5jb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwpuZXdNZW51QnV0dG9uLmxhYmVsQWxpZ25tZW50ID0gImxlZnQiOwpuZXdNZW51QnV0dG9uLm1lbnVJdGVtU3R5bGUgPSB7ICJib3JkZXItcmFkaXVzIjoiOHB4IiwgIm1hcmdpbi10b3AiOiIzcHgifTsKCmZvciAoY29uc3QgdGFnIGluIGFkZGl0aW9uYWxUYWdzKQp7CiAgICBuZXdNZW51QnV0dG9uW3RhZ10gPSBhZGRpdGlvbmFsVGFnc1t0YWddOwp9CgpuZXdNZW51QnV0dG9uID0gY3JlYXRlKG5ld01lbnVCdXR0b24pOwoKcmV0dXJuIG5ld01lbnVCdXR0b247JwC65rH4DgAOYWIxTWVudVJlZnJlc2gCBAC65rH4DsUNPkBjb25maWdCb3QubWFza3MubWVudVBvcnRhbCA9IG51bGw7CgptYXNrcy5vbkdyaWRDbGljayA9IG51bGw7JwC65rH4DgAIcmVtZW1iZXICBAC65rH4DoQOKPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnALrmsfgOAA1tYW5pZmVzdGF0aW9uAgQAuuax+A6rDijwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwC65rH4DgASYWIxRW52aXJvbm1lbnRNZW51AgQAuuax+A7SDvgmQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWIxTWVudSI7CgpsZXQgYWIxTWVudUJ1dHRvbiA9IHt9OwoKYWIxTWVudUJ1dHRvbi5hYjFNZW51ID0gdHJ1ZTsKYWIxTWVudUJ1dHRvbi5hYjFNZW51UmVmcmVzaCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKYWIxTWVudUJ1dHRvbi5tYW5pZmVzdGF0aW9uID0gdGFncy5tYW5pZmVzdGF0aW9uOwphYjFNZW51QnV0dG9uLnJlbWVtYmVyID0gdGFncy5yZW1lbWJlcjsKYWIxTWVudUJ1dHRvbi5sZWFybiA9IHRhZ3MubGVhcm47Cgpmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspCnsKICAgIHN3aXRjaCAoaSkKICAgIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiaGlkZSI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAidmlzaWJpbGl0eV9vZmYiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBkZXN0cm95KGxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90KTsKICAgICAgICAgICAgbGlua3MubWFuaWZlc3RhdGlvbi5tYXNrcy5hYjFCb3QgPSBudWxsOwogICAgICAgICAgICBgOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImNvbG9yIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJwYWxldHRlIjsKICAgICAgICAgICAgLy9URVNUPwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBvcy5zaG93SW5wdXRGb3JUYWcobGlua3MucmVtZW1iZXIsICJhYjFCYXNlQ29sb3IiLCB7CiAgICAgICAgICAgIHR5cGU6ICdjb2xvcicsCiAgICAgICAgICAgIHRpdGxlOiAncGljayBhIGNvbG9yJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRlc3Ryb3kobGlua3MubWFuaWZlc3RhdGlvbi5saW5rcy5hYjFCb3QpOwogICAgICAgICAgICBsaW5rcy5tYW5pZmVzdGF0aW9uLm1hc2tzLmFiMUJvdCA9IG51bGw7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAic2xlZXAiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gIm5pZ2h0c19zdGF5IjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEBkZXN0cm95KGxpbmtzLm1hbmlmZXN0YXRpb24ubGlua3MuYWIxQm90KTsKCiAgICAgICAgICAgIGxpbmtzLm1hbmlmZXN0YXRpb24ubWFza3MuYWIxQm90ID0gbnVsbDsKICAgICAgICAgICAgbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlID0gZmFsc2U7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiY29sbGFiIHBvdiI7CiAgICAgICAgICAgIC8vIC8vQ0hFQ0sgRk9SIElDT04KICAgICAgICAgICAgLy8gYWIxTWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJ2aXNpYmlsaXR5X29mZiI7CiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24ub25DbGljayA9ICJAIG9zLnRvYXN0KCd3b3JrIGluIHByb2dyZXNzJykiOwoKICAgICAgICAgICAgY29udGludWU7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiY2hhdCI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2hhdCI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25DbGljayA9IGBAIG9zLnNob3dDaGF0KCk7YDsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNToKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJzeXN0ZW1Qb3J0YWw9dHJ1ZSI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAic2V0dGluZ3NfYXBwbGljYXRpb25zIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEAgY29uZmlnQm90LnRhZ3Muc3lzdGVtUG9ydGFsID0gdHJ1ZTtgOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAvLyBhYjFNZW51QnV0dG9uLmxhYmVsID0gIm51Z2dldHMiOwogICAgICAgICAgICAvLyAvL0NIRUNLIEZPUiBJQ09OCiAgICAgICAgICAgIC8vIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2hlY2tfYm94IjsKICAgICAgICAgICAgLy8gYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgb3MudG9hc3QoJ3dvcmsgaW4gcHJvZ3Jlc3MnKSI7CgogICAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJncmlkIHNuYXAiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmZvcm1BZGRyZXNzID0gbGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkU25hcFN0YXRlID8gImNoZWNrX2JveCIgOiAiY2hlY2tfYm94X291dGxpbmVfYmxhbmsiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRTbmFwU3RhdGUgPSAhbGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkU25hcFN0YXRlOwogICAgICAgICAgICAKICAgICAgICAgICAgdGFncy5mb3JtQWRkcmVzcyA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZFNuYXBTdGF0ZSA/ICJjaGVja19ib3giIDogImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rIjsKICAgICAgICAgICAgYDsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgODoKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJib3Qgc25hcCI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJvdFNuYXBTdGF0ZSA/ICJjaGVja19ib3giIDogImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rIjsKICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5vbkNsaWNrID0gYEAgbGlua3MucmVtZW1iZXIudGFncy5hYjFCb3RTbmFwU3RhdGUgPSAhbGlua3MucmVtZW1iZXIudGFncy5hYjFCb3RTbmFwU3RhdGU7CiAgICAgICAgICAgIAogICAgICAgICAgICB0YWdzLmZvcm1BZGRyZXNzID0gbGlua3MucmVtZW1iZXIudGFncy5hYjFCb3RTbmFwU3RhdGUgPyAiY2hlY2tfYm94IiA6ICJjaGVja19ib3hfb3V0bGluZV9ibGFuayI7CiAgICAgICAgICAgIGA7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiZ3JvdXBfYWRkIjsKCiAgICAgICAgICAgIGlmIChsaW5rcy5yZW1lbWJlci50YWdzLmhvc3RJRCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYWIxTWVudUJ1dHRvbi5sYWJlbCA9ICJqb2luIGNvZGU6ICIgKyBsaW5rcy5yZW1lbWJlci50YWdzLmhvc3RJRC5zdWJzdHJpbmcoMCwzKSArICItIiArIGxpbmtzLnJlbWVtYmVyLnRhZ3MuaG9zdElELnN1YnN0cmluZygzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ubGFiZWwgPSAiZ2VuZXJhdGUgam9pbiBjb2RlIjsKICAgICAgICAgICAgfSAKCiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25DbGljayA9IGBAIGxpbmtzLmxlYXJuLmFiMUNyZWF0ZUhvc3QodGhpc0JvdCk7CgogICAgICAgICAgICB0YWdzLmxhYmVsID0gJ2dlbmVyYXRpbmcgY29kZSBub3cnO2A7CgogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImVudGVyIGpvaW4gY29kZSI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybSA9ICJpbnB1dCI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25DbGljayA9IG51bGw7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24ub25TdWJtaXQgPSBgQCBsaW5rcy5sZWFybi5hYjFKb2luSG9zdCh0aGF0KTtgOwoKICAgICAgICAgICAgYnJlYWs7ICAKICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAvL1VQREFURSBMQUJFTAogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmxhYmVsID0gImRlbGV0ZSI7CiAgICAgICAgICAgIGFiMU1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiZGVsZXRlX2ZvcmV2ZXIiOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLmNvbG9yID0gIiNmMjQ3MjciOwogICAgICAgICAgICBhYjFNZW51QnV0dG9uLm9uQ2xpY2sgPSBgQCBsZXQgYWxsQm90cyA9IGdldEJvdHMoInNwYWNlIiwgInNoYXJlZCIpOwoKICAgICAgICAgICAgZGVzdHJveShsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiMUJvdCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEJvdHMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChhbGxCb3RzW2ldLnRhZ3Muc3lzdGVtKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmIChhbGxCb3RzW2ldLnRhZ3Muc3lzdGVtLmluY2x1ZGVzKCJhYi0xIikpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBkZXN0cm95KGFsbEJvdHNbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBgOwoKICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgIAogICAgfQoKICAgIGFiMU1lbnVCdXR0b24uYWIxTWVudVNvcnRPcmRlciA9IGk7CgogICAgdGhpc0JvdC5hYjFDcmVhdGVNZW51QnV0dG9uKGFiMU1lbnVCdXR0b24pOwp9Cgp0aGlzQm90Lm1hc2tzLm9uR3JpZENsaWNrID0gIkAgc2hvdXQoJ2FiMU1lbnVSZWZyZXNoJyk7IGxpbmtzLm1hbmlmZXN0YXRpb24uYWIxQ2xpY2soKTsiOycAuuax+A4ABWxlYXJuAgQAuuax+A7LNSjwn5SXNjY1N2I4NjUtZTk4My00NDAxLTlmYzktZjU0MThkMThhN2Y3JwEEYm90cyRkY2E1ZDk4Ny1jNGQ4LTQ2ZTQtYjYwYy1kYWE3YjJmNGRkYWQBJwC65rH4DvI1BnN5c3RlbQIEALrmsfgO8zUcYWItMS5pbnRlcmZhY2UubWFuaWZlc3RhdGlvbicAuuax+A7yNQRmb3JtAgQAuuax+A6QNgdub3RoaW5nKAC65rH4DvI1DGFiMUludGVyZmFjZQF4JwC65rH4DvI1C2Rlc2NyaXB0aW9uAgQAuuax+A6ZNjpUaGlzIHNraWxsIGNvbnRyb2xzIHRoZSBhY3R1YWwgYm90IGZvciB0aGUgYWItMSBpbnRlcmZhY2UuJwC65rH4DvI1Cm9uQm90QWRkZWQCBAC65rH4DtQ2kAFALy9NT1ZFIFRPIFdIRU4gTUVOVSBJUyBPUEVORUQgRk9SIEZJUlNUIFRJTUU/Pz8gIE9SIFdIRU4gU1VNTU9ORUQ/CmxpbmtzLmxlYXJuLmFiMUFkYXB0KCJhYjFBY3Rpb24iKTsKCmxpbmtzLmxlYXJuLmFiMUFkYXB0KCJhYjFFeHBlcmltZW50YWwiKTsnALrmsfgO8jUFbGVhcm4CBAC65rH4DuU3KPCflJc2NjU3Yjg2NS1lOTgzLTQ0MDEtOWZjOS1mNTQxOGQxOGE3ZjcnALrmsfgO8jUPb25Qb3J0YWxDaGFuZ2VkAgQAuuax+A6MOKgFQGlmICghbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlKQp7CiAgICByZXR1cm47Cn0KCmxldCBwb3J0YWxBcnJheSA9IFsibWluaUdyaWRQb3J0YWwiLCAiZ3JpZFBvcnRhbCIsICJtYXBQb3J0YWwiLCAibWluaU1hcFBvcnRhbCIsICJsZWZ0V3Jpc3RQb3J0YWwiLCAicmlnaHRXcmlzdFBvcnRhbCJdOwoKaWYgKHBvcnRhbEFycmF5LmluZGV4T2YodGhhdC5wb3J0YWwpICE9IC0xICYmIHRoYXQuZGltZW5zaW9uKQp7CiAgICB0aGlzQm90LmFiMU1hbmlmZXN0Qm90KHtkaW1lbnNpb246IHRoYXQuZGltZW5zaW9uLCBwb3NpdGlvbjp7eDowLHk6MH19KTsKfQplbHNlIGlmIChwb3J0YWxBcnJheS5pbmRleE9mKHRoYXQucG9ydGFsKSA9PSAtMSAmJiAhdGhhdC5kaW1lbnNpb24gJiYgdGhhdC5wb3J0YWwgIT0gIm1lbnVQb3J0YWwiKQp7CiAgICBsZXQgc3VtbW9uRGltZW5zaW9uID0gY29uZmlnQm90LnRhZ3MubWFwUG9ydGFsID8gY29uZmlnQm90LnRhZ3MubWFwUG9ydGFsIDogY29uZmlnQm90LnRhZ3MuZ3JpZFBvcnRhbDsKCiAgICB0aGlzQm90LmFiMU1hbmlmZXN0Qm90KHtkaW1lbnNpb246IHN1bW1vbkRpbWVuc2lvbiwgcG9zaXRpb246e3g6MCx5OjB9fSk7Cn0KZWxzZSBpZiAodGhhdC5wb3J0YWwgIT0gIm1lbnVQb3J0YWwiKQp7CiAgICBkZXN0cm95KGxpbmtzLmFiMUJvdCk7Cn0nALrmsfgO8jUIcmVtZW1iZXICBAC65rH4DrU9KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnALrmsfgO8jUOYWIxTWFuaWZlc3RCb3QCBAC65rH4Dtw9mAlAaWYgKHRhZ3MuYWIxQm90KQp7CiAgICBkZXN0cm95KGxpbmtzLmFiMUJvdCk7Cn0KCmxldCBhYjEgPSB7fTsKCmFiMS5zcGFjZSA9ICJ0ZW1wTG9jYWwiOwphYjEuY29sb3IgPSAiY2xlYXIiOwphYjEub25DbGljayA9ICJAIGxpbmtzLm1hbmFnZXIuYWIxQ2xpY2soKTsiOwphYjEuZGltZW5zaW9uID0gdGhhdC5kaW1lbnNpb247CmFiMVt0aGF0LmRpbWVuc2lvbl0gPSB0cnVlOwphYjFbdGhhdC5kaW1lbnNpb24gKyAiWCJdID0gdGhhdC5wb3NpdGlvbi54OwphYjFbdGhhdC5kaW1lbnNpb24gKyAiWSJdID0gdGhhdC5wb3NpdGlvbi55OwphYjEuc3Ryb2tlQ29sb3IgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUJhc2VDb2xvcjsKYWIxLmxpbmVDb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwphYjEubWFuYWdlciA9ICLwn5SXIiArIHRoaXNCb3QuaWQ7CmFiMS5hbmltYXRlQm90ID0gYEAgY29uc3Qgcm90WiA9IHRhZ3MuZGltZW5zaW9uICsgIlJvdGF0aW9uWiI7CmxldCB0YXJnZXRTY2FsZSA9IDAuNjU7CgppZiAodGFncy5zY2FsZSA8PSAwLjY1MSkKewogICAgdGFyZ2V0U2NhbGUgPSAwLjk1Owp9Cgphd2FpdCBhbmltYXRlVGFnKHRoaXNCb3QsCnsKICAgIGZyb21WYWx1ZTogewogICAgICAgIFtyb3RaXTogMCwKICAgICAgICBzY2FsZTogdGFncy5zY2FsZQogICAgfSwKICAgIHRvVmFsdWU6IHsKICAgICAgICBbcm90Wl06IDMuMTUsLy82LjMsCiAgICAgICAgc2NhbGU6IHRhcmdldFNjYWxlCiAgICB9LAogICAgZWFzaW5nOiB7CiAgICAgICAgdHlwZTogInNpbnVzb2lkYWwiLAogICAgICAgIG1vZGU6ICJpbm91dCIKICAgIH0sCiAgICBkdXJhdGlvbjogMgp9KS5jYXRjaChlID0+IHt9KTsKYDsKYWIxLm9uQ3JlYXRlID0gYEAgdGhpc0JvdC5hbmltYXRlQm90KCk7CgptYXNrcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHRoaXNCb3QuYW5pbWF0ZUJvdCgpLCAyMDAwKTsKYDsKYWIxLm9uRGVzdHJveSA9IGBACmNsZWFySW50ZXJ2YWwodGFncy5pbnRlcnZhbCk7CgpzaG91dCgiYWIxTWVudVJlZnJlc2giKTsKYDsKYWIxLmRyYWdnYWJsZSA9IGZhbHNlOwphYjEuc2NhbGUgPSAwLjk7CgpsZXQgYWIxTWFuaWZlc3RlZCA9IGF3YWl0IGNyZWF0ZShhYjEpOwoKbWFza3MuYWIxQm90ID0gIvCflJciICsgYWIxTWFuaWZlc3RlZC5pZDsnALrmsfgO8jUQYWIxTWFuaWZlc3RTdGF0ZQIEALrmsfgO8UYFQXdha2UnALrmsfgO8jUdYWIxTWFuaWZlc3RTdGF0ZUFzbGVlcE9uRW50ZXICBAC65rH4DvdGWUBkZXN0cm95KGxpbmtzLmFiMUJvdCk7CgptYXNrcy5hYjFCb3QgPSBudWxsOwoKbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlID0gZmFsc2U7JwC65rH4DvI1C29uR3JpZENsaWNrAgQAuuax+A7RR4oIQGlmICghbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlKQp7CiAgICByZXR1cm47Cn0KCnNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKbGV0IGZvb3RwcmludCA9IHt9OwoKZm9vdHByaW50LnNwYWNlID0gInRlbXBMb2NhbCI7CmZvb3RwcmludFt0aGF0LmRpbWVuc2lvbl0gPSB0cnVlOwpmb290cHJpbnQuZGltZW5zaW9uID0gdGhhdC5kaW1lbnNpb247CmZvb3RwcmludFt0aGF0LmRpbWVuc2lvbiArICJYIl0gPSB0aGF0LnBvc2l0aW9uLng7CmZvb3RwcmludFt0aGF0LmRpbWVuc2lvbiArICJZIl0gPSB0aGF0LnBvc2l0aW9uLnk7CmZvb3RwcmludC5zY2FsZVogPSAwLjAxOwpmb290cHJpbnQub25DbGljayA9IGBAIHRhZ3NbdGFncy5kaW1lbnNpb25dID0gZmFsc2U7CgpsaW5rcy5tYW5hZ2VyLmFiMU1hbmlmZXN0Qm90KHRhZ3MucG9zaXRpb25JbmZvKTsKYDsKZm9vdHByaW50LnBvc2l0aW9uSW5mbyA9IHRoYXQ7CmZvb3RwcmludC5jb2xvciA9ICJjbGVhciI7CmZvb3RwcmludC5zdHJva2VDb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwpmb290cHJpbnQuZHJhZ2dhYmxlID0gZmFsc2U7CmZvb3RwcmludC5tYW5hZ2VyID0gIvCflJciICsgdGhpc0JvdC5pZDsKZm9vdHByaW50Lm9uQ3JlYXRlID0gYEAgc2V0VGltZW91dCgoKSA9PiBkZXN0cm95KHRoaXNCb3QpLCA4MDApOwoKICAgIGF3YWl0IGFuaW1hdGVUYWcodGhpc0JvdCwgewogICAgICAgIGZyb21WYWx1ZTogewogICAgICAgICAgICBzY2FsZVg6IDAuMSwKICAgICAgICAgICAgc2NhbGVZOiAwLjEKICAgICAgICB9LAogICAgICAgIHRvVmFsdWU6IHsKICAgICAgICAgICAgc2NhbGVYOiAxLjEsCiAgICAgICAgICAgIHNjYWxlWTogMS4xCiAgICAgICAgfSwKICAgICAgICBkdXJhdGlvbjogMC41LAogICAgICAgIGVhc2luZzogewogICAgICAgICAgICB0eXBlOiAiZWxhc3RpYyIsCiAgICAgICAgICAgIG1vZGU6ICJvdXQiCiAgICAgICAgfQogICAgfSkuY2F0Y2goZSA9PiB7fSk7CmA7CgpjcmVhdGUoZm9vdHByaW50KTsnALrmsfgO8jUEbWVudQIEALrmsfgO2k8o8J+Ul2IzMGM2YzVkLWE0ZjctNDI2Ni1iYTM4LTM5M2RjOTVlMWVjYicAuuax+A7yNQhhYjFDbGljawIEALrmsfgOgVDYCEBjb25zdCBtZW51VHlwZSA9IHRoYXQgPyB0aGF0Lm1lbnUgOiAiY29yZSI7CmNvbnN0IHN0YXRlID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiU2hpZnQiKTsKCmlmIChsaW5rcy5hYjFCb3QudGFncy5pbnRlcnZhbCB8fCBzdGF0ZSkKewogICAgY2xlYXJJbnRlcnZhbChsaW5rcy5hYjFCb3QudGFncy5pbnRlcnZhbCk7CgogICAgbGlua3MuYWIxQm90Lm1hc2tzLmludGVydmFsID0gbnVsbDsKCiAgICBjbGVhckFuaW1hdGlvbnMobGlua3MuYWIxQm90KTsKCiAgICBjb25zdCByb3RaID0gbGlua3MuYWIxQm90LnRhZ3MuZGltZW5zaW9uICsgIlJvdGF0aW9uWiI7CgogICAgaWYgKHN0YXRlKQogICAgewogICAgICAgIGxpbmtzLm1lbnUuYWIxRW52aXJvbm1lbnRNZW51KCk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgbGlua3MubWVudS5hYjFPcGVuTWVudShtZW51VHlwZSk7CiAgICB9CgogICAgYXdhaXQgYW5pbWF0ZVRhZyhsaW5rcy5hYjFCb3QsCiAgICB7CiAgICAgICAgZnJvbVZhbHVlOiB7CiAgICAgICAgICAgIFtyb3RaXTogbGlua3MuYWIxQm90LnRhZ3Nbcm90Wl0sCiAgICAgICAgICAgIHNjYWxlOiBsaW5rcy5hYjFCb3QudGFncy5zY2FsZQogICAgICAgIH0sCiAgICAgICAgdG9WYWx1ZTogewogICAgICAgICAgICBbcm90Wl06IDAsCiAgICAgICAgICAgIHNjYWxlOiAwLjkKICAgICAgICB9LAogICAgICAgIGVhc2luZzogewogICAgICAgICAgICB0eXBlOiAic2ludXNvaWRhbCIsCiAgICAgICAgICAgIG1vZGU6ICJpbm91dCIKICAgICAgICB9LAogICAgICAgIGR1cmF0aW9uOiAwLjUKICAgIH0pLmNhdGNoKGUgPT4ge30pOwp9CmVsc2UKewogICAgbGlua3MuYWIxQm90LmFuaW1hdGVCb3QoKTsKCiAgICBsaW5rcy5hYjFCb3QubWFza3MubGluZVRvID0gbnVsbDsKCiAgICBpZiAobGlua3MuYWIxQm90LnRhZ3MuYXJtKQogICAgewogICAgICAgIGRlc3Ryb3kobGlua3MuYWIxQm90LmxpbmtzLmFybSk7CiAgICB9CgogICAgc2hvdXQoImFiMU1lbnVSZWZyZXNoIik7CgogICAgbGlua3MuYWIxQm90Lm1hc2tzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gbGlua3MuYWIxQm90LmFuaW1hdGVCb3QoKSwgMjAwMCk7Cn0KJwC65rH4DvI1HGFiMU1hbmlmZXN0U3RhdGVBd2FrZU9uRW50ZXICBAC65rH4DtpY9gFAbGlua3MucmVtZW1iZXIudGFncy5hYjFBd2FrZVN0YXRlID0gdHJ1ZTsKCmxldCBkaW1lbnNpb24gPSBjb25maWdCb3QudGFncy5tYXBQb3J0YWwgPyBjb25maWdCb3QudGFncy5tYXBQb3J0YWwgOiBjb25maWdCb3QudGFncy5ncmlkUG9ydGFsOwoKaWYgKCFkaW1lbnNpb24pCnsKICAgIHJldHVybjsKfQoKdGhpc0JvdC5hYjFNYW5pZmVzdEJvdCh7ZGltZW5zaW9uOiBkaW1lbnNpb24sIHBvc2l0aW9uOiB7eDogMCwgeTogMH19KTsnALrmsfgO8jUMb25BbnlCb3REcmFnAgQAuuax+A7RWqkGQGlmICh0aGF0LmJvdCAhPSBsaW5rcy5hYjFCb3QpIHJldHVybjsKCmlmIChsaW5rcy5hYjFCb3QudGFncy5hcm0pCnsKICAgIGRlc3Ryb3kobGlua3MuYWIxQm90LmxpbmtzLmFybSk7Cn0KCmlmICghdGhhdC5ib3QudGFncy5pbnRlcnZhbCkKewogICAgdGhpc0JvdC5hYjFDbGljaygpOwp9CgpsZXQgYXJtID0ge307Cgphcm0uc3BhY2UgPSAidGVtcExvY2FsIjsKYXJtW3RoYXQuZnJvbS5kaW1lbnNpb25dID0gdHJ1ZTsKYXJtLmRpbWVuc2lvbiA9IHRoYXQuZnJvbS5kaW1lbnNpb247CmFybS5zY2FsZSA9IDAuOTsKYXJtLnNjYWxlWiA9IDAuMDE7CmFybS5jb2xvciA9ICJjbGVhciI7CmFybS5zdHJva2VDb2xvciA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQmFzZUNvbG9yOwphcm0ubGluZUNvbG9yID0gbGlua3MucmVtZW1iZXIudGFncy5hYjFCYXNlQ29sb3I7CmFybS5saW5lVG8gPSB0aGF0LmJvdC5pZDsKYXJtLm1hbmFnZXIgPSAi8J+UlyIgKyB0aGlzQm90LmlkOwphcm0ub25DbGljayA9IGBAIGRlc3Ryb3kodGhpc0JvdCk7CgpsaW5rcy5tYW5hZ2VyLmFiMU1hbmlmZXN0Qm90KHtkaW1lbnNpb246IHRhZ3MuZGltZW5zaW9uLCBwb3NpdGlvbjp7eDp0YWdzW3RhZ3MuZGltZW5zaW9uICsgIlgiXSx5OnRhZ3NbdGFncy5kaW1lbnNpb24gKyAiWSJdfX0pO2A7Ci8vYXJtLm9uRHJvcCA9ICJAIG9zLnRvYXN0KCdoZWxsbycpOyI7CgpsZXQgbmV3QXJtID0gYXdhaXQgY3JlYXRlKGFybSk7CgpsaW5rcy5hYjFCb3QubWFza3MuYXJtID0gIvCflJciICsgbmV3QXJtLmlkOwoKb3MucmVwbGFjZURyYWdCb3QobmV3QXJtKTsnALrmsfgO8jURb25BbnlCb3REcm9wRW50ZXICBAC65rH4Dvdg3QFAaWYgKCF0YWdzLmFiMUJvdCkgcmV0dXJuOwppZiAobGlua3MuYWIxQm90LmxpbmtzLmFybSAhPSB0aGF0LmRyYWdCb3QpIHJldHVybjsKCmxpbmtzLmFiMUJvdC5saW5rcy5hcm0ubWFza3Muc3Ryb2tlQ29sb3IgPSAiY2xlYXIiOwpsaW5rcy5hYjFCb3QubGlua3MuYXJtLm1hc2tzLmxpbmVUbyA9IGZhbHNlOwoKbGlua3MuYWIxQm90Lm1hc2tzLmxpbmVUbyA9IHRoYXQudG8uYm90LmlkOycAuuax+A7yNRBvbkFueUJvdERyb3BFeGl0AgQAuuax+A7VYuQBQGlmICghdGFncy5hYjFCb3QpIHJldHVybjsKaWYgKGxpbmtzLmFiMUJvdC5saW5rcy5hcm0gIT0gdGhhdC5kcmFnQm90KSByZXR1cm47CgpsaW5rcy5hYjFCb3QubGlua3MuYXJtLm1hc2tzLnN0cm9rZUNvbG9yID0gbnVsbDsKbGlua3MuYWIxQm90LmxpbmtzLmFybS5tYXNrcy5saW5lVG8gPSBudWxsOwoKbGlua3MuYWIxQm90Lm1hc2tzLmxpbmVUbyA9IGxpbmtzLmFiMUJvdC5saW5rcy5hcm0uaWQ7JwC65rH4DvI1DG9uQW55Qm90RHJvcAIEALrmsfgOumSHBEBpZiAoIXRhZ3MuYWIxQm90KSByZXR1cm47CmlmIChsaW5rcy5hYjFCb3QubGlua3MuYXJtICE9IHRoYXQuZHJhZ0JvdCkgcmV0dXJuOwoKaWYgKHRoYXQudG8uYm90KQp7CiAgICBpZiAodGhhdC50by5ib3QgPT0gbGlua3MuYWIxQm90KQogICAgewogICAgICAgIGxpbmtzLm1lbnUuYWIxRW52aXJvbm1lbnRNZW51KCk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgbGlua3MucmVtZW1iZXIubWFza3MuYWIxQm90Rm9jdXMgPSAi8J+UlyIgKyB0aGF0LnRvLmJvdC5pZDsKCiAgICAgICAgdGhpc0JvdC5hYjFDbGljayh7bWVudTogImJvdCJ9KTsKICAgIH0KCiAgICBkZXN0cm95KGxpbmtzLmFiMUJvdC5saW5rcy5hcm0pOwp9CmVsc2UKewogICAgbGlua3MucmVtZW1iZXIubWFza3MuYWIxR3JpZEZvY3VzID0ge2RpbWVuc2lvbjogdGhhdC50by5kaW1lbnNpb24sIHBvc2l0aW9uOiB7eDogdGhhdC50by54LCB5OiB0aGF0LnRvLnl9fTsKCiAgICB0aGlzQm90LmFiMUNsaWNrKHttZW51OiAiZ3JpZCJ9KTsKfQA="}]}