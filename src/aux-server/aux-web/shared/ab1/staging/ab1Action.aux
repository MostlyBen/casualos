{"version":2,"updates":[{"id":0,"timestamp":1680190306849,"update":"AcUBxJzAggoAJwEEYm90cyQzOTg4MDFmZS00YjM1LTRjZTQtODI2Zi0yMzgzNWMxYjlhYzUBJwDEnMCCCgAGc3lzdGVtAgQAxJzAggoBFmFiLTEuYWN0aW9uLmNyZWF0ZV9ib3QnAMScwIIKAAlhYjFBY3Rpb24CBADEnMCCChgEdHJ1ZScAxJzAggoABGZvcm0CBADEnMCCCh0Hbm90aGluZycAxJzAggoAC2Rlc2NyaXB0aW9uAgQAxJzAggolDUNyZWF0ZXMgYm90cy4oAMScwIIKABFhYjFHcmlkQWN0aW9uTWVudQF+JwDEnMCCCgARYWIxR3JpZE1lbnVBY3Rpb24CBADEnMCCCjTfBEBjb25zdCBncmlkSW5mb3JtYXRpb24gPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRGb2N1czsKY29uc3QgbmV3Qm90ID0ge307CgpuZXdCb3QuY3JlYXRvciA9IG51bGw7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uXSA9IHRydWU7Cm5ld0JvdFtncmlkSW5mb3JtYXRpb24uZGltZW5zaW9uICsgIlgiXSA9IGdyaWRJbmZvcm1hdGlvbi5wb3NpdGlvbi54OwpuZXdCb3RbZ3JpZEluZm9ybWF0aW9uLmRpbWVuc2lvbiArICJZIl0gPSBncmlkSW5mb3JtYXRpb24ucG9zaXRpb24ueTsKbmV3Qm90LmNvbG9yID0gIiM3QjY0RkYiOy8vbGlua3MucmVtZW1iZXIudGFncy5hYjFCYXNlQ29sb3I7CgpsZXQgY3JlYXRlZEJvdCA9IGNyZWF0ZShuZXdCb3QpOwoKc2hvdXQoImFiMU1lbnVSZWZyZXNoIik7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiMUJvdC5tYXNrcy5saW5lVG8gPSBjcmVhdGVkQm90LmlkOwoKbGlua3MucmVtZW1iZXIubWFza3MuYWIxQm90Rm9jdXMgPSAi8J+UlyIgKyBjcmVhdGVkQm90LmlkOwoKbGlua3MubWFuaWZlc3RhdGlvbi5hYjFDbGljayh7bWVudTogImJvdCJ9KTsoAMScwIIKABBhYjFHcmlkTWVudUxhYmxlAX4nAMScwIIKABBhYjFHcmlkTWVudUxhYmVsAgQAxJzAggqTBQNib3QnAMScwIIKAA9hYjFHcmlkTWVudUljb24CBADEnMCCCpcFB2FkZF9ib3gnAMScwIIKAAhyZW1lbWJlcgIEAMScwIIKnwUo8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAxJzAggoADW1hbmlmZXN0YXRpb24CBADEnMCCCsYFKPCflJdkY2E1ZDk4Ny1jNGQ4LTQ2ZTQtYjYwYy1kYWE3YjJmNGRkYWQoAMScwIIKABNhYjFCb3RNZW51U29ydE9yZGVyAX4nAMScwIIKAAlhYjFJZ25vcmUCBADEnMCCCu4FBHRydWUoAMScwIIKAA1hYjFCb3RWZXJzaW9uAX0PJwEEYm90cyQ1ODQ5YWY1NS01ZThhLTQ4ZDYtOTEwNi0xOTk0OThlOWVjMDgBJwDEnMCCCvQFBnN5c3RlbQIEAMScwIIK9QUTYWItMS5hY3Rpb24uZGVzdHJveSgAxJzAggr0BQxhYjFCb3RBY3Rpb24BficAxJzAggr0BQlhYjFBY3Rpb24CBADEnMCCCooGBHRydWUnAMScwIIK9AUEZm9ybQIEAMScwIIKjwYHbm90aGluZycAxJzAggr0BRBhYjFCb3RNZW51QWN0aW9uAgQAxJzAggqXBoQBQGNvbnN0IHRhcmdldEJvdCA9IGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiMUJvdEZvY3VzOwoKZGVzdHJveSh0YXJnZXRCb3QpOwoKc2hvdXQoImFiMU1lbnVSZWZyZXNoIik7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7JwDEnMCCCvQFD2FiMUJvdE1lbnVMYWJlbAIEAMScwIIKnAcHZGVzdHJveScAxJzAggr0BQ5hYjFCb3RNZW51SWNvbgIEAMScwIIKpAcOZGVsZXRlX2ZvcmV2ZXInAMScwIIK9AUPYWIxQm90TWVudUNvbG9yAgQAxJzAggqzBwcjRDY2RDVFJwDEnMCCCvQFE2FiMUJvdE1lbnVTb3J0T3JkZXICBADEnMCCCrsHAzEwMCcAxJzAggr0BQhyZW1lbWJlcgIEAMScwIIKvwco8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAxJzAggr0BQ1tYW5pZmVzdGF0aW9uAgQAxJzAggrmByjwn5SXZGNhNWQ5ODctYzRkOC00NmU0LWI2MGMtZGFhN2IyZjRkZGFkJwDEnMCCCvQFCWFiMUlnbm9yZQIEAMScwIIKjQgEdHJ1ZSgAxJzAggr0BQ1hYjFCb3RWZXJzaW9uAX0PJwEEYm90cyRiMzM5YzExOC00ODlhLTQ2NmItYmE5Zi1iMDdhNWY5YjY2NGYBJwDEnMCCCpMIBnN5c3RlbQIEAMScwIIKlAgRYWItMS5hY3Rpb24ucGFzdGUoAMScwIIKkwgJYWIxQWN0aW9uAXgnAMScwIIKkwgEZm9ybQIEAMScwIIKpwgHbm90aGluZycAxJzAggqTCAtkZXNjcmlwdGlvbgIEAMScwIIKrwgtYWItMSBza2lsbCB1c2VkIGZvciBjb3B5aW5nIGFuZCBwYXN0aW5nIGJvdHMuJwDEnMCCCpMIB29uUGFzdGUCBADEnMCCCt0InwVAaWYgKCFidWlsZGVyVmVyc2lvbikKewogICAgcmV0dXJuOwp9CmNvbnNvbGUubG9nKHRoYXQpOwpsZXQgY29weUJvdCA9IEpTT04ucGFyc2UodGhhdC50ZXh0KTsKY29uc29sZS5sb2coY29weUJvdCwgImNvcHlCb3QiKTsKbGV0IHBhc3RlZERhdGEgPSAhY29weUJvdC5zdGF0ZSA/IHtbY29weUJvdC5pZF06IGNvcHlCb3R9IDogY29weUJvdC5zdGF0ZTsKY29uc29sZS5sb2cocGFzdGVkRGF0YSkKbGV0IGRpbU1vZCA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxRm9jdXNEYXRhOy8vTU9ESUZZIFRISVMgVE8gU0lNUExZIEJFIFRIRSBNT0QgVEhBVCBXRSBORUVEPz8/CgppZiAoT2JqZWN0LmtleXMocGFzdGVkRGF0YSkubGVuZ3RoID09IDEgJiYgZGltTW9kKQp7CiAgICBwYXN0ZWREYXRhW2RpbU1vZC5kaW1lbnNpb25dID0gdHJ1ZTsKICAgIHBhc3RlZERhdGFbZGltTW9kLmRpbWVuc2lvbisiWCJdID0gZGltTW9kLng7CiAgICBwYXN0ZWREYXRhW2RpbU1vZC5kaW1lbnNpb24rIlkiXSA9IGRpbU1vZC55OwoKICAgIG9zLnRvYXN0KCJib3QgYWRkZWQgdG8gaW5zdCIpOwp9CmVsc2UKewogICAgb3MudG9hc3QoImJvdHMgYWRkZWQgdG8gaW5zdCIpOwp9CgphYjEubG9nKCJhYi0xIHBhc3RlIik7CgpsaW5rcy5jcmVhdGUuYWIxQ3JlYXRlQm90cyh7Ym90czogcGFzdGVkRGF0YX0pOycAxJzAggqTCAhyZW1lbWJlcgIEAMScwIIK/Q0o8J+Ul2U1MzgwYTZiLThiNGQtNGE4Yi04YjA0LTU4ZTFlYjAzZTVlNycAxJzAggqTCAZjcmVhdGUCBADEnMCCCqQOKPCflJczNGMzYzIxMC01YmYxLTQ5Y2YtYjE1MS1lZTJkMDdmMGU2NzMnAMScwIIKkwgJYWIxSWdub3JlAgQAxJzAggrLDgR0cnVlKADEnMCCCpMIDWFiMUJvdFZlcnNpb24BfQ8nAMScwIIKkwgJb25LZXlEb3duAgQAxJzAggrRDvIIQGlmICghYnVpbGRlclZlcnNpb24gfHwgKCFsaW5rcy5yZW1lbWJlci5saW5rcy5hYjFCb3RGb2N1cyAmJiAhbGlua3MucmVtZW1iZXIubGlua3MuYWIxTXVsdGlwbGVCb3RGb2N1cykpCnsKICAgIHJldHVybjsKfQoKaWYgKHRoYXQua2V5cyA9PSAiYyIpCnsKICAgIGxldCBtZXRhSW5wdXQgPSBvcy5nZXRJbnB1dFN0YXRlKCJrZXlib2FyZCIsICJNZXRhIik7CgogICAgaWYgKCFtZXRhSW5wdXQpCiAgICB7CiAgICAgICAgbWV0YUlucHV0ID0gb3MuZ2V0SW5wdXRTdGF0ZSgia2V5Ym9hcmQiLCAiQ29udHJvbCIpOwogICAgfQogICAgCiAgICBpZiAoIW1ldGFJbnB1dCkKICAgIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IGZvcm1hdHRlZEZpbGU7CiAgICBsZXQgc3RhdGUgPSB7fTsKCiAgICBpZiAobGlua3MucmVtZW1iZXIubGlua3MuYWIxQm90Rm9jdXMpCiAgICB7CiAgICAgICAgbGV0IHNlbGVjdGVkQm90ID0gbGlua3MucmVtZW1iZXIubGlua3MuYWIxQm90Rm9jdXM7CgogICAgICAgIHN0YXRlW3NlbGVjdGVkQm90LmlkXSA9IHNlbGVjdGVkQm90OwoKICAgICAgICBhYjEubG9nKCJhYi0xIGNvcGllZCBhIGJvdCB0byBjbGlwYm9hcmQiKTsKICAgIH0KICAgIGVsc2UgaWYgKGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiMU11bHRpcGxlQm90Rm9jdXMpCiAgICB7CiAgICAgICAgbGV0IHNlbGVjdGVkQm90cyA9IGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiMU11bHRpcGxlQm90Rm9jdXM7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRCb3RzLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgc3RhdGVbc2VsZWN0ZWRCb3RzW2ldLmlkXSA9IHNlbGVjdGVkQm90c1tpXTsKICAgICAgICB9CgogICAgICAgIGFiMS5sb2coImFiLTEgY29waWVkIG11bHRpcGxlIGJvdHMgdG8gY2xpcGJvYXJkIik7CiAgICB9CgogICAgbGV0IG5ld0ZpbGUgPSB7fTsKICAgIG5ld0ZpbGUudmVyc2lvbiA9IDE7CiAgICBuZXdGaWxlLnN0YXRlID0gc3RhdGU7CgogICAgZm9ybWF0dGVkRmlsZSA9IEpTT04uc3RyaW5naWZ5KG5ld0ZpbGUpOwoKICAgIG9zLnNldENsaXBib2FyZChmb3JtYXR0ZWRGaWxlKTsKCiAgICBvcy50b2FzdCgiYm90IGNvcGllZCB0byBjbGlwYm9hcmQiKTsKfScBBGJvdHMkYzY4YzViODItYzBhNy00YTVhLTkxMDQtNWRkOGUzMmFlNGUyAScAxJzAggrEFwZzeXN0ZW0CBADEnMCCCsUXFmFiLTEuYWN0aW9uLm9wZW5fc2hlZXQnAMScwIIKxBcLZGVzY3JpcHRpb24CBADEnMCCCtwXFFNraWxsIHRvIG9wZW4gc2hlZXQuJwDEnMCCCsQXCWFiMUFjdGlvbgIEAMScwIIK8RcEdHJ1ZScAxJzAggrEFwRmb3JtAgQAxJzAggr2Fwdub3RoaW5nJwDEnMCCCsQXEWFiMUNvcmVNZW51QWN0aW9uAgQAxJzAggr+F8oCQGNvbnN0IGN1cnJlbnRJbnN0ID0gb3MuZ2V0Q3VycmVudEluc3QoKTsKY29uc3QgY3VycmVudERpbSA9IGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxQWN0aXZlRGltZW5zaW9uOwpjb25zdCBzdGF0ZSA9IG9zLmdldElucHV0U3RhdGUoImtleWJvYXJkIiwgIlNoaWZ0Iik7CgppZiAoc3RhdGUpIAp7CiAgICBvcy5vcGVuVVJMKGAvP2luc3Q9JHtjdXJyZW50SW5zdH0mc2hlZXRQb3J0YWw9JHtjdXJyZW50RGltfWApOwp9CmVsc2UKewogICAgY29uZmlnQm90LnRhZ3Muc2hlZXRQb3J0YWwgPSBjdXJyZW50RGltOwp9CgphYjEubG9nKCJhYi0xIG9wZW4gZGltZW5zaW9uIHNoZWV0Iik7JwDEnMCCCsQXCHJlbWVtYmVyAgQAxJzAggrJGijwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwDEnMCCCsQXEGFiMUNvcmVNZW51TGFiZWwCBADEnMCCCvAaCm9wZW4gc2hlZXQnAMScwIIKxBcQYWIxQm90TWVudUFjdGlvbgIEAMScwIIK+xrKAkBjb25zdCBjdXJyZW50SW5zdCA9IG9zLmdldEN1cnJlbnRJbnN0KCk7CmNvbnN0IGN1cnJlbnREaW0gPSBsaW5rcy5tYW5pZmVzdGF0aW9uLmxpbmtzLmFiMUJvdC50YWdzLmxpbmVUbzsKY29uc3Qgc3RhdGUgPSBvcy5nZXRJbnB1dFN0YXRlKCJrZXlib2FyZCIsICJTaGlmdCIpOwoKaWYgKHN0YXRlKSAKewogICAgb3Mub3BlblVSTChgLz9pbnN0PSR7Y3VycmVudEluc3R9JnNoZWV0UG9ydGFsPSR7Y3VycmVudERpbX1gKTsKfQplbHNlCnsKICAgIGNvbmZpZ0JvdC50YWdzLnNoZWV0UG9ydGFsID0gY3VycmVudERpbTsKfQoKYWIxLmxvZygiYWItMSBvcGVuIGJvdCBzaGVldCIpOycAxJzAggrEFw9hYjFCb3RNZW51TGFiZWwCBADEnMCCCsYdDm9wZW4gYm90IHNoZWV0JwDEnMCCCsQXDW1hbmlmZXN0YXRpb24CBADEnMCCCtUdKPCflJdkY2E1ZDk4Ny1jNGQ4LTQ2ZTQtYjYwYy1kYWE3YjJmNGRkYWQnAMScwIIKxBcOYWIxQm90TWVudUljb24CBADEnMCCCvwdCnRhYmxlX3ZpZXcnAMScwIIKxBcPYWIxQ29yZU1lbnVJY29uAgQAxJzAggqHHgp0YWJsZV92aWV3JwDEnMCCCsQXE2FiMUJvdE1lbnVTb3J0T3JkZXICBADEnMCCCpIeATEnAMScwIIKxBcJYWIxSWdub3JlAgQAxJzAggqUHgR0cnVlKADEnMCCCsQXDWFiMUJvdFZlcnNpb24BfQ8nAMScwIIKxBcPYWIxQm90TWVudUNvbG9yAgQAxJzAggqaHgcjNTVFNjc5JwDEnMCCCsQXEGFiMUNvcmVNZW51Q29sb3ICBADEnMCCCqIeByM1NUU2NzknAMScwIIKxBcYYWIxTXVsdGlwbGVCb3RNZW51QWN0aW9uAgQAxJzAggqqHvYDQGNvbnN0IGN1cnJlbnRJbnN0ID0gb3MuZ2V0Q3VycmVudEluc3QoKTsKY29uc3QgY3VycmVudERpbSA9ICJhYjFNdWx0aXBsZVNlbGVjdCI7Cgpjb25maWdCb3QudGFncy5zaGVldFBvcnRhbCA9IGN1cnJlbnREaW07CgpzZXRUYWdNYXNrKGxpbmtzLnJlbWVtYmVyLmxpbmtzLmFiMU11bHRpcGxlQm90Rm9jdXMsIGN1cnJlbnREaW0sIHRydWUsICJ0ZW1wTG9jYWwiKTsKCm1hc2tzLmN1cnJlbnRTaGVldEJvdHMgPSBsaW5rcy5yZW1lbWJlci50YWdzLmFiMU11bHRpcGxlQm90Rm9jdXM7Cm1hc2tzLm9uUG9ydGFsQ2hhbmdlZCA9IGBAIGlmICh0aGF0LmRpbWVuc2lvbiAhPSAiYWIxTXVsdGlwbGVTZWxlY3QiICYmIHRoYXQucG9ydGFsID09ICJzaGVldFBvcnRhbCIpCnsKICAgIGNsZWFyVGFnTWFza3MobGlua3MuY3VycmVudFNoZWV0Qm90cyk7CgogICAgY2xlYXJUYWdNYXNrcyh0aGlzQm90KTsKfSBgOwoKYWIxLmxvZygiYWItMSBvcGVuIG11bHRpcGxlIHNlbGVjdCBzaGVldCIpOycAxJzAggrEFxdhYjFNdWx0aXBsZUJvdE1lbnVMYWJlbAIEAMScwIIKoSIab3BlbiBtdWx0aXBsZSBzZWxlY3Qgc2hlZXQnAMScwIIKxBcXYWIxTXVsdGlwbGVCb3RNZW51Q29sb3ICBADEnMCCCrwiByM1NUU2NzknAMScwIIKxBcWYWIxTXVsdGlwbGVCb3RNZW51SWNvbgIEAMScwIIKxCIKdGFibGVfdmlldycBBGJvdHMkZWM4NWMxZDYtOWYxYS00MGQ0LTgyZTEtNWJkNjgwMzQ5YzI3AScAxJzAggrPIgZzeXN0ZW0CBADEnMCCCtAiD2FiLTEuYWN0aW9uLmFzaycAxJzAggrPIgRmb3JtAgQAxJzAggrgIgdub3RoaW5nKADEnMCCCs8iD2FiMUV4cGVyaW1lbnRhbAF+JwDEnMCCCs8iBm9uQ2hhdAIEAMScwIIK6SLiA0BpZiAodGhhdC5tZXNzYWdlLnN1YnN0cmluZygwLCAzKSAhPSAiYWIxIikgcmV0dXJuOwoKbGV0IG1lc3NhZ2UgPSB0aGF0Lm1lc3NhZ2Uuc3Vic3RyaW5nKDQpOwoKaWYgKG1lc3NhZ2UgPT0gImxpc3RlbiIgJiYgIXRhZ3MuZ3B0QWN0aXZlKQp7CiAgICBhYjEubG9nKCJhYi0xIGlzIGxpc3RlbmluZyIpOwoKICAgIG9zLnRvYXN0KCJhYi0xIGlzIGxpc3RlbmluZyIpOwoKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgcmV0dXJuOwp9CmVsc2UgaWYgKG1lc3NhZ2UgPT0gImxpc3RlbiIpCnsKICAgIGFiMS5sb2coImFiLTEgaXMgbm8gbG9uZ2VyIGxpc3RlbmluZyIpOwoKICAgIG9zLnRvYXN0KCJhYi0xIGlzIG5vIGxvbmdlciBsaXN0ZW5pbmciKTsKCiAgICBtYXNrcy5ncHRBY3RpdmUgPSBudWxsOwoKICAgIHJldHVybjsKfQoKYWIxLmxvZygiVVNFUjogIiArIG1lc3NhZ2UpOwoKdGhpc0JvdC5hc2tHUFQoIkAiICsgbWVzc2FnZSk7JwDEnMCCCs8iBmFza0dQVAIEAMScwIIKzCbLBEBpZiAoIXRhZ3MuZ3B0QWN0aXZlKSByZXR1cm47CgpsZXQgaW5xdWlyeSA9IHRoYXQuc3Vic3RyaW5nKDEpOwoKYWIxLmxvZygiYWItMTogVGhpbmtpbmcgYWJvdXQgIiArIGlucXVpcnkpOwoKaWYgKGxpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZEZvY3VzKQp7CiAgICBpbnF1aXJ5ID0gaW5xdWlyeSArIGAuIEJvdCBtdXN0IGluY2x1ZGUgeyR7bGlua3MucmVtZW1iZXIudGFncy5hYjFHcmlkRm9jdXMuZGltZW5zaW9ufTogdHJ1ZSwgJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRGb2N1cy5kaW1lbnNpb259WDogJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRGb2N1cy5wb3NpdGlvbi54fSwgJHtsaW5rcy5yZW1lbWJlci50YWdzLmFiMUdyaWRGb2N1cy5kaW1lbnNpb259WToke2xpbmtzLnJlbWVtYmVyLnRhZ3MuYWIxR3JpZEZvY3VzLnBvc2l0aW9uLnl9fS5gCn0KCmNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXNCb3Quc3VibWl0UmVxdWVzdEdQVChpbnF1aXJ5KTsKCmFiMS5sb2coImFiLTE6IFtBTlNXRVJdICIgKyBhbnN3ZXIpOwoKb3MucnVuKGFuc3dlcik7CgpsaW5rcy5tYW5pZmVzdGF0aW9uLmFiMUNsaWNrKCk7KADEnMCCCs8iCWdwdEFjdGl2ZQF4JwDEnMCCCs8iEHN1Ym1pdFJlcXVlc3RHUFQCBADEnMCCCpkr9wZAYXN5bmMgZnVuY3Rpb24gc2VuZENoYXRHcHRSZXF1ZXN0KHByb21wdCkgewogICAgY29uc3QgY2hhdEdwdFJlcXVlc3QgPSB7CiAgICAgICAgIm1vZGVsIjogImdwdC00IiwKICAgICAgICAibWVzc2FnZXMiOiBbCiAgICAgICAgICAgIHsgcm9sZTogInN5c3RlbSIsIGNvbnRlbnQ6IHRhZ3MucHJvbXB0fSwKICAgICAgICAgICAgeyByb2xlOiAidXNlciIsIGNvbnRlbnQ6IHByb21wdCB9CiAgICAgICAgXSwKICAgICAgICAidGVtcGVyYXR1cmUiOiAwLAogICAgICAgICJtYXhfdG9rZW5zIjogdGFncy5tYXhfdG9rZW5zLAogICAgICAgICJ0b3BfcCI6IDEsCiAgICAgICAgImZyZXF1ZW5jeV9wZW5hbHR5IjogMCwKICAgICAgICAicHJlc2VuY2VfcGVuYWx0eSI6IDAuNiwKICAgICAgICAic3RvcCI6IFsiIEh1bWFuOiIsICIgQUk6Il0KICAgIH07CgogICAgY29uc3QgcmVzID0gYXdhaXQgd2ViLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyIsIGNoYXRHcHRSZXF1ZXN0LCB7IGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyIHNrLUlYUFFnTTB5eWx5UVpwWTJ4cTZkVDNCbGJrRkoxbEliSTM1WDYzSm80TWR0NzhMdyJ9IH0pOwogICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgcmV0dXJuICIiOwogICAgaWYgKHJlcy5kYXRhLmNob2ljZXMubGVuZ3RoIDwgMSkgcmV0dXJuICIiOwogICAgY29uc3QgYWlSZXNwb25zZSA9IHJlcy5kYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50OwoKICAgIHJldHVybiBhaVJlc3BvbnNlOwp9Cgpjb25zdCBhaVJlc3AgPSBhd2FpdCBzZW5kQ2hhdEdwdFJlcXVlc3QodGhhdCk7CgpyZXR1cm4gYWlSZXNwOycAxJzAggrPIgZwcm9tcHQCBADEnMCCCpEyng1UaGUgZm9sbG93aW5nIGlzIGEgY29udmVyc2F0aW9uIHdpdGggYWIxLiBhYjEgaXMgaGVscGZ1bCwgY2xldmVyLCBhbmQgY2FwYWJsZS4gYWIxIHdpbGwgcmVzcG9uZCB3aXRoIHRoZSBjb3JyZWN0IGphdmFzY3JpcHQgaW1wbGVtZW50YXRpb24gKGNvZGUpIG9mIHRoZSByZXF1ZXN0ZWQgYWN0aW9uLgoKSGVyZSBpcyBhIGJyaWVmIGxpc3Qgb2YgdGhpbmdzIGFiMSBjYW4gZG86Ci0gQ3JlYXRlIGJvdHMKCkJvdHMgYXJlIGEgY29sbGVjdGlvbiBvZiB0YWdzLCBhbmQgdGhleSBjYW4gYmUgY3JlYXRlZCB1c2luZyB0aGUgY3JlYXRlKCkgZnVuY3Rpb24uClRoZSBjcmVhdGUoKSBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSBvbmUgb3IgbXVsdGlwbGUgYm90cyBvYmplY3RzLgpjcmVhdGUoKSByZXR1cm5zIGEgYm90IG9iamVjdDsgaXQgZG9lcyBub3QgbmVlZCB0byBiZSBzdG9yZWQgaW4gYSB2YXJpYWJsZSBvciBjb25zdC4gCgpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uIHRvIG1ha2UgYSByZWQgYm90IGluIHRoZSBob21lIGRpbWVuc2lvbjoKYGBgCmNyZWF0ZSh7CiAgICBob21lOiB0cnVlLAogICAgY29sb3I6ICJyZWQiLAogICAgZm9ybTogImN1YmUiCn0pOwpgYGAKCkFzIHlvdSBjYW4gc2VlLCB0aGUgZXhhbXBsZSBhYm92ZSBjcmVhdGVzIGEgYm90IHdpdGggdGhlIGBob21lYCB0YWcgc2V0IHRvIGB0cnVlYCBhbmQgdGhlIGBjb2xvcmAgdGFnIHNldCB0byBgcmVkYC4KVW5sZXNzIHNwZWNpZmllZCBvdGhlcndpc2UsIGFiMSBzaG91bGQgY3JlYXRlIGJvdHMgd2l0aCB0aGUgYGhvbWVgIHRhZyBzZXQgdG8gYHRydWVgLgoKRGltZW5zaW9ucyBhcmUgdGFncyB3aGljaCBlbmQgdXAgYmVpbmcgdmlzdWFsaXplZCBpbiAzRCBzcGFjZS4gSW4gYWRkaXRpb24gdG8gYmVpbmcgYSB0YWcsIGBob21lYCBpcyBhbHNvIGEgZGltZW5zaW9uLgpZb3UgY2FuIGNvbnRyb2wgdGhlIHBvc2l0aW9uIHRoYXQgYSBib3QgaXMgcmVuZGVyZWQgYXQgYnkgdXNpbmcgdGhlIGB7ZGltZW5zaW9ufVBvc2l0aW9uYCB0YWcsIHdoZXJlIGB7ZGltZW5zaW9ufWAgaXMgcmVwbGFjZWQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgZGltZW5zaW9uLgpIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGNyZWF0ZSgpIGZ1bmN0aW9uIHRvIG1ha2UgYSBib3QgYXQgcG9zaXRpb24gKDMsIDIpIGluIHRoZSBob21lIGRpbWVuc2lvbjoKYGBgCmNyZWF0ZSh7CiAgICBob21lOiB0cnVlLAogICAgaG9tZVBvc2l0aW9uOiAn4p6h77iPMywxJwp9KTsKYGBgCgpMaXN0ZW5lcnMgYXJlIHRhZ3Mgd2hpY2ggY29udGFpbiBKYXZhU2NyaXB0IGFuZCByZXNwb25kIHRvIGNlcnRhaW4gZXZlbnRzLiBUaGV5IHdvcmsgbGlrZSBub3JtYWwgdGFncywgZXhjZXB0IHRoZXkgbmVlZCB0byBoYXZlIGEgYEBgIHN5bWJvbCBhdCB0aGUgc3RhcnQgb2YgdGhlIHRhZyB2YWx1ZS4KSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBjcmVhdGUoKSBmdW5jdGlvbiB0byBtYWtlIGEgYm90IHdpdGggYSBgb25DbGlja2AgbGlzdGVuZXI6CmBgYApjcmVhdGUoewogICAgaG9tZTogdHJ1ZSwKICAgIG9uQ2xpY2s6IGBAb3MudG9hc3QoIkhlbGxvLCB3b3JsZCEiKTtgCn0pOwpgYGAKClBsZWFzZSByZXR1cm4gb25seSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY29kZSBhcyBhIHJlc3BvbnNlLigAxJzAggrPIgdwcm9tcHQyAX4nAMScwIIKzyIIcmVtZW1iZXICBADEnMCCCq0/KPCflJdlNTM4MGE2Yi04YjRkLTRhOGItOGIwNC01OGUxZWIwM2U1ZTcnAMScwIIKzyIRYWIxQ29yZU1lbnVBY3Rpb24CBADEnMCCCtQ/9wVAbGV0IGlucXVpcnkgPSB0aGF0OwpsZXQgc3BhY2VDaGVjayA9IGlucXVpcnkuaW5kZXhPZigiICIpOwpsZXQgdXJsQ2hlY2sgPSBmYWxzZTsKbGV0IG1lbnVCb3RzID0gZ2V0Qm90cyhjb25maWdCb3QudGFncy5tZW51UG9ydGFsLCB0cnVlKTsKCndoaXNwZXIobWVudUJvdHMsICJhYjFNZW51UmVmcmVzaCIpOwoKdHJ5IAp7CiAgICBuZXcgVVJMKGlucXVpcnkpOwoKICAgIHVybENoZWNrID0gdHJ1ZTsKfSBjYXRjaCAoZSkgCnsKICAgIHVybENoZWNrID0gZmFsc2U7Cn0KCmlmICh1cmxDaGVjaykKewogICAgLy9NQVkgTkVFRCBUTyBQVVQgU09NRSBRVUFMSUZJRVJTIEhFUkUKCiAgICAvLyBhd2FpdCBsaW5rcy5sZWFybi5hYjFBZGFwdCgiYWIxQ3VsdGl2YXRlIik7CgogICAgLy8gbGV0IGN1bHRpdmF0b3IgPSBnZXRCb3QoImFiMUN1bHRpdmF0ZSIpOwogICAgLy8gbGV0IG5ld0RhdGEgPSBhd2FpdCBjdWx0aXZhdG9yLmFiMUNvcmVNZW51QWN0aW9uKHRoYXQpOwoKICAgIC8vIGNvbnNvbGUubG9nKG5ld0RhdGEpCiAgICBvcy50b2FzdCgiY3VsdGl2YXRlIGFjdGlvbiBjb21pbmcgc29vbiIpOwp9CmVsc2UgaWYgKHNwYWNlQ2hlY2sgPT0gLTEpCnsKICAgIGxpbmtzLnNlYXJjaC5vbkxvb2t1cEFCMUVnZ3Moe2FiSUQ6IGlucXVpcnl9KTsKfQplbHNlCnsKICAgIG9zLnRvYXN0KCJhc2tpbmcgYWItMTogIiArIHRoYXQpOwoKICAgIG1hc2tzLmdwdEFjdGl2ZSA9IHRydWU7CgogICAgdGhpc0JvdC5hc2tHUFQoIkAiICsgdGhhdCk7Cn0nAMScwIIKzyIVYWIxQ29yZU1lbnVPbkdlbmVyYXRlAgQAxJzAggrMRVhAdGFncy5vblN1Ym1pdCA9IGBAIGxpbmtzLmJhc2VTa2lsbC5hYjFDb3JlTWVudUFjdGlvbih0aGF0LnRleHQpO2A7CnRhZ3MuZm9ybSA9ICJpbnB1dCI7JwDEnMCCCs8iFGFiMUNvcmVNZW51U29ydE9yZGVyAgQAxJzAggqlRgEyJwDEnMCCCs8iEWFiMUdyaWRNZW51QWN0aW9uAgQAxJzAggqnRrgBQGxldCBtZW51Qm90cyA9IGdldEJvdHMoY29uZmlnQm90LnRhZ3MubWVudVBvcnRhbCwgdHJ1ZSk7Cgp3aGlzcGVyKG1lbnVCb3RzLCAiYWIxTWVudVJlZnJlc2giKTsKCm9zLnRvYXN0KCJhc2tpbmcgYWItMTogIiArIHRoYXQpOwoKbWFza3MuZ3B0QWN0aXZlID0gdHJ1ZTsKCnRoaXNCb3QuYXNrR1BUKCJAIiArIHRoYXQpOycAxJzAggrPIhVhYjFHcmlkTWVudU9uR2VuZXJhdGUCBADEnMCCCuBHWEB0YWdzLm9uU3VibWl0ID0gYEAgbGlua3MuYmFzZVNraWxsLmFiMUNvcmVNZW51QWN0aW9uKHRoYXQudGV4dCk7YDsKdGFncy5mb3JtID0gImlucHV0IjsnAMScwIIKzyINbWFuaWZlc3RhdGlvbgIEAMScwIIKuUgo8J+Ul2RjYTVkOTg3LWM0ZDgtNDZlNC1iNjBjLWRhYTdiMmY0ZGRhZCcAxJzAggrPIhRhYjFHcmlkTWVudVNvcnRPcmRlcgIEAMScwIIK4EgCLTEnAMScwIIKzyIQYWIxR3JpZE1lbnVMYWJlbAIEAMScwIIK40gIYXNrIGFiLTEnAMScwIIKzyIQYWIxQ29yZU1lbnVMYWJlbAIEAMScwIIK7EgIYXNrIGFiLTEnAMScwIIKzyIPYWIxQ29yZU1lbnVJY29uAgQAxJzAggr1SARjdWJlJwDEnMCCCs8iD2FiMUdyaWRNZW51SWNvbgIEAMScwIIK+kgEY3ViZScAxJzAggrPIgplZGl0UHJvbXB0AgQAxJzAggr/SLQHQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWIxTWVudSI7CgpsZXQgcHJvbXB0TWVudUJ1dHRvbiA9IHt9OwoKcHJvbXB0TWVudUJ1dHRvbi5hYjFNZW51ID0gdHJ1ZTsKcHJvbXB0TWVudUJ1dHRvbi5hYjFNZW51UmVmcmVzaCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKcHJvbXB0TWVudUJ1dHRvbi5tYW5pZmVzdGF0aW9uID0gdGFncy5tYW5pZmVzdGF0aW9uOwpwcm9tcHRNZW51QnV0dG9uLnJlbWVtYmVyID0gdGFncy5yZW1lbWJlcjsKcHJvbXB0TWVudUJ1dHRvbi5ncHRCb3QgPSAi8J+UlyIgKyB0aGlzQm90LmlkOwpwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gImxvYWQgcHJvbXB0IjsKcHJvbXB0TWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJjbG91ZF9kb3dubG9hZCI7CnByb21wdE1lbnVCdXR0b24ub25DbGljayA9ICJAIGxpbmtzLmdwdEJvdC51cGRhdGVQcm9tcHQoJ2xvYWQnKTsiOwoKbGlua3MubWVudS5hYjFDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOwoKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICJzYXZlIHByb21wdCI7CnByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiYmFja3VwIjsKcHJvbXB0TWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgbGlua3MuZ3B0Qm90LnVwZGF0ZVByb21wdCgnc2F2ZScpOyI7CgpsaW5rcy5tZW51LmFiMUNyZWF0ZU1lbnVCdXR0b24ocHJvbXB0TWVudUJ1dHRvbik7CgptYXNrcy5vbkdyaWRDbGljayA9IGBAIGNvbmZpZ0JvdC5tYXNrcy50YWdQb3J0YWwgPSBudWxsOwoKdGFnUG9ydGFsQm90Lm1hc2tzLnRhZ1BvcnRhbEFuY2hvclBvaW50ID0gbnVsbDsKYDsKCnRhZ1BvcnRhbEJvdC5tYXNrcy50YWdQb3J0YWxBbmNob3JQb2ludCA9ICJ0b3AiOwoKY29uZmlnQm90Lm1hc2tzLnRhZ1BvcnRhbCA9IHRoaXNCb3QuaWQgKyAiLnByb21wdCI7JwDEnMCCCs8iBG1lbnUCBADEnMCCCrJQKPCflJdiMzBjNmM1ZC1hNGY3LTQyNjYtYmEzOC0zOTNkYzk1ZTFlY2InAMScwIIKzyIMdXBkYXRlUHJvbXB0AgQAxJzAggrZUNEIQHNob3V0KCJhYjFNZW51UmVmcmVzaCIpOwoKY29uZmlnQm90Lm1hc2tzLm1lbnVQb3J0YWwgPSAiYWIxTWVudSI7CgpsZXQgcHJvbXB0TWVudUJ1dHRvbiA9IHt9OwoKcHJvbXB0TWVudUJ1dHRvbi5hYjFNZW51ID0gdHJ1ZTsKcHJvbXB0TWVudUJ1dHRvbi5mb3JtID0gImlucHV0IjsKcHJvbXB0TWVudUJ1dHRvbi5hYjFNZW51UmVmcmVzaCA9ICJAIGRlc3Ryb3kodGhpc0JvdCk7IjsKcHJvbXB0TWVudUJ1dHRvbi5tYW5pZmVzdGF0aW9uID0gdGFncy5tYW5pZmVzdGF0aW9uOwpwcm9tcHRNZW51QnV0dG9uLnJlbWVtYmVyID0gdGFncy5yZW1lbWJlcjsKcHJvbXB0TWVudUJ1dHRvbi5ncHRCb3QgPSAi8J+UlyIgKyB0aGlzQm90LmlkOwoKaWYgKHRoYXQgPT0gImxvYWQiKQp7CiAgICBwcm9tcHRNZW51QnV0dG9uLmxhYmVsID0gImxvYWQgcHJvbXB0IjsKICAgIHByb21wdE1lbnVCdXR0b24uZm9ybUFkZHJlc3MgPSAiY2xvdWRfZG93bmxvYWQiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5vblN1Ym1pdCA9ICJAIGxpbmtzLmdwdEJvdC5sb2FkUHJvbXB0KHRoYXQudGV4dCk7IjsKfQplbHNlCnsKICAgIHByb21wdE1lbnVCdXR0b24ubGFiZWwgPSAic2F2ZSBwcm9tcHQiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJiYWNrdXAiOwogICAgcHJvbXB0TWVudUJ1dHRvbi5vblN1Ym1pdCA9ICJAIGxpbmtzLmdwdEJvdC5zYXZlUHJvbXB0KHRoYXQudGV4dCk7IjsKfQoKbGlua3MubWVudS5hYjFDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOwoKcHJvbXB0TWVudUJ1dHRvbi5mb3JtID0gbnVsbDsKcHJvbXB0TWVudUJ1dHRvbi5sYWJlbCA9ICIgICI7CnByb21wdE1lbnVCdXR0b24ubGFiZWxBbGlnbm1lbnQgPSAiY2VudGVyIjsKcHJvbXB0TWVudUJ1dHRvbi5jb2xvciA9ICIjZjI0NzI3IjsKcHJvbXB0TWVudUJ1dHRvbi5mb3JtQWRkcmVzcyA9ICJjYW5jZWwiOwpwcm9tcHRNZW51QnV0dG9uLm9uU3VibWl0ID0gbnVsbDsKcHJvbXB0TWVudUJ1dHRvbi5vbkNsaWNrID0gIkAgbGlua3MuZ3B0Qm90LmVkaXRQcm9tcHQoKTsiOwoKbGlua3MubWVudS5hYjFDcmVhdGVNZW51QnV0dG9uKHByb21wdE1lbnVCdXR0b24pOycAxJzAggrPIgpsb2FkUHJvbXB0AgQAxJzAggqpWd0CQGNvbnN0IHByb21wdE5hbWUgPSAiZ3B0X3Byb21wdF8iICsgdGhhdDsKY29uc3QgbmV3UHJvbXB0ID0gYXdhaXQgb3MuZ2V0RGF0YShsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleSwgcHJvbXB0TmFtZSwgbGlua3MucmVtZW1iZXIudGFncy5hYjFFbmRwb2ludCk7CgppZiAoIW5ld1Byb21wdC5zdWNjZXNzKQp7CiAgICBvcy50b2FzdCgibm8gcHJvbXB0IGZvdW5kIGJ5IHRoYXQgbmFtZSIpOwp9CmVsc2UKewogICAgdGFncy5wcm9tcHQgPSBuZXdQcm9tcHQuZGF0YTsKfQoKaWYgKGNvbmZpZ0JvdC50YWdzLnByb21wdCA9PSB0aGF0KQp7CiAgICByZXR1cm47Cn0KCnRoaXNCb3QuZWRpdFByb21wdCgpOycAxJzAggrPIgpzYXZlUHJvbXB0AgQAxJzAggqHXJsDQGNvbnN0IGF1dGhvciA9IGF3YWl0IG9zLnJlcXVlc3RBdXRoQm90KCk7CmNvbnN0IHByb21wdE5hbWUgPSAiZ3B0X3Byb21wdF8iICsgdGhhdDsKY29uc3QgbmV3UHJvbXB0ID0gYXdhaXQgb3MucmVjb3JkRGF0YShsaW5rcy5yZW1lbWJlci50YWdzLmFiMVJlY29yZEtleSwgcHJvbXB0TmFtZSwgdGFncy5wcm9tcHQsIHtlbmRwb2ludDogbGlua3MucmVtZW1iZXIudGFncy5hYjFFbmRwb2ludCwgdXBkYXRlUG9saWN5OiBbYXV0aG9yLmlkXX0pOwoKaWYgKCFuZXdQcm9tcHQuc3VjY2VzcykKewogICAgb3MudG9hc3QoInNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluIik7Cn0KZWxzZQp7CiAgICBvcy50b2FzdCgicHJvbXB0IHNhdmVkIGFzICIgKyB0aGF0KTsKfQoKdGhpc0JvdC5lZGl0UHJvbXB0KCk7JwDEnMCCCs8iCWFiMUlnbm9yZQIEAMScwIIKo18EdHJ1ZSgAxJzAggrPIg1hYjFCb3RWZXJzaW9uAX0MJwDEnMCCCs8iCWFiMUFjdGlvbgIEAMScwIIKqV8EdHJ1ZScAxJzAggrPIgZzZWFyY2gCBADEnMCCCq5fKPCflJdkODM3MTQ0NC05MTU4LTQ0MzYtOGZjNy04NGNjOTFiN2Y1MjUnAMScwIIKzyIFbGVhcm4CBADEnMCCCtVfKPCflJc2NjU3Yjg2NS1lOTgzLTQ0MDEtOWZjOS1mNTQxOGQxOGE3ZjcnAMScwIIKzyIKbWF4X3Rva2VucwIEAMScwIIK/F8ENTAwMCcAxJzAggrPIhBvbkFCMUluaXRpYWxpemVkAgQAxJzAggqBYE5AaWYgKGNvbmZpZ0JvdC50YWdzLnByb21wdCkKewogICAgdGhpc0JvdC5sb2FkUHJvbXB0KGNvbmZpZ0JvdC50YWdzLnByb21wdCk7Cn0nAQRib3RzJGY5ZmQ3ZTJlLTdjY2UtNDNmYi1iMjIzLWQzMmNiNDJiZWJlOAEnAMScwIIK0GAGc3lzdGVtAgQAxJzAggrRYBVhYi0xLmFjdGlvbi5jb2xvcl9ib3QnAMScwIIK0GAEZm9ybQIEAMScwIIK52AHbm90aGluZycAxJzAggrQYAlhYjFBY3Rpb24CBADEnMCCCu9gBHRydWUnAMScwIIK0GAQYWIxQm90TWVudUFjdGlvbgIEAMScwIIK9GCPAUBjb25zdCB0YXJnZXRCb3QgPSBsaW5rcy5yZW1lbWJlci5saW5rcy5hYjFCb3RGb2N1czsKCm9zLnNob3dJbnB1dEZvclRhZyh0YXJnZXRCb3QsICJjb2xvciIsIHsKICAgIHR5cGU6ICdjb2xvcicsCiAgICB0aXRsZTogJ3BpY2sgYSBjb2xvcicKfSk7KADEnMCCCtBgEGFiMUdyaWRNZW51TGFiZWwBficAxJzAggrQYA9hYjFCb3RNZW51TGFiZWwCBADEnMCCCoViBWNvbG9yJwDEnMCCCtBgDmFiMUJvdE1lbnVJY29uAgQAxJzAggqLYgdwYWxldHRlJwDEnMCCCtBgCHJlbWVtYmVyAgQAxJzAggqTYijwn5SXZTUzODBhNmItOGI0ZC00YThiLThiMDQtNThlMWViMDNlNWU3JwDEnMCCCtBgE2FiMUJvdE1lbnVTb3J0T3JkZXICBADEnMCCCrpiATInAMScwIIK0GAJYWIxSWdub3JlAgQAxJzAggq8YgR0cnVlKADEnMCCCtBgDWFiMUJvdFZlcnNpb24BfQ8nAMScwIIK0GAPYWIxQm90TWVudUNvbG9yAgQAxJzAggrCYgcjNTVFNjc5AA=="}]}