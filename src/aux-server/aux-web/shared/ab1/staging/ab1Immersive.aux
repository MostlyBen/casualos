{"version":2,"updates":[{"id":0,"timestamp":1679322277228,"update":"ARaY5LF6ACcBBGJvdHMkYzQ4OTE5OGEtZjg5OS00YmU2LWIxYTAtZjQyN2RmMmZmMzNkAScAmOSxegAGc3lzdGVtAgQAmOSxegEWYWItMS5pbW1lcnNpdmUuaW1tZXJzZSgAmOSxegAKb25Cb3RBZGRlZAF+KACY5LF6AA9vbkluc3RTdHJlYW1pbmcBficAmOSxegAPb25Qb3J0YWxDaGFuZ2VkAgQAmOSxehr9AkAvL1RISVMgSU5JVElBVEVTIEEgQ0hFQ0sgRk9SIElNTUVSU0lWRSBNT0RFCmlmICh0aGF0LnBvcnRhbCA9PSAibGVmdFdyaXN0UG9ydGFsIikKewogICAgdGhpc0JvdC5vbkxlZnRXcmlzdFBvcnRhbCgpOwp9CgppZiAodGhhdC5wb3J0YWwgIT0gImdyaWRQb3J0YWwiIHx8IHRoYXQuZGltZW5zaW9uICE9ICJpbW1lcnNpdmUiKQp7CiAgICByZXR1cm47Cn0KCnRoaXNCb3Quc2V0dXBJbW1lcnNpdmVJbnRlcmZhY2UoKTsKCnRoaXNCb3Quc2V0dXBDc3NDb21waWxlcigpOwoKdGhpc0JvdC5pbml0aWFsaXplTWF0aCgpOwoKLy9pbml0aWFsaXplSW1tZXJzaXZlTWVudQovL2luaXRpYWxpemVTcGFjaWFsQ2FsaWJyYXRpb24KCnRoaXNCb3Qub25JbW1lcnNpdmVTZXR1cCgpOycAmOSxegAQb25JbW1lcnNpdmVTZXR1cAIEAJjksXqYA9AIQGxldCBzdXBwb3J0c0FSID0gb3MuZGV2aWNlKCkuc3VwcG9ydHNBUjsKbGV0IHN1cHBvcnRzVlIgPSBvcy5kZXZpY2UoKS5zdXBwb3J0c1ZSOwoKLy9TRVRVUCBGUlVTVFVNPz8/CgppZiAoIXN1cHBvcnRzQVIgJiYgIXN1cHBvcnRzVlIpCnsKICAgIHJldHVybjsKfQoKZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbENhbWVyYVR5cGUgPSAncGVyc3BlY3RpdmUnOwoKbGVmdFdyaXN0UG9ydGFsQm90LnRhZ3MucG9ydGFsR3JpZFNjYWxlID0gMC4wMjU7CgpyaWdodFdyaXN0UG9ydGFsQm90LnRhZ3MucG9ydGFsR3JpZFNjYWxlID0gMC4wMjU7CgpnbG9iYWxUaGlzLm1haW5TY2VuZUJvdCA9IGNyZWF0ZSh7CiAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICBmb3JtOiAnZGltZW5zaW9uJywKICAgIGZvcm1BZGRyZXNzOiB0YWdzLm1haW5TY2VuZURpbWVuc2lvbiwKICAgIFt0YWdzLnJvb3REaW1lbnNpb25dOiB0cnVlLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1YYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVlgXTogMCwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259WmBdOiAwLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1Sb3RhdGlvblhgXTogMCwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259Um90YXRpb25ZYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVJvdGF0aW9uWmBdOiAwLAp9KTsKCmlmICh0YWdzLnNob3dDb21wYXNzID09PSB0cnVlKSB7CiAgICBjcmVhdGUoewogICAgICAgIHNwYWNlOiAndGVtcExvY2FsJywKICAgICAgICBmb3JtOiAnc3ByaXRlJywKICAgICAgICBmb3JtQWRkcmVzczogJ2h0dHBzOi8vYnVpbGRlci1sdG0tZmlsZXMuczMuYW1hem9uYXdzLmNvbS8wMTc0NGQ0Nzc0M2FiYjgyNzI3NWI3YmI4NjVmMjZlNDM4NjAzOTc5OGQ5NzUzZDUyMTM5OTUxNWRjMzcwZmFiLnBuZycsCiAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSwKICAgICAgICBwb2ludGFibGU6IGZhbHNlLAogICAgICAgIFt0YWdzLm1haW5TY2VuZURpbWVuc2lvbl06IHRydWUsCiAgICAgICAgW2Ake3RhZ3MubWFpblNjZW5lRGltZW5zaW9ufVpgXTogLTEuNSwKICAgICAgICBzY2FsZTogMywKICAgIH0pOwp9JwCY5LF6AARmb3JtAgQAmOSxeukLB25vdGhpbmcnAJjksXoADGFiMUltbWVyc2l2ZQIEAJjksXrxCwR0cnVlJwCY5LF6ABFvbkxlZnRXcmlzdFBvcnRhbAIEAJjksXr2C+oHQGxlZnRXcmlzdFBvcnRhbEJvdC50YWdzLndyaXN0UG9ydGFsV2lkdGggPSAtMTsKbGVmdFdyaXN0UG9ydGFsQm90LnRhZ3Mud3Jpc3RQb3J0YWxIZWlnaHQgPSAtMTsKCi8vIENvbXBhc3MgQ2FsaWJyYXRpb24gQnV0dG9uICoqKiBORUVEIFRPIFVQREFURQpjcmVhdGUobW9kRmFjdG9yeS5idXR0b24oewogICAgc3BhY2U6ICd0ZW1wTG9jYWwnLAogICAgZGltZW5zaW9uOiBjb25maWdCb3QudGFncy5sZWZ0V3Jpc3RQb3J0YWxOYW1lLAogICAgZGltZW5zaW9uWDogNS41LAogICAgZGltZW5zaW9uWTogMywKICAgIGxhYmVsOiAnQ29tcGFzcyBDYWxpYnJhdGlvbicsCiAgICBvbkNsaWNrOiBgQAogICAgICAgIHNwYXRpYWxDYWxpYnJhdGlvbi5jb21wYXNzQ2FsaWJyYXRpb24oKTsKICAgIGAKfSkpOwoKLy8gVG90ZW0gQ2FsaWJyYXRpb24gQnV0dG9uCmNyZWF0ZShtb2RGYWN0b3J5LmJ1dHRvbih7CiAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICBkaW1lbnNpb246IGNvbmZpZ0JvdC50YWdzLmxlZnRXcmlzdFBvcnRhbE5hbWUsCiAgICBkaW1lbnNpb25YOiA1LjUsCiAgICBkaW1lbnNpb25ZOiA0LAogICAgb25BZGRlZDogYEAKICAgICAgICB0YWdzLmxhYmVsID0gJ1N0YXJ0IFRvdGVtIENhbGlicmF0aW9uJzsKCiAgICAgICAgdGFncy5vblRvdGVtU2V0dXBTdGFydGVkID0gXGBACiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAnU3RvcCBUb3RlbSBDYWxpYnJhdGlvbic7CiAgICAgICAgXGA7CgogICAgICAgIHRhZ3Mub25Ub3RlbVNldHVwU3RvcHBlZCA9IFxgQAogICAgICAgICAgICB0YWdzLmxhYmVsID0gJ1N0YXJ0IFRvdGVtIENhbGlicmF0aW9uJzsKICAgICAgICBcYDsKICAgIGAsCiAgICBvbkNsaWNrOiBgQAogICAgICAgIGlmICh0b3RlbUlucHV0LnRhZ3MuZW5hYmxlZCkgewogICAgICAgICAgICB0b3RlbUlucHV0LnN0b3AoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b3RlbUlucHV0LnN0YXJ0KCk7CiAgICAgICAgfQogICAgYAp9KSk7JwCY5LF6AA5pbml0aWFsaXplTWF0aAIEAJjksXrhE+mPAUAvLyA9PT09PT09PT09Ci8vIG1hdGggdXRpbHMKLy8gPT09PT09PT09PQpnbG9iYWxUaGlzLm1hdGhVdGlscyA9IHt9OwoKbWF0aFV0aWxzLmNsYW1wID0gKHZhbHVlLCBtaW4sIG1heCkgPT4gewoJcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpOwp9CgptYXRoVXRpbHMuZm1vZCA9IChhLGIpID0+IHsgCglyZXR1cm4gTnVtYmVyKChhIC0gKE1hdGguZmxvb3IoYSAvIGIpICogYikpLnRvUHJlY2lzaW9uKDgpKTsgCn0KCm1hdGhVdGlscy53cmFwVG8yUGkgPSAoYSkgPT4geyAKCWEgPSBtYXRoVXRpbHMuZm1vZChhLCBNYXRoLlBJICogMik7CglyZXR1cm4gYTsKfQoKbWF0aFV0aWxzLmZsaXBZWiA9ICh2LCBzaWduKSA9PiB7CiAgICBjb25zdCB5ID0gdi55OwogICAgY29uc3QgeiA9IHYuejsKICAgIHYueiA9IHk7CiAgICB2LnkgPSBzaWduID8gLXogOiB6Owp9CgovLyA9PT09PT09PT09Ci8vIHZlY3RvcjMKLy8gPT09PT09PT09PQpnbG9iYWxUaGlzLnZlY3RvcjMgPSB7fTsKCnZlY3RvcjMuemVybyA9ICgpID0+IHsKCXJldHVybiB7eDogMCwgeTogMCwgejogMH0KfQoKdmVjdG9yMy51cCA9ICgpID0+IHsKCXJldHVybiB7eDogMCwgeTogMSwgejogMH0KfQoKdmVjdG9yMy5vbmUgPSAoKSA9PiB7CglyZXR1cm4ge3g6IDEsIHk6IDEsIHo6IDF9Cn0KCnZlY3RvcjMuYXBwbHlRdWF0ZXJuaW9uID0gKHYsIHEpID0+IHsKCQljb25zdCB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56OwoJCWNvbnN0IHF4ID0gcS54LCBxeSA9IHEueSwgcXogPSBxLnosIHF3ID0gcS53OwoKCQkvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3RvcgoJCWNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5OwoJCWNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6OwoJCWNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4OwoJCWNvbnN0IGl3ID0gLSBxeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7CgoJCS8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXQKCQl2LnggPSBpeCAqIHF3ICsgaXcgKiAtIHF4ICsgaXkgKiAtIHF6IC0gaXogKiAtIHF5OwoJCXYueSA9IGl5ICogcXcgKyBpdyAqIC0gcXkgKyBpeiAqIC0gcXggLSBpeCAqIC0gcXo7CgkJdi56ID0gaXogKiBxdyArIGl3ICogLSBxeiArIGl4ICogLSBxeSAtIGl5ICogLSBxeDsKCgkJcmV0dXJuIHY7Cn0KCnZlY3RvcjMubGVuZ3RoU3EgPSAodikgPT4gewogICAgcmV0dXJuIHYueCAqIHYueCArIHYueSAqIHYueSArIHYueiAqIHYuejsKfQoKdmVjdG9yMy5kb3QgPSAodjEsIHYyKSA9PiB7CiAgICByZXR1cm4gdjEueCAqIHYyLnggKyB2MS55ICogdjIueSArIHYxLnogKiB2Mi56Owp9Cgp2ZWN0b3IzLmFuZ2xlID0gKHYxLCB2MikgPT4gewoJCWNvbnN0IGRlbm9taW5hdG9yID0gTWF0aC5zcXJ0KCB2ZWN0b3IzLmxlbmd0aFNxKHYxKSAqIHZlY3RvcjMubGVuZ3RoU3EodjIpICk7CgkJaWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiBNYXRoLlBJIC8gMjsKCgkJY29uc3QgdGhldGEgPSB2ZWN0b3IzLmRvdCh2MSwgdjIpIC8gZGVub21pbmF0b3I7CgkJLy8gY2xhbXAsIHRvIGhhbmRsZSBudW1lcmljYWwgcHJvYmxlbXMKCQlyZXR1cm4gTWF0aC5hY29zKG1hdGhVdGlscy5jbGFtcCh0aGV0YSwgLSAxLCAxKSk7Cn0KCnZlY3RvcjMubGVycCA9ICh2MSwgdjIsIHQpID0+IHsKICAgIHJldHVybiB7CiAgICAgICAgeDogdjEueCArICh2Mi54IC0gdjEueCkgKiB0LAoJCXk6IHYxLnkgKyAodjIueSAtIHYxLnkpICogdCwKCQl6OiB2MS56ICsgKHYyLnogLSB2MS56KSAqIHQKICAgIH0KfQoKdmVjdG9yMy5sZW5ndGggPSAodikgPT4gewoJcmV0dXJuIE1hdGguc3FydCh2LnggKiB2LnggKyB2LnkgKiB2LnkgKyB2LnogKiB2LnopOwp9Cgp2ZWN0b3IzLmxlbmd0aFNxID0gKHYpID0+IHsKCXJldHVybiB2LnggKiB2LnggKyB2LnkgKiB2LnkgKyB2LnogKiB2Lno7Cn0KCnZlY3RvcjMuYXBwbHlNYXRyaXg0ID0gKHYsIG0pID0+IHsKCWNvbnN0IHggPSB2LngsIHkgPSB2LnksIHogPSB2Lno7Cgljb25zdCB3ID0gMSAvIChtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0pOwoKCXYueCA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgKiB3OwoJdi55ID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIHc7Cgl2LnogPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAqIHc7CgoJcmV0dXJuIHY7Cn0KCnZlY3RvcjMubXVsdGlwbHlTY2FsYXIgPSAodiwgcykgPT4gewoJdi54ICo9IHM7Cgl2LnkgKj0gczsKCXYueiAqPSBzOwoKCXJldHVybiB2Owp9Cgp2ZWN0b3IzLmNyb3NzVmVjdG9ycyA9IChhLCBiKSA9PiB7Cgljb25zdCB2ID0gdmVjdG9yMy56ZXJvKCk7Cgljb25zdCBheCA9IGEueCwgYXkgPSBhLnksIGF6ID0gYS56OwoJY29uc3QgYnggPSBiLngsIGJ5ID0gYi55LCBieiA9IGIuejsKCgl2LnggPSBheSAqIGJ6IC0gYXogKiBieTsKCXYueSA9IGF6ICogYnggLSBheCAqIGJ6OwoJdi56ID0gYXggKiBieSAtIGF5ICogYng7CglyZXR1cm4gdjsKfQoKdmVjdG9yMy5hcHBseUV1bGVyID0gKHYsIGV1bGVyLCBvcmRlciA9ICdYWVonKSA9PiB7CglyZXR1cm4gdmVjdG9yMy5hcHBseVF1YXRlcm5pb24odiwgcXVhdGVybmlvbi5mcm9tRXVsZXIoZXVsZXIsIG9yZGVyKSk7Cn0KCnZlY3RvcjMuYXBwbHlBeGlzQW5nbGUgPSAodiwgYXhpcywgYW5nbGUpID0+IHsKCXJldHVybiB2ZWN0b3IzLmFwcGx5UXVhdGVybmlvbiggdiwgcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKCBheGlzLCBhbmdsZSApICk7Cn0KCnZlY3RvcjMuc2V0RnJvbVJvdGF0aW9uTWF0cml4ID0gKG0sIG9yZGVyID0gJ1hZWicpID0+IHsKCS8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCgkvLyBjb25zb2xlLmxvZyhgW3ZlY3RvcjMuc2V0RnJvbVJvdGF0aW9uTWF0cml4XSAxLiBtYXRyaXhgLCBKU09OLnN0cmluZ2lmeShtKSk7Cgljb25zdCBtMTEgPSBtWzBdLCBtMTIgPSBtWzRdLCBtMTMgPSBtWzhdOwoJY29uc3QgbTIxID0gbVsxXSwgbTIyID0gbVs1XSwgbTIzID0gbVs5XTsKCWNvbnN0IG0zMSA9IG1bMl0sIG0zMiA9IG1bNl0sIG0zMyA9IG1bMTBdOwoJY29uc3QgdiA9IHZlY3RvcjMuemVybygpOwoKCXN3aXRjaCAob3JkZXIpIHsKCQljYXNlICdYWVonOgoJCQl2LnkgPSBNYXRoLmFzaW4obWF0aFV0aWxzLmNsYW1wKG0xMywgLSAxLCAxKSk7CgoJCQlpZiAoTWF0aC5hYnMobTEzKSA8IDAuOTk5OTk5OSkgewoJCQkJdi54ID0gTWF0aC5hdGFuMigtIG0yMywgbTMzKTsKCQkJCXYueiA9IE1hdGguYXRhbjIoLSBtMTIsIG0xMSk7CgkJCX0gZWxzZSB7CgkJCQl2LnggPSBNYXRoLmF0YW4yKG0zMiwgbTIyKTsKCQkJCXYueiA9IDA7CgkJCX0KCQkJLy8gY29uc29sZS5sb2coYFt2ZWN0b3IzLnNldEZyb21Sb3RhdGlvbk1hdHJpeF0gMi4gWFlaIHN3aXp6bGVgLCBKU09OLnN0cmluZ2lmeSh2KSk7CgkJCWJyZWFrOwoJCWNhc2UgJ1lYWic6CgkJCXYueCA9IE1hdGguYXNpbigtIG1hdGhVdGlscy5jbGFtcChtMjMsIC0gMSwgMSkpOwoKCQkJaWYgKE1hdGguYWJzKG0yMykgPCAwLjk5OTk5OTkpIHsKCQkJCXYueSA9IE1hdGguYXRhbjIobTEzLCBtMzMpOwoJCQkJdi56ID0gTWF0aC5hdGFuMihtMjEsIG0yMik7CgkJCX0gZWxzZSB7CgkJCQl2LnkgPSBNYXRoLmF0YW4yKC0gbTMxLCBtMTEpOwoJCQkJdi56ID0gMDsKCQkJfQoJCQlicmVhazsKCQljYXNlICdaWFknOgoJCQl2LnggPSBNYXRoLmFzaW4obWF0aFV0aWxzLmNsYW1wKG0zMiwgLSAxLCAxKSk7CgoJCQlpZiAoTWF0aC5hYnMobTMyKSA8IDAuOTk5OTk5OSkgewoJCQkJdi55ID0gTWF0aC5hdGFuMigtIG0zMSwgbTMzKTsKCQkJCXYueiA9IE1hdGguYXRhbjIoLSBtMTIsIG0yMik7CgkJCX0gZWxzZSB7CgkJCQl2LnkgPSAwOwoJCQkJdi56ID0gTWF0aC5hdGFuMihtMjEsIG0xMSk7CgkJCX0KCQkJYnJlYWs7CgkJY2FzZSAnWllYJzoKCQkJdi55ID0gTWF0aC5hc2luKC0gbWF0aFV0aWxzLmNsYW1wKG0zMSwgLSAxLCAxKSk7CgoJCQlpZiAoTWF0aC5hYnMobTMxKSA8IDAuOTk5OTk5OSkgewoJCQkJdi54ID0gTWF0aC5hdGFuMihtMzIsIG0zMyk7CgkJCQl2LnogPSBNYXRoLmF0YW4yKG0yMSwgbTExKTsKCQkJfSBlbHNlIHsKCQkJCXYueCA9IDA7CgkJCQl2LnogPSBNYXRoLmF0YW4yKC0gbTEyLCBtMjIpOwoJCQl9CgkJCWJyZWFrOwoJCWNhc2UgJ1laWCc6CgkJCXYueiA9IE1hdGguYXNpbihtYXRoVXRpbHMuY2xhbXAobTIxLCAtIDEsIDEpKTsKCgkJCWlmIChNYXRoLmFicyhtMjEpIDwgMC45OTk5OTk5KSB7CgkJCQl2LnggPSBNYXRoLmF0YW4yKC0gbTIzLCBtMjIpOwoJCQkJdi55ID0gTWF0aC5hdGFuMigtIG0zMSwgbTExKTsKCQkJfSBlbHNlIHsKCQkJCXYueCA9IDA7CgkJCQl2LnkgPSBNYXRoLmF0YW4yKG0xMywgbTMzKTsKCQkJfQoJCQlicmVhazsKCQljYXNlICdYWlknOgoJCQl2LnogPSBNYXRoLmFzaW4oLSBtYXRoVXRpbHMuY2xhbXAobTEyLCAtIDEsIDEpKTsKCgkJCWlmIChNYXRoLmFicyhtMTIpIDwgMC45OTk5OTk5KSB7CgkJCQl2LnggPSBNYXRoLmF0YW4yKG0zMiwgbTIyKTsKCQkJCXYueSA9IE1hdGguYXRhbjIobTEzLCBtMTEpOwoJCQl9IGVsc2UgewoJCQkJdi54ID0gTWF0aC5hdGFuMigtIG0yMywgbTMzKTsKCQkJCXYueSA9IDA7CgkJCX0KCQkJYnJlYWs7CgkJZGVmYXVsdDoKCQkJY29uc29sZS53YXJuKCdbdmVjdG9yMy5zZXRGcm9tUm90YXRpb25NYXRyaXhdIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlcik7Cgl9CgoJcmV0dXJuIHY7Cn0KCnZlY3RvcjMuc2V0RnJvbVF1YXRlcm5pb24gPSAocSwgb3JkZXIgPSAnWFlaJykgPT4gewoJY29uc3QgbSA9IG1hdHJpeDQuY29tcG9zZSh2ZWN0b3IzLnplcm8oKSwgcSwgdmVjdG9yMy5vbmUoKSk7CglyZXR1cm4gdmVjdG9yMy5zZXRGcm9tUm90YXRpb25NYXRyaXgobSwgb3JkZXIpOwp9Cgp2ZWN0b3IzLmxvY2FsVG9Xb3JsZCA9ICh2ZWN0b3IsIG1hdHJpeFdvcmxkKSA9PiB7CglyZXR1cm4gdmVjdG9yMy5hcHBseU1hdHJpeDQodmVjdG9yLCBtYXRyaXhXb3JsZCk7Cn0KCnZlY3RvcjMud29ybGRUb0xvY2FsID0gKHZlY3RvciwgbWF0cml4V29ybGQpID0+IHsKCWNvbnN0IGludmVyc2VNYXRyaXggPSBtYXRyaXg0LmludmVydChbLi4ubWF0cml4V29ybGRdKTsKCXJldHVybiB2ZWN0b3IzLmFwcGx5TWF0cml4NCh2ZWN0b3IsIGludmVyc2VNYXRyaXgpOwp9CgovLyA9PT09PT09PT09Ci8vIHF1YXRlcm5pb24KLy8gPT09PT09PT09PQpnbG9iYWxUaGlzLnF1YXRlcm5pb24gPSB7fTsKCnF1YXRlcm5pb24uaWRlbnRpdHkgPSAoKSA9PiB7CglyZXR1cm4ge3g6IDAsIHk6IDAsIHo6IDAsIHc6IDF9Owp9CgpxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCA9IChxLCBtKSA9PiB7CgkvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bQoJLy8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZCkKCgljb25zdCBtMTEgPSBtWyAwIF0sIG0xMiA9IG1bIDQgXSwgbTEzID0gbVsgOCBdOwoJY29uc3QgbTIxID0gbVsgMSBdLCBtMjIgPSBtWyA1IF0sIG0yMyA9IG1bIDkgXTsKCWNvbnN0IG0zMSA9IG1bIDIgXSwgbTMyID0gbVsgNiBdLCBtMzMgPSBtWyAxMCBdOwoKCWNvbnN0IHRyYWNlID0gbTExICsgbTIyICsgbTMzOwoKCWlmICggdHJhY2UgPiAwICkgewoJCWNvbnN0IHMgPSAwLjUgLyBNYXRoLnNxcnQoIHRyYWNlICsgMS4wICk7CgoJCXEudyA9IDAuMjUgLyBzOwoJCXEueCA9ICggbTMyIC0gbTIzICkgKiBzOwoJCXEueSA9ICggbTEzIC0gbTMxICkgKiBzOwoJCXEueiA9ICggbTIxIC0gbTEyICkgKiBzOwoJfSBlbHNlIGlmICggbTExID4gbTIyICYmIG0xMSA+IG0zMyApIHsKCQljb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMTEgLSBtMjIgLSBtMzMgKTsKCgkJcS53ID0gKCBtMzIgLSBtMjMgKSAvIHM7CgkJcS54ID0gMC4yNSAqIHM7CgkJcS55ID0gKCBtMTIgKyBtMjEgKSAvIHM7CgkJcS56ID0gKCBtMTMgKyBtMzEgKSAvIHM7Cgl9IGVsc2UgaWYgKCBtMjIgPiBtMzMgKSB7CgkJY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTIyIC0gbTExIC0gbTMzICk7CgoJCXEudyA9ICggbTEzIC0gbTMxICkgLyBzOwoJCXEueCA9ICggbTEyICsgbTIxICkgLyBzOwoJCXEueSA9IDAuMjUgKiBzOwoJCXEueiA9ICggbTIzICsgbTMyICkgLyBzOwoJfSBlbHNlIHsKCQljb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KCAxLjAgKyBtMzMgLSBtMTEgLSBtMjIgKTsKCgkJcS53ID0gKCBtMjEgLSBtMTIgKSAvIHM7CgkJcS54ID0gKCBtMTMgKyBtMzEgKSAvIHM7CgkJcS55ID0gKCBtMjMgKyBtMzIgKSAvIHM7CgkJcS56ID0gMC4yNSAqIHM7Cgl9CgoJcmV0dXJuIHE7Cn0JCgpxdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUgPSAoYXhpcywgYW5nbGUpID0+IHsKCS8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG0KCS8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkCgljb25zdCBxID0gcXVhdGVybmlvbi5pZGVudGl0eSgpOwoJY29uc3QgaGFsZkFuZ2xlID0gYW5nbGUgLyAyLCBzID0gTWF0aC5zaW4oIGhhbGZBbmdsZSApOwoKCXEueCA9IGF4aXMueCAqIHM7CglxLnkgPSBheGlzLnkgKiBzOwoJcS56ID0gYXhpcy56ICogczsKCXEudyA9IE1hdGguY29zKGhhbGZBbmdsZSk7CgoJcmV0dXJuIHE7Cn0KCnF1YXRlcm5pb24uZnJvbUV1bGVyID0gKGV1bGVyLCBvcmRlciA9ICdYWVonKSA9PiB7Cgljb25zdCBxID0gcXVhdGVybmlvbi5pZGVudGl0eSgpOwoJY29uc3QgeCA9IGV1bGVyLngsIHkgPSBldWxlci55LCB6ID0gZXVsZXIuejsKCgkvLyBodHRwOi8vd3d3Lm1hdGh3b3Jrcy5jb20vbWF0bGFiY2VudHJhbC9maWxlZXhjaGFuZ2UvCgkvLyAJMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvY29udGVudC9TcGluQ2FsYy5tCgljb25zdCBjMSA9IE1hdGguY29zKCB4IC8gMiApOwoJY29uc3QgYzIgPSBNYXRoLmNvcyggeSAvIDIgKTsKCWNvbnN0IGMzID0gTWF0aC5jb3MoIHogLyAyICk7CgoJY29uc3QgczEgPSBNYXRoLnNpbiggeCAvIDIgKTsKCWNvbnN0IHMyID0gTWF0aC5zaW4oIHkgLyAyICk7Cgljb25zdCBzMyA9IE1hdGguc2luKCB6IC8gMiApOwoKCXN3aXRjaCAoIG9yZGVyICkgewoJCWNhc2UgJ1hZWic6CgkJCXEueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKCQkJcS55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwoJCQlxLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CgkJCXEudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKCQkJYnJlYWs7CgkJY2FzZSAnWVhaJzoKCQkJcS54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwoJCQlxLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CgkJCXEueiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMzsKCQkJcS53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwoJCQlicmVhazsKCQljYXNlICdaWFknOgoJCQlxLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CgkJCXEueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKCQkJcS56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwoJCQlxLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CgkJCWJyZWFrOwoJCWNhc2UgJ1pZWCc6CgkJCXEueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKCQkJcS55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwoJCQlxLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CgkJCXEudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKCQkJYnJlYWs7CgkJY2FzZSAnWVpYJzoKCQkJcS54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwoJCQlxLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CgkJCXEueiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMzsKCQkJcS53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwoJCQlicmVhazsKCQljYXNlICdYWlknOgoJCQlxLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CgkJCXEueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKCQkJcS56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwoJCQlxLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CgkJCWJyZWFrOwoJCWRlZmF1bHQ6CgkJCWNvbnNvbGUud2FybiggJ1txdWF0ZXJuaW9uLmZyb21FdWxlcl0gZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJyArIG9yZGVyKTsKCX0KCglyZXR1cm4gcTsKfQoKcXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zID0gKGEsIGIpID0+IHsKCS8vIGZyb20gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9yZWFsTm9ybWVkQWxnZWJyYS9xdWF0ZXJuaW9ucy9jb2RlL2luZGV4Lmh0bQoJY29uc29sZS5sb2coYFtxdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnNdIGE6YCwgSlNPTi5zdHJpbmdpZnkoYSkpOwoJY29uc29sZS5sb2coYFtxdWF0ZXJuaW9uLm11bHRpcGx5UXVhdGVybmlvbnNdIGI6YCwgSlNPTi5zdHJpbmdpZnkoYikpOwoJY29uc3QgcSA9IHF1YXRlcm5pb24uaWRlbnRpdHkoKTsKCWNvbnN0IHFheCA9IGEueCwgcWF5ID0gYS55LCBxYXogPSBhLnosIHFhdyA9IGEudzsKCWNvbnN0IHFieCA9IGIueCwgcWJ5ID0gYi55LCBxYnogPSBiLnosIHFidyA9IGIudzsKCglxLnggPSBxYXggKiBxYncgKyBxYXcgKiBxYnggKyBxYXkgKiBxYnogLSBxYXogKiBxYnk7CglxLnkgPSBxYXkgKiBxYncgKyBxYXcgKiBxYnkgKyBxYXogKiBxYnggLSBxYXggKiBxYno7CglxLnogPSBxYXogKiBxYncgKyBxYXcgKiBxYnogKyBxYXggKiBxYnkgLSBxYXkgKiBxYng7CglxLncgPSBxYXcgKiBxYncgLSBxYXggKiBxYnggLSBxYXkgKiBxYnkgLSBxYXogKiBxYno7CgoJcmV0dXJuIHE7Cn0KCnF1YXRlcm5pb24ubGVuZ3RoID0gKHEpID0+IHsKCXJldHVybiBNYXRoLnNxcnQoIHEueCAqIHEueCArIHEueSAqIHEueSArIHEueiAqIHEueiArIHEudyAqIHEudyApOwp9CgpxdWF0ZXJuaW9uLm5vcm1hbGl6ZSA9IChxKSA9PiB7CglsZXQgbCA9IHF1YXRlcm5pb24ubGVuZ3RoKHEpOwoKCWlmIChsID09PSAwKSB7CgkJcS54ID0gMDsKCQlxLnkgPSAwOwoJCXEueiA9IDA7CgkJcS53ID0gMTsKCX0gZWxzZSB7CgkJbCA9IDEgLyBsOwoKCQlxLnggPSBxLnggKiBsOwoJCXEueSA9IHEueSAqIGw7CgkJcS56ID0gcS56ICogbDsKCQlxLncgPSBxLncgKiBsOwoJfQoKCXJldHVybiBxOwp9CgpxdWF0ZXJuaW9uLmludmVydCA9IChxKSA9PiB7CgkvLyBxdWF0ZXJuaW9uIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aAoJcmV0dXJuIHF1YXRlcm5pb24uY29uanVnYXRlKHEpOwp9CgpxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSA9IChxKSA9PiB7CglxLnggKj0gLSAxOwoJcS55ICo9IC0gMTsKCXEueiAqPSAtIDE7CgoJcmV0dXJuIHE7Cn0KCi8vID09PT09PT09PT0KLy8gbWF0cml4NAovLyA9PT09PT09PT09Cmdsb2JhbFRoaXMubWF0cml4NCA9IHt9OwoKbWF0cml4NC5pZGVudGl0eSA9ICgpID0+IHsKCXJldHVybiBbCgkJMSwgMCwgMCwgMCwKCQkwLCAxLCAwLCAwLAoJCTAsIDAsIDEsIDAsCgkJMCwgMCwgMCwgMQoJXTsKfQoKbWF0cml4NC5tdWx0aXBseU1hdHJpY2VzID0gKG0sIGEsIGIpID0+IHsKCWNvbnN0IGExMSA9IGFbMF0sIGExMiA9IGFbNF0sIGExMyA9IGFbOF0sIGExNCA9IGFbMTJdOwoJY29uc3QgYTIxID0gYVsxXSwgYTIyID0gYVs1XSwgYTIzID0gYVs5XSwgYTI0ID0gYVsxM107Cgljb25zdCBhMzEgPSBhWzJdLCBhMzIgPSBhWzZdLCBhMzMgPSBhWzEwXSwgYTM0ID0gYVsxNF07Cgljb25zdCBhNDEgPSBhWzNdLCBhNDIgPSBhWzddLCBhNDMgPSBhWzExXSwgYTQ0ID0gYVsxNV07CgoJY29uc3QgYjExID0gYlswXSwgYjEyID0gYls0XSwgYjEzID0gYls4XSwgYjE0ID0gYlsxMl07Cgljb25zdCBiMjEgPSBiWzFdLCBiMjIgPSBiWzVdLCBiMjMgPSBiWzldLCBiMjQgPSBiWzEzXTsKCWNvbnN0IGIzMSA9IGJbMl0sIGIzMiA9IGJbNl0sIGIzMyA9IGJbMTBdLCBiMzQgPSBiWzE0XTsKCWNvbnN0IGI0MSA9IGJbM10sIGI0MiA9IGJbN10sIGI0MyA9IGJbMTFdLCBiNDQgPSBiWzE1XTsKCgltWzBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxICsgYTE0ICogYjQxOwoJbVs0XSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMiArIGExNCAqIGI0MjsKCW1bOF0gPSBhMTEgKiBiMTMgKyBhMTIgKiBiMjMgKyBhMTMgKiBiMzMgKyBhMTQgKiBiNDM7CgltWzEyXSA9IGExMSAqIGIxNCArIGExMiAqIGIyNCArIGExMyAqIGIzNCArIGExNCAqIGI0NDsKCgltWzFdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxICsgYTI0ICogYjQxOwoJbVs1XSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMiArIGEyNCAqIGI0MjsKCW1bOV0gPSBhMjEgKiBiMTMgKyBhMjIgKiBiMjMgKyBhMjMgKiBiMzMgKyBhMjQgKiBiNDM7CgltWzEzXSA9IGEyMSAqIGIxNCArIGEyMiAqIGIyNCArIGEyMyAqIGIzNCArIGEyNCAqIGI0NDsKCgltWzJdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxOwoJbVs2XSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMiArIGEzNCAqIGI0MjsKCW1bMTBdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzICsgYTM0ICogYjQzOwoJbVsxNF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7CgoJbVszXSA9IGE0MSAqIGIxMSArIGE0MiAqIGIyMSArIGE0MyAqIGIzMSArIGE0NCAqIGI0MTsKCW1bN10gPSBhNDEgKiBiMTIgKyBhNDIgKiBiMjIgKyBhNDMgKiBiMzIgKyBhNDQgKiBiNDI7CgltWzExXSA9IGE0MSAqIGIxMyArIGE0MiAqIGIyMyArIGE0MyAqIGIzMyArIGE0NCAqIGI0MzsKCW1bMTVdID0gYTQxICogYjE0ICsgYTQyICogCWIyNCArIGE0MyAqIGIzNCArIGE0NCAqIGI0NDsKCglyZXR1cm4gbTsKfQoKbWF0cml4NC5pbnZlcnQgPSAobSkgPT4gewoJLy8gYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtCgljb25zdCBuMTEgPSBtWzBdLCBuMjEgPSBtWzFdLCBuMzEgPSBtWzJdLCBuNDEgPSBtWzNdOwoJY29uc3QgbjEyID0gbVs0XSwgbjIyID0gbVs1XSwgbjMyID0gbVs2XSwgbjQyID0gbVs3XTsKCWNvbnN0IG4xMyA9IG1bOF0sIG4yMyA9IG1bOV0sIG4zMyA9IG1bMTBdLCBuNDMgPSBtWzExXTsKCWNvbnN0IG4xNCA9IG1bMTJdLCBuMjQgPSBtWzEzXSwgbjM0ID0gbVsxNF0sIG40NCA9IG1bMTVdOwoKCWNvbnN0IHQxMSA9IG4yMyAqIG4zNCAqIG40MiAtIG4yNCAqIG4zMyAqIG40MiArIG4yNCAqIG4zMiAqIG40MyAtIG4yMiAqIG4zNCAqIG40MyAtIG4yMyAqIG4zMiAqIG40NCArIG4yMiAqIG4zMyAqIG40NDsKCWNvbnN0IHQxMiA9IG4xNCAqIG4zMyAqIG40MiAtIG4xMyAqIG4zNCAqIG40MiAtIG4xNCAqIG4zMiAqIG40MyArIG4xMiAqIG4zNCAqIG40MyArIG4xMyAqIG4zMiAqIG40NCAtIG4xMiAqIG4zMyAqIG40NDsKCWNvbnN0IHQxMyA9IG4xMyAqIG4yNCAqIG40MiAtIG4xNCAqIG4yMyAqIG40MiArIG4xNCAqIG4yMiAqIG40MyAtIG4xMiAqIG4yNCAqIG40MyAtIG4xMyAqIG4yMiAqIG40NCArIG4xMiAqIG4yMyAqIG40NDsKCWNvbnN0IHQxNCA9IG4xNCAqIG4yMyAqIG4zMiAtIG4xMyAqIG4yNCAqIG4zMiAtIG4xNCAqIG4yMiAqIG4zMyArIG4xMiAqIG4yNCAqIG4zMyArIG4xMyAqIG4yMiAqIG4zNCAtIG4xMiAqIG4yMyAqIG4zNDsKCgljb25zdCBkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTMgKyBuNDEgKiB0MTQ7CgoJaWYgKGRldCA9PT0gMCkgcmV0dXJuIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsKCgljb25zdCBkZXRJbnYgPSAxIC8gZGV0OwoKCW1bMF0gPSB0MTEgKiBkZXRJbnY7CgltWzFdID0gKG4yNCAqIG4zMyAqIG40MSAtIG4yMyAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMSAqIG40MyArIG4yMSAqIG4zNCAqIG40MyArIG4yMyAqIG4zMSAqIG40NCAtIG4yMSAqIG4zMyAqIG40NCkgKiBkZXRJbnY7CgltWzJdID0gKG4yMiAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMiAqIG40MSArIG4yNCAqIG4zMSAqIG40MiAtIG4yMSAqIG4zNCAqIG40MiAtIG4yMiAqIG4zMSAqIG40NCArIG4yMSAqIG4zMiAqIG40NCkgKiBkZXRJbnY7CgltWzNdID0gKG4yMyAqIG4zMiAqIG40MSAtIG4yMiAqIG4zMyAqIG40MSAtIG4yMyAqIG4zMSAqIG40MiArIG4yMSAqIG4zMyAqIG40MiArIG4yMiAqIG4zMSAqIG40MyAtIG4yMSAqIG4zMiAqIG40MykgKiBkZXRJbnY7CgoJbVs0XSA9IHQxMiAqIGRldEludjsKCW1bNV0gPSAobjEzICogbjM0ICogbjQxIC0gbjE0ICogbjMzICogbjQxICsgbjE0ICogbjMxICogbjQzIC0gbjExICogbjM0ICogbjQzIC0gbjEzICogbjMxICogbjQ0ICsgbjExICogbjMzICogbjQ0KSAqIGRldEludjsKCW1bNl0gPSAobjE0ICogbjMyICogbjQxIC0gbjEyICogbjM0ICogbjQxIC0gbjE0ICogbjMxICogbjQyICsgbjExICogbjM0ICogbjQyICsgbjEyICogbjMxICogbjQ0IC0gbjExICogbjMyICogbjQ0KSAqIGRldEludjsKCW1bN10gPSAobjEyICogbjMzICogbjQxIC0gbjEzICogbjMyICogbjQxICsgbjEzICogbjMxICogbjQyIC0gbjExICogbjMzICogbjQyIC0gbjEyICogbjMxICogbjQzICsgbjExICogbjMyICogbjQzKSAqIGRldEludjsKCgltWzhdID0gdDEzICogZGV0SW52OwoJbVs5XSA9IChuMTQgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjEgKiBuNDMgKyBuMTEgKiBuMjQgKiBuNDMgKyBuMTMgKiBuMjEgKiBuNDQgLSBuMTEgKiBuMjMgKiBuNDQpICogZGV0SW52OwoJbVsxMF0gPSAobjEyICogbjI0ICogbjQxIC0gbjE0ICogbjIyICogbjQxICsgbjE0ICogbjIxICogbjQyIC0gbjExICogbjI0ICogbjQyIC0gbjEyICogbjIxICogbjQ0ICsgbjExICogbjIyICogbjQ0KSAqIGRldEludjsKCW1bMTFdID0gKG4xMyAqIG4yMiAqIG40MSAtIG4xMiAqIG4yMyAqIG40MSAtIG4xMyAqIG4yMSAqIG40MiArIG4xMSAqIG4yMyAqIG40MiArIG4xMiAqIG4yMSAqIG40MyAtIG4xMSAqIG4yMiAqIG40MykgKiBkZXRJbnY7CgoJbVsxMl0gPSB0MTQgKiBkZXRJbnY7CgltWzEzXSA9IChuMTMgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjMgKiBuMzEgKyBuMTQgKiBuMjEgKiBuMzMgLSBuMTEgKiBuMjQgKiBuMzMgLSBuMTMgKiBuMjEgKiBuMzQgKyBuMTEgKiBuMjMgKiBuMzQpICogZGV0SW52OwoJbVsxNF0gPSAobjE0ICogbjIyICogbjMxIC0gbjEyICogbjI0ICogbjMxIC0gbjE0ICogbjIxICogbjMyICsgbjExICogbjI0ICogbjMyICsgbjEyICogbjIxICogbjM0IC0gbjExICogbjIyICogbjM0KSAqIGRldEludjsKCW1bMTVdID0gKG4xMiAqIG4yMyAqIG4zMSAtIG4xMyAqIG4yMiAqIG4zMSArIG4xMyAqIG4yMSAqIG4zMiAtIG4xMSAqIG4yMyAqIG4zMiAtIG4xMiAqIG4yMSAqIG4zMyArIG4xMSAqIG4yMiAqIG4zMykgKiBkZXRJbnY7CgoJcmV0dXJuIG07Cn0KCm1hdHJpeDQuY29tcG9zZSA9IChwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUpID0+IHsKCWNvbnN0IG0gPSBtYXRyaXg0LmlkZW50aXR5KCk7CgoJY29uc3QgeCA9IHF1YXRlcm5pb24ueCwgeSA9IHF1YXRlcm5pb24ueSwgeiA9IHF1YXRlcm5pb24ueiwgdyA9IHF1YXRlcm5pb24udzsKCWNvbnN0IHgyID0geCArIHgsCXkyID0geSArIHksIHoyID0geiArIHo7Cgljb25zdCB4eCA9IHggKiB4MiwgeHkgPSB4ICogeTIsIHh6ID0geCAqIHoyOwoJY29uc3QgeXkgPSB5ICogeTIsIHl6ID0geSAqIHoyLCB6eiA9IHogKiB6MjsKCWNvbnN0IHd4ID0gdyAqIHgyLCB3eSA9IHcgKiB5Miwgd3ogPSB3ICogejI7CgoJY29uc3Qgc3ggPSBzY2FsZS54LCBzeSA9IHNjYWxlLnksIHN6ID0gc2NhbGUuejsKCgltWzBdID0gKCAxIC0gKCB5eSArIHp6ICkgKSAqIHN4OwoJbVsxXSA9ICggeHkgKyB3eiApICogc3g7CgltWzJdID0gKCB4eiAtIHd5ICkgKiBzeDsKCW1bM10gPSAwOwoKCW1bNF0gPSAoIHh5IC0gd3ogKSAqIHN5OwoJbVs1XSA9ICggMSAtICggeHggKyB6eiApICkgKiBzeTsKCW1bNl0gPSAoIHl6ICsgd3ggKSAqIHN5OwoJbVs3XSA9IDA7CgoJbVs4XSA9ICggeHogKyB3eSApICogc3o7CgltWzldID0gKCB5eiAtIHd4ICkgKiBzejsKCW1bMTBdID0gKCAxIC0gKCB4eCArIHl5ICkgKSAqIHN6OwoJbVsxMV0gPSAwOwoKCW1bMTJdID0gcG9zaXRpb24ueDsKCW1bMTNdID0gcG9zaXRpb24ueTsKCW1bMTRdID0gcG9zaXRpb24uejsKCW1bMTVdID0gMTsKCglyZXR1cm4gbTsKfQoKbWF0cml4NC5kZWNvbXBvc2UgPSAobSkgPT4gewoJY29uc3QgcCA9IHZlY3RvcjMuemVybygpOwoJY29uc3QgcSA9IHF1YXRlcm5pb24uaWRlbnRpdHkoKTsKCWNvbnN0IHMgPSB2ZWN0b3IzLnplcm8oKTsKCglsZXQgc3ggPSB2ZWN0b3IzLmxlbmd0aCh7eDogbVswXSwgeTogbVsxXSwgejogbVsyXX0pOwoJY29uc3Qgc3kgPSB2ZWN0b3IzLmxlbmd0aCh7eDogbVs0XSwgeTogbVs1XSwgejogbVs2XX0pOwoJY29uc3Qgc3ogPSB2ZWN0b3IzLmxlbmd0aCh7eDogbVs4XSwgeTogbVs5XSwgejogbVsxMF19KTsKCgkvLyBpZiBkZXRlcm1pbmUgaXMgbmVnYXRpdmUsIHdlIG5lZWQgdG8gaW52ZXJ0IG9uZSBzY2FsZQoJY29uc3QgZGV0ID0gbWF0cml4NC5kZXRlcm1pbmFudChtKTsKCWlmICggZGV0IDwgMCApIHN4ID0gLSBzeDsKCglwLnggPSBtWzEyXTsKCXAueSA9IG1bMTNdOwoJcC56ID0gbVsxNF07CgoJLy8gc2NhbGUgdGhlIHJvdGF0aW9uIHBhcnQKCWxldCBtMSA9IFsuLi5tXTsKCgljb25zdCBpbnZTWCA9IDEgLyBzeDsKCWNvbnN0IGludlNZID0gMSAvIHN5OwoJY29uc3QgaW52U1ogPSAxIC8gc3o7CgoJbTFbMF0gKj0gaW52U1g7CgltMVsxXSAqPSBpbnZTWDsKCW0xWzJdICo9IGludlNYOwoKCW0xWzRdICo9IGludlNZOwoJbTFbNV0gKj0gaW52U1k7CgltMVs2XSAqPSBpbnZTWTsKCgltMVs4XSAqPSBpbnZTWjsKCW0xWzldICo9IGludlNaOwoJbTFbMTBdICo9IGludlNaOwoKCXF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KHEsIG0xKTsKCglzLnggPSBzeDsKCXMueSA9IHN5OwoJcy56ID0gc3o7CgoJcmV0dXJuIHsKCQlwb3NpdGlvbjogcCwKCQlxdWF0ZXJuaW9uOiBxLAoJCXNjYWxlOiBzLAoJfQp9CgptYXRyaXg0LmRldGVybWluYW50ID0gKG0pID0+IHsKCWNvbnN0IG4xMSA9IG1bIDAgXSwgbjEyID0gbVsgNCBdLCBuMTMgPSBtWyA4IF0sIG4xNCA9IG1bIDEyIF07Cgljb25zdCBuMjEgPSBtWyAxIF0sIG4yMiA9IG1bIDUgXSwgbjIzID0gbVsgOSBdLCBuMjQgPSBtWyAxMyBdOwoJY29uc3QgbjMxID0gbVsgMiBdLCBuMzIgPSBtWyA2IF0sIG4zMyA9IG1bIDEwIF0sIG4zNCA9IG1bIDE0IF07Cgljb25zdCBuNDEgPSBtWyAzIF0sIG40MiA9IG1bIDcgXSwgbjQzID0gbVsgMTEgXSwgbjQ0ID0gbVsgMTUgXTsKCgkvL1RPRE86IG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudAoJLy8oIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bSApCglyZXR1cm4gKAoJCW40MSAqICgKCQkJKyBuMTQgKiBuMjMgKiBuMzIKCQkJCS0gbjEzICogbjI0ICogbjMyCgkJCQktIG4xNCAqIG4yMiAqIG4zMwoJCQkJKyBuMTIgKiBuMjQgKiBuMzMKCQkJCSsgbjEzICogbjIyICogbjM0CgkJCQktIG4xMiAqIG4yMyAqIG4zNAoJCSkgKwoJCW40MiAqICgKCQkJKyBuMTEgKiBuMjMgKiBuMzQKCQkJCS0gbjExICogbjI0ICogbjMzCgkJCQkrIG4xNCAqIG4yMSAqIG4zMwoJCQkJLSBuMTMgKiBuMjEgKiBuMzQKCQkJCSsgbjEzICogbjI0ICogbjMxCgkJCQktIG4xNCAqIG4yMyAqIG4zMQoJCSkgKwoJCW40MyAqICgKCQkJKyBuMTEgKiBuMjQgKiBuMzIKCQkJCS0gbjExICogbjIyICogbjM0CgkJCQktIG4xNCAqIG4yMSAqIG4zMgoJCQkJKyBuMTIgKiBuMjEgKiBuMzQKCQkJCSsgbjE0ICogbjIyICogbjMxCgkJCQktIG4xMiAqIG4yNCAqIG4zMQoJCSkgKwoJCW40NCAqICgKCQkJLSBuMTMgKiBuMjIgKiBuMzEKCQkJCS0gbjExICogbjIzICogbjMyCgkJCQkrIG4xMSAqIG4yMiAqIG4zMwoJCQkJKyBuMTMgKiBuMjEgKiBuMzIKCQkJCS0gbjEyICogbjIxICogbjMzCgkJCQkrIG4xMiAqIG4yMyAqIG4zMQoJCSkKCSk7Cn0KCm1hdHJpeDQubG9va0F0ID0gKG0sIGV5ZSwgdGFyZ2V0LCB1cCkgPT4gewoJbGV0IHgsIHksIHo7CgoJeiA9IG1hdGguc3VidHJhY3RWZWN0b3JzKHRhcmdldCwgZXllKTsKCglpZiAoIHZlY3RvcjMubGVuZ3RoU3EoeikgPT09IDAgKSB7CgkJLy8gZXllIGFuZCB0YXJnZXQgYXJlIGluIHRoZSBzYW1lIHBvc2l0aW9uCgkJei56ID0gMTsKCX0KCgl6ID0gbWF0aC5ub3JtYWxpemVWZWN0b3Ioeik7Cgl4ID0gdmVjdG9yMy5jcm9zc1ZlY3RvcnModXAsIHopOwoKCWlmICggdmVjdG9yMy5sZW5ndGhTcSh4KSA9PT0gMCApIHsKCQkvLyB1cCBhbmQgeiBhcmUgcGFyYWxsZWwKCQlpZiAoTWF0aC5hYnModXAueikgPT09IDEpIHsKCQkJei54ICs9IDAuMDAwMTsKCQl9IGVsc2UgewoJCQl6LnogKz0gMC4wMDAxOwoJCX0KCgkJeiA9IG1hdGgubm9ybWFsaXplVmVjdG9yKHopOwoJCXggPSB2ZWN0b3IzLmNyb3NzVmVjdG9ycyh1cCwgeik7Cgl9CgoJeCA9IG1hdGgubm9ybWFsaXplVmVjdG9yKHgpOwoJeSA9IHZlY3RvcjMuY3Jvc3NWZWN0b3JzKHosIHgpOwoKCW1bMF0gPSB4Lng7IG1bNF0gPSB5Lng7IG1bOF0gPSB6Lng7CgltWzFdID0geC55OyBtWzVdID0geS55OyBtWzldID0gei55OwoJbVsyXSA9IHguejsgbVs2XSA9IHkuejsgbVsxMF0gPSB6Lno7CgoJcmV0dXJuIG07Cn0KCm1hdHJpeDQubG9jYWxNYXRyaXhGcm9tQm90ID0gKGJvdCwgZGltZW5zaW9uKSA9PiB7Cgljb25zdCBwID0gewoJCXg6IGJvdC50YWdzW2RpbWVuc2lvbiArICJYIl0gPz8gMCwKCQl5OiBib3QudGFnc1tkaW1lbnNpb24gKyAiWSJdID8/IDAsCgkJejogYm90LnRhZ3NbZGltZW5zaW9uICsgIloiXSA/PyAwLAoJfTsKCWNvbnN0IHIgPSB7CgkJeDogYm90LnRhZ3NbZGltZW5zaW9uICsgIlJvdGF0aW9uWCJdID8/IDAsCgkJeTogYm90LnRhZ3NbZGltZW5zaW9uICsgIlJvdGF0aW9uWSJdID8/IDAsCgkJejogYm90LnRhZ3NbZGltZW5zaW9uICsgIlJvdGF0aW9uWiJdID8/IDAsCgl9OwoJY29uc3QgcSA9IHF1YXRlcm5pb24uZnJvbUV1bGVyKHIpOwoJY29uc3QgcyA9IHsKCQl4OiBib3QudGFnc1sic2NhbGVYIl0gPz8gMSwKCQl5OiBib3QudGFnc1sic2NhbGVZIl0gPz8gMSwKCQl6OiBib3QudGFnc1sic2NhbGVZIl0gPz8gMSwKCX07Cgljb25zdCBzY2FsYXIgPSBib3QudGFnc1sic2NhbGUiXSA/PyAxOwoJdmVjdG9yMy5tdWx0aXBseVNjYWxhcihzLCBzY2FsYXIpOwoKCXJldHVybiBtYXRyaXg0LmNvbXBvc2UocCwgcSwgcyk7Cn0KCm1hdHJpeDQud29ybGRNYXRyaXhGcm9tQm90ID0gKGJvdCwgZGltZW5zaW9uKSA9PiB7CglsZXQgbWF0cml4V29ybGQgPSBtYXRyaXg0LmlkZW50aXR5KCk7Cgljb25zdCBtYXRyaXhMb2NhbCA9IG1hdHJpeDQubG9jYWxNYXRyaXhGcm9tQm90KGJvdCwgZGltZW5zaW9uKTsKCgljb25zdCBwYXJlbnRJZCA9IGJvdC50YWdzLnRyYW5zZm9ybWVyOwoJbGV0IHBhcmVudCA9IHBhcmVudElkID8gZ2V0Qm90KCdpZCcsIHBhcmVudElkKSA6IG51bGw7CgoJaWYgKCFwYXJlbnQpIHsKCQltYXRyaXhXb3JsZCA9IG1hdHJpeExvY2FsOwoJfSBlbHNlIHsKCQljb25zdCBwYXJlbnRNYXRyaXhXb3JsZCA9IG1hdHJpeDQud29ybGRGcm9tQm90KHBhcmVudCwgZGltZW5zaW9uKTsKCQltYXRyaXhXb3JsZCA9IG1hdHJpeDQubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXhXb3JsZCwgcGFyZW50TWF0cml4V29ybGQsIG1hdHJpeExvY2FsKTsKCX0KCglyZXR1cm4gbWF0cml4V29ybGQ7Cn0oAJjksXoACXNldHVwTWF0aAF+JwCY5LF6ABBzZXR1cENzc0NvbXBpbGVyAgQAmOSxesyjAb0EQGdsb2JhbFRoaXMuY29tcGlsZUNTUyA9IChib3RzKSA9PiB7CiAgICBib3RzID0gQXJyYXkuaXNBcnJheShib3RzKSA/IGJvdHMgOiBbYm90c107CgogICAgbGV0IGNzcyA9IFtdOwoKICAgIGZvciAobGV0IGJvdCBvZiBib3RzKSB7CiAgICAgICAgZm9yIChsZXQga2V5IGluIGJvdC50YWdzKSB7CiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnY3NzJykpIHsKICAgICAgICAgICAgICAgIGlmICh0YWdzLmRlYnVnKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtjb21waWxlQ1NTXSBmb3VuZCBDU1Mga2V5OiAke2tleX1gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNzcy5wdXNoKGJvdC50YWdzW2tleV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IGNvbXBpbGVkID0gY3NzLmpvaW4oJ1xuXG4nKTsKICAgIGlmICh0YWdzLmRlYnVnKSB7CiAgICAgICAgY29uc29sZS5sb2coYFtjb21waWxlQ1NTXSBjb21waWxlZCBDU1M6XG5cbmAsIGNvbXBpbGVkKTsKICAgIH0KCiAgICByZXR1cm4gY29tcGlsZWQ7Cn07JwCY5LF6ABJpbW1lcnNpdmVJbnRlcmZhY2UCBACY5LF6iqgBmQ5AZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbENhbWVyYVR5cGUgPSAncGVyc3BlY3RpdmUnOwpsZWZ0V3Jpc3RQb3J0YWxCb3QudGFncy5wb3J0YWxHcmlkU2NhbGUgPSAwLjAyNTsKcmlnaHRXcmlzdFBvcnRhbEJvdC50YWdzLnBvcnRhbEdyaWRTY2FsZSA9IDAuMDI1OwoKLy8gSW5pdGlhbGl6ZSBjb25maWcgYm90IHdpdGggY3VzdG9tIHRhZ3MgYW5kIGFjdGlvbnMuICoqKk5PVCBTVVJFIElGIFdFIFdBTlQgVEhJUwovLyBjb25maWdCb3QudGFncy5pblZSID0gZmFsc2U7Ci8vIGNvbmZpZ0JvdC50YWdzLmxlZnRXcmlzdFBvcnRhbE5hbWUgPSBgJHtjb25maWdCb3QuaWR9X3VzZXJNZW51YDsKCi8vIGNvbmZpZ0JvdC50YWdzLm9uRW50ZXJWUiA9IGBACi8vICAgICB0YWdzLmluVlIgPSB0cnVlOwovLyAgICAgdGFncy5sZWZ0V3Jpc3RQb3J0YWwgPSB0YWdzLmxlZnRXcmlzdFBvcnRhbE5hbWU7Ci8vIGA7Ci8vIGNvbmZpZ0JvdC50YWdzLm9uRXhpdFZSID0gYEAKLy8gICAgIHRhZ3MuaW5WUiA9IGZhbHNlOwovLyAgICAgdGFncy5sZWZ0V3Jpc3RQb3J0YWwgPSBudWxsOwovLyBgOwovLyBjb25maWdCb3QudGFncy5pbkFSID0gZmFsc2U7Ci8vIGNvbmZpZ0JvdC50YWdzLm9uRW50ZXJBUiA9IGBACi8vICAgICB0YWdzLmluQVIgPSB0cnVlOwovLyAgICAgdGFncy5sZWZ0V3Jpc3RQb3J0YWwgPSB0YWdzLmxlZnRXcmlzdFBvcnRhbE5hbWU7Ci8vIGA7Ci8vIGNvbmZpZ0JvdC50YWdzLm9uRXhpdEFSID0gYEAKLy8gICAgIHRhZ3MuaW5BUiA9IGZhbHNlOwovLyAgICAgdGFncy5sZWZ0V3Jpc3RQb3J0YWwgPSBudWxsOwovLyBgOwoKLy8gaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWR8aVBob25lfGlQYWR8V2luZG93cyBQaG9uZXxNb2JpbGUvaSkpIHsKLy8gICAgIGNvbmZpZ0JvdC50YWdzLmlzTW9iaWxlID0gdHJ1ZTsKLy8gfSBlbHNlIHsKLy8gICAgIGNvbmZpZ0JvdC50YWdzLmlzTW9iaWxlID0gZmFsc2U7Ci8vIH0KCi8vIENyZWF0ZSB0aGUgbWFpbiBzY2VuZSBkaW1lbnNpb24gYm90LgpnbG9iYWxUaGlzLm1haW5TY2VuZUJvdCA9IGNyZWF0ZSh7CiAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICBmb3JtOiAnZGltZW5zaW9uJywKICAgIGZvcm1BZGRyZXNzOiAiaG9tZSIsCiAgICBbdGFncy5yb290RGltZW5zaW9uXTogdHJ1ZSwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259WGBdOiAwLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1ZYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVpgXTogMCwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259Um90YXRpb25YYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVJvdGF0aW9uWWBdOiAwLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1Sb3RhdGlvblpgXTogMCwKfSk7CgppZiAodGFncy5zaG93Q29tcGFzcyA9PT0gdHJ1ZSkgewogICAgY3JlYXRlKHsKICAgICAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICAgICAgZm9ybTogJ3Nwcml0ZScsCiAgICAgICAgZm9ybUFkZHJlc3M6ICdodHRwczovL2J1aWxkZXItbHRtLWZpbGVzLnMzLmFtYXpvbmF3cy5jb20vMDE3NDRkNDc3NDNhYmI4MjcyNzViN2JiODY1ZjI2ZTQzODYwMzk3OThkOTc1M2Q1MjEzOTk1MTVkYzM3MGZhYi5wbmcnLAogICAgICAgIGRyYWdnYWJsZTogZmFsc2UsCiAgICAgICAgcG9pbnRhYmxlOiBmYWxzZSwKICAgICAgICBbdGFncy5tYWluU2NlbmVEaW1lbnNpb25dOiB0cnVlLAogICAgICAgIFtgJHt0YWdzLm1haW5TY2VuZURpbWVuc2lvbn1aYF06IC0xLjUsCiAgICAgICAgc2NhbGU6IDMsCiAgICB9KTsKfQoKcmV0dXJuOwA="}]}