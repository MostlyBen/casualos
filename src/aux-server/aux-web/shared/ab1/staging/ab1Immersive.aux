{"version":2,"updates":[{"id":0,"timestamp":1678906695652,"update":"ARTHkpKfCwAnAQRib3RzJGM0ODkxOThhLWY4OTktNGJlNi1iMWEwLWY0MjdkZjJmZjMzZAEnAMeSkp8LAAZzeXN0ZW0CBADHkpKfCwEWYWItMS5pbW1lcnNpdmUuaW1tZXJzZSgAx5KSnwsACm9uQm90QWRkZWQBfigAx5KSnwsAD29uSW5zdFN0cmVhbWluZwF+JwDHkpKfCwAPb25Qb3J0YWxDaGFuZ2VkAgQAx5KSnwsa/QJALy9USElTIElOSVRJQVRFUyBBIENIRUNLIEZPUiBJTU1FUlNJVkUgTU9ERQppZiAodGhhdC5wb3J0YWwgPT0gImxlZnRXcmlzdFBvcnRhbCIpCnsKICAgIHRoaXNCb3Qub25MZWZ0V3Jpc3RQb3J0YWwoKTsKfQoKaWYgKHRoYXQucG9ydGFsICE9ICJncmlkUG9ydGFsIiB8fCB0aGF0LmRpbWVuc2lvbiAhPSAiaW1tZXJzaXZlIikKewogICAgcmV0dXJuOwp9Cgp0aGlzQm90LnNldHVwSW1tZXJzaXZlSW50ZXJmYWNlKCk7Cgp0aGlzQm90LnNldHVwQ3NzQ29tcGlsZXIoKTsKCnRoaXNCb3QuaW5pdGlhbGl6ZU1hdGgoKTsKCi8vaW5pdGlhbGl6ZUltbWVyc2l2ZU1lbnUKLy9pbml0aWFsaXplU3BhY2lhbENhbGlicmF0aW9uCgp0aGlzQm90Lm9uSW1tZXJzaXZlU2V0dXAoKTsnAMeSkp8LABBvbkltbWVyc2l2ZVNldHVwAgQAx5KSnwuYA9AIQGxldCBzdXBwb3J0c0FSID0gb3MuZGV2aWNlKCkuc3VwcG9ydHNBUjsKbGV0IHN1cHBvcnRzVlIgPSBvcy5kZXZpY2UoKS5zdXBwb3J0c1ZSOwoKLy9TRVRVUCBGUlVTVFVNPz8/CgppZiAoIXN1cHBvcnRzQVIgJiYgIXN1cHBvcnRzVlIpCnsKICAgIHJldHVybjsKfQoKZ3JpZFBvcnRhbEJvdC50YWdzLnBvcnRhbENhbWVyYVR5cGUgPSAncGVyc3BlY3RpdmUnOwoKbGVmdFdyaXN0UG9ydGFsQm90LnRhZ3MucG9ydGFsR3JpZFNjYWxlID0gMC4wMjU7CgpyaWdodFdyaXN0UG9ydGFsQm90LnRhZ3MucG9ydGFsR3JpZFNjYWxlID0gMC4wMjU7CgpnbG9iYWxUaGlzLm1haW5TY2VuZUJvdCA9IGNyZWF0ZSh7CiAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICBmb3JtOiAnZGltZW5zaW9uJywKICAgIGZvcm1BZGRyZXNzOiB0YWdzLm1haW5TY2VuZURpbWVuc2lvbiwKICAgIFt0YWdzLnJvb3REaW1lbnNpb25dOiB0cnVlLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1YYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVlgXTogMCwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259WmBdOiAwLAogICAgW2Ake3RhZ3Mucm9vdERpbWVuc2lvbn1Sb3RhdGlvblhgXTogMCwKICAgIFtgJHt0YWdzLnJvb3REaW1lbnNpb259Um90YXRpb25ZYF06IDAsCiAgICBbYCR7dGFncy5yb290RGltZW5zaW9ufVJvdGF0aW9uWmBdOiAwLAp9KTsKCmlmICh0YWdzLnNob3dDb21wYXNzID09PSB0cnVlKSB7CiAgICBjcmVhdGUoewogICAgICAgIHNwYWNlOiAndGVtcExvY2FsJywKICAgICAgICBmb3JtOiAnc3ByaXRlJywKICAgICAgICBmb3JtQWRkcmVzczogJ2h0dHBzOi8vYnVpbGRlci1sdG0tZmlsZXMuczMuYW1hem9uYXdzLmNvbS8wMTc0NGQ0Nzc0M2FiYjgyNzI3NWI3YmI4NjVmMjZlNDM4NjAzOTc5OGQ5NzUzZDUyMTM5OTUxNWRjMzcwZmFiLnBuZycsCiAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSwKICAgICAgICBwb2ludGFibGU6IGZhbHNlLAogICAgICAgIFt0YWdzLm1haW5TY2VuZURpbWVuc2lvbl06IHRydWUsCiAgICAgICAgW2Ake3RhZ3MubWFpblNjZW5lRGltZW5zaW9ufVpgXTogLTEuNSwKICAgICAgICBzY2FsZTogMywKICAgIH0pOwp9JwDHkpKfCwAEZm9ybQIEAMeSkp8L6QsHbm90aGluZycAx5KSnwsADGFiMUltbWVyc2l2ZQIEAMeSkp8L8QsEdHJ1ZScAx5KSnwsAEW9uTGVmdFdyaXN0UG9ydGFsAgQAx5KSnwv2C9cHQGxlZnRXcmlzdFBvcnRhbEJvdC50YWdzLndyaXN0UG9ydGFsV2lkdGggPSAtMTsKbGVmdFdyaXN0UG9ydGFsQm90LnRhZ3Mud3Jpc3RQb3J0YWxIZWlnaHQgPSAtMTsKCi8vIENvbXBhc3MgQ2FsaWJyYXRpb24gQnV0dG9uCmNyZWF0ZShtb2RGYWN0b3J5LmJ1dHRvbih7CiAgICBzcGFjZTogJ3RlbXBMb2NhbCcsCiAgICBkaW1lbnNpb246IGNvbmZpZ0JvdC50YWdzLmxlZnRXcmlzdFBvcnRhbE5hbWUsCiAgICBkaW1lbnNpb25YOiA1LjUsCiAgICBkaW1lbnNpb25ZOiAzLAogICAgbGFiZWw6ICdDb21wYXNzIENhbGlicmF0aW9uJywKICAgIG9uQ2xpY2s6IGBACiAgICAgICAgc3BhdGlhbENhbGlicmF0aW9uLmNvbXBhc3NDYWxpYnJhdGlvbigpOwogICAgYAp9KSk7CgovLyBUb3RlbSBDYWxpYnJhdGlvbiBCdXR0b24KY3JlYXRlKG1vZEZhY3RvcnkuYnV0dG9uKHsKICAgIHNwYWNlOiAndGVtcExvY2FsJywKICAgIGRpbWVuc2lvbjogY29uZmlnQm90LnRhZ3MubGVmdFdyaXN0UG9ydGFsTmFtZSwKICAgIGRpbWVuc2lvblg6IDUuNSwKICAgIGRpbWVuc2lvblk6IDQsCiAgICBvbkFkZGVkOiBgQAogICAgICAgIHRhZ3MubGFiZWwgPSAnU3RhcnQgVG90ZW0gQ2FsaWJyYXRpb24nOwoKICAgICAgICB0YWdzLm9uVG90ZW1TZXR1cFN0YXJ0ZWQgPSBcYEAKICAgICAgICAgICAgdGFncy5sYWJlbCA9ICdTdG9wIFRvdGVtIENhbGlicmF0aW9uJzsKICAgICAgICBcYDsKCiAgICAgICAgdGFncy5vblRvdGVtU2V0dXBTdG9wcGVkID0gXGBACiAgICAgICAgICAgIHRhZ3MubGFiZWwgPSAnU3RhcnQgVG90ZW0gQ2FsaWJyYXRpb24nOwogICAgICAgIFxgOwogICAgYCwKICAgIG9uQ2xpY2s6IGBACiAgICAgICAgaWYgKHRvdGVtSW5wdXQudGFncy5lbmFibGVkKSB7CiAgICAgICAgICAgIHRvdGVtSW5wdXQuc3RvcCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvdGVtSW5wdXQuc3RhcnQoKTsKICAgICAgICB9CiAgICBgCn0pKTsnAMeSkp8LAA5pbml0aWFsaXplTWF0aAIEAMeSkp8LzhPpjwFALy8gPT09PT09PT09PQovLyBtYXRoIHV0aWxzCi8vID09PT09PT09PT0KZ2xvYmFsVGhpcy5tYXRoVXRpbHMgPSB7fTsKCm1hdGhVdGlscy5jbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IHsKCXJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTsKfQoKbWF0aFV0aWxzLmZtb2QgPSAoYSxiKSA9PiB7IAoJcmV0dXJuIE51bWJlcigoYSAtIChNYXRoLmZsb29yKGEgLyBiKSAqIGIpKS50b1ByZWNpc2lvbig4KSk7IAp9CgptYXRoVXRpbHMud3JhcFRvMlBpID0gKGEpID0+IHsgCglhID0gbWF0aFV0aWxzLmZtb2QoYSwgTWF0aC5QSSAqIDIpOwoJcmV0dXJuIGE7Cn0KCm1hdGhVdGlscy5mbGlwWVogPSAodiwgc2lnbikgPT4gewogICAgY29uc3QgeSA9IHYueTsKICAgIGNvbnN0IHogPSB2Lno7CiAgICB2LnogPSB5OwogICAgdi55ID0gc2lnbiA/IC16IDogejsKfQoKLy8gPT09PT09PT09PQovLyB2ZWN0b3IzCi8vID09PT09PT09PT0KZ2xvYmFsVGhpcy52ZWN0b3IzID0ge307Cgp2ZWN0b3IzLnplcm8gPSAoKSA9PiB7CglyZXR1cm4ge3g6IDAsIHk6IDAsIHo6IDB9Cn0KCnZlY3RvcjMudXAgPSAoKSA9PiB7CglyZXR1cm4ge3g6IDAsIHk6IDEsIHo6IDB9Cn0KCnZlY3RvcjMub25lID0gKCkgPT4gewoJcmV0dXJuIHt4OiAxLCB5OiAxLCB6OiAxfQp9Cgp2ZWN0b3IzLmFwcGx5UXVhdGVybmlvbiA9ICh2LCBxKSA9PiB7CgkJY29uc3QgeCA9IHYueCwgeSA9IHYueSwgeiA9IHYuejsKCQljb25zdCBxeCA9IHEueCwgcXkgPSBxLnksIHF6ID0gcS56LCBxdyA9IHEudzsKCgkJLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3IKCQljb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTsKCQljb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejsKCQljb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDsKCQljb25zdCBpdyA9IC0gcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OwoKCQkvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0CgkJdi54ID0gaXggKiBxdyArIGl3ICogLSBxeCArIGl5ICogLSBxeiAtIGl6ICogLSBxeTsKCQl2LnkgPSBpeSAqIHF3ICsgaXcgKiAtIHF5ICsgaXogKiAtIHF4IC0gaXggKiAtIHF6OwoJCXYueiA9IGl6ICogcXcgKyBpdyAqIC0gcXogKyBpeCAqIC0gcXkgLSBpeSAqIC0gcXg7CgoJCXJldHVybiB2Owp9Cgp2ZWN0b3IzLmxlbmd0aFNxID0gKHYpID0+IHsKICAgIHJldHVybiB2LnggKiB2LnggKyB2LnkgKiB2LnkgKyB2LnogKiB2Lno7Cn0KCnZlY3RvcjMuZG90ID0gKHYxLCB2MikgPT4gewogICAgcmV0dXJuIHYxLnggKiB2Mi54ICsgdjEueSAqIHYyLnkgKyB2MS56ICogdjIuejsKfQoKdmVjdG9yMy5hbmdsZSA9ICh2MSwgdjIpID0+IHsKCQljb25zdCBkZW5vbWluYXRvciA9IE1hdGguc3FydCggdmVjdG9yMy5sZW5ndGhTcSh2MSkgKiB2ZWN0b3IzLmxlbmd0aFNxKHYyKSApOwoJCWlmICggZGVub21pbmF0b3IgPT09IDAgKSByZXR1cm4gTWF0aC5QSSAvIDI7CgoJCWNvbnN0IHRoZXRhID0gdmVjdG9yMy5kb3QodjEsIHYyKSAvIGRlbm9taW5hdG9yOwoJCS8vIGNsYW1wLCB0byBoYW5kbGUgbnVtZXJpY2FsIHByb2JsZW1zCgkJcmV0dXJuIE1hdGguYWNvcyhtYXRoVXRpbHMuY2xhbXAodGhldGEsIC0gMSwgMSkpOwp9Cgp2ZWN0b3IzLmxlcnAgPSAodjEsIHYyLCB0KSA9PiB7CiAgICByZXR1cm4gewogICAgICAgIHg6IHYxLnggKyAodjIueCAtIHYxLngpICogdCwKCQl5OiB2MS55ICsgKHYyLnkgLSB2MS55KSAqIHQsCgkJejogdjEueiArICh2Mi56IC0gdjEueikgKiB0CiAgICB9Cn0KCnZlY3RvcjMubGVuZ3RoID0gKHYpID0+IHsKCXJldHVybiBNYXRoLnNxcnQodi54ICogdi54ICsgdi55ICogdi55ICsgdi56ICogdi56KTsKfQoKdmVjdG9yMy5sZW5ndGhTcSA9ICh2KSA9PiB7CglyZXR1cm4gdi54ICogdi54ICsgdi55ICogdi55ICsgdi56ICogdi56Owp9Cgp2ZWN0b3IzLmFwcGx5TWF0cml4NCA9ICh2LCBtKSA9PiB7Cgljb25zdCB4ID0gdi54LCB5ID0gdi55LCB6ID0gdi56OwoJY29uc3QgdyA9IDEgLyAobVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdKTsKCgl2LnggPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pICogdzsKCXYueSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgKiB3OwoJdi56ID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgKiB3OwoKCXJldHVybiB2Owp9Cgp2ZWN0b3IzLm11bHRpcGx5U2NhbGFyID0gKHYsIHMpID0+IHsKCXYueCAqPSBzOwoJdi55ICo9IHM7Cgl2LnogKj0gczsKCglyZXR1cm4gdjsKfQoKdmVjdG9yMy5jcm9zc1ZlY3RvcnMgPSAoYSwgYikgPT4gewoJY29uc3QgdiA9IHZlY3RvcjMuemVybygpOwoJY29uc3QgYXggPSBhLngsIGF5ID0gYS55LCBheiA9IGEuejsKCWNvbnN0IGJ4ID0gYi54LCBieSA9IGIueSwgYnogPSBiLno7CgoJdi54ID0gYXkgKiBieiAtIGF6ICogYnk7Cgl2LnkgPSBheiAqIGJ4IC0gYXggKiBiejsKCXYueiA9IGF4ICogYnkgLSBheSAqIGJ4OwoJcmV0dXJuIHY7Cn0KCnZlY3RvcjMuYXBwbHlFdWxlciA9ICh2LCBldWxlciwgb3JkZXIgPSAnWFlaJykgPT4gewoJcmV0dXJuIHZlY3RvcjMuYXBwbHlRdWF0ZXJuaW9uKHYsIHF1YXRlcm5pb24uZnJvbUV1bGVyKGV1bGVyLCBvcmRlcikpOwp9Cgp2ZWN0b3IzLmFwcGx5QXhpc0FuZ2xlID0gKHYsIGF4aXMsIGFuZ2xlKSA9PiB7CglyZXR1cm4gdmVjdG9yMy5hcHBseVF1YXRlcm5pb24oIHYsIHF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSggYXhpcywgYW5nbGUgKSApOwp9Cgp2ZWN0b3IzLnNldEZyb21Sb3RhdGlvbk1hdHJpeCA9IChtLCBvcmRlciA9ICdYWVonKSA9PiB7CgkvLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKQoJLy8gY29uc29sZS5sb2coYFt2ZWN0b3IzLnNldEZyb21Sb3RhdGlvbk1hdHJpeF0gMS4gbWF0cml4YCwgSlNPTi5zdHJpbmdpZnkobSkpOwoJY29uc3QgbTExID0gbVswXSwgbTEyID0gbVs0XSwgbTEzID0gbVs4XTsKCWNvbnN0IG0yMSA9IG1bMV0sIG0yMiA9IG1bNV0sIG0yMyA9IG1bOV07Cgljb25zdCBtMzEgPSBtWzJdLCBtMzIgPSBtWzZdLCBtMzMgPSBtWzEwXTsKCWNvbnN0IHYgPSB2ZWN0b3IzLnplcm8oKTsKCglzd2l0Y2ggKG9yZGVyKSB7CgkJY2FzZSAnWFlaJzoKCQkJdi55ID0gTWF0aC5hc2luKG1hdGhVdGlscy5jbGFtcChtMTMsIC0gMSwgMSkpOwoKCQkJaWYgKE1hdGguYWJzKG0xMykgPCAwLjk5OTk5OTkpIHsKCQkJCXYueCA9IE1hdGguYXRhbjIoLSBtMjMsIG0zMyk7CgkJCQl2LnogPSBNYXRoLmF0YW4yKC0gbTEyLCBtMTEpOwoJCQl9IGVsc2UgewoJCQkJdi54ID0gTWF0aC5hdGFuMihtMzIsIG0yMik7CgkJCQl2LnogPSAwOwoJCQl9CgkJCS8vIGNvbnNvbGUubG9nKGBbdmVjdG9yMy5zZXRGcm9tUm90YXRpb25NYXRyaXhdIDIuIFhZWiBzd2l6emxlYCwgSlNPTi5zdHJpbmdpZnkodikpOwoJCQlicmVhazsKCQljYXNlICdZWFonOgoJCQl2LnggPSBNYXRoLmFzaW4oLSBtYXRoVXRpbHMuY2xhbXAobTIzLCAtIDEsIDEpKTsKCgkJCWlmIChNYXRoLmFicyhtMjMpIDwgMC45OTk5OTk5KSB7CgkJCQl2LnkgPSBNYXRoLmF0YW4yKG0xMywgbTMzKTsKCQkJCXYueiA9IE1hdGguYXRhbjIobTIxLCBtMjIpOwoJCQl9IGVsc2UgewoJCQkJdi55ID0gTWF0aC5hdGFuMigtIG0zMSwgbTExKTsKCQkJCXYueiA9IDA7CgkJCX0KCQkJYnJlYWs7CgkJY2FzZSAnWlhZJzoKCQkJdi54ID0gTWF0aC5hc2luKG1hdGhVdGlscy5jbGFtcChtMzIsIC0gMSwgMSkpOwoKCQkJaWYgKE1hdGguYWJzKG0zMikgPCAwLjk5OTk5OTkpIHsKCQkJCXYueSA9IE1hdGguYXRhbjIoLSBtMzEsIG0zMyk7CgkJCQl2LnogPSBNYXRoLmF0YW4yKC0gbTEyLCBtMjIpOwoJCQl9IGVsc2UgewoJCQkJdi55ID0gMDsKCQkJCXYueiA9IE1hdGguYXRhbjIobTIxLCBtMTEpOwoJCQl9CgkJCWJyZWFrOwoJCWNhc2UgJ1pZWCc6CgkJCXYueSA9IE1hdGguYXNpbigtIG1hdGhVdGlscy5jbGFtcChtMzEsIC0gMSwgMSkpOwoKCQkJaWYgKE1hdGguYWJzKG0zMSkgPCAwLjk5OTk5OTkpIHsKCQkJCXYueCA9IE1hdGguYXRhbjIobTMyLCBtMzMpOwoJCQkJdi56ID0gTWF0aC5hdGFuMihtMjEsIG0xMSk7CgkJCX0gZWxzZSB7CgkJCQl2LnggPSAwOwoJCQkJdi56ID0gTWF0aC5hdGFuMigtIG0xMiwgbTIyKTsKCQkJfQoJCQlicmVhazsKCQljYXNlICdZWlgnOgoJCQl2LnogPSBNYXRoLmFzaW4obWF0aFV0aWxzLmNsYW1wKG0yMSwgLSAxLCAxKSk7CgoJCQlpZiAoTWF0aC5hYnMobTIxKSA8IDAuOTk5OTk5OSkgewoJCQkJdi54ID0gTWF0aC5hdGFuMigtIG0yMywgbTIyKTsKCQkJCXYueSA9IE1hdGguYXRhbjIoLSBtMzEsIG0xMSk7CgkJCX0gZWxzZSB7CgkJCQl2LnggPSAwOwoJCQkJdi55ID0gTWF0aC5hdGFuMihtMTMsIG0zMyk7CgkJCX0KCQkJYnJlYWs7CgkJY2FzZSAnWFpZJzoKCQkJdi56ID0gTWF0aC5hc2luKC0gbWF0aFV0aWxzLmNsYW1wKG0xMiwgLSAxLCAxKSk7CgoJCQlpZiAoTWF0aC5hYnMobTEyKSA8IDAuOTk5OTk5OSkgewoJCQkJdi54ID0gTWF0aC5hdGFuMihtMzIsIG0yMik7CgkJCQl2LnkgPSBNYXRoLmF0YW4yKG0xMywgbTExKTsKCQkJfSBlbHNlIHsKCQkJCXYueCA9IE1hdGguYXRhbjIoLSBtMjMsIG0zMyk7CgkJCQl2LnkgPSAwOwoJCQl9CgkJCWJyZWFrOwoJCWRlZmF1bHQ6CgkJCWNvbnNvbGUud2FybignW3ZlY3RvcjMuc2V0RnJvbVJvdGF0aW9uTWF0cml4XSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAnICsgb3JkZXIpOwoJfQoKCXJldHVybiB2Owp9Cgp2ZWN0b3IzLnNldEZyb21RdWF0ZXJuaW9uID0gKHEsIG9yZGVyID0gJ1hZWicpID0+IHsKCWNvbnN0IG0gPSBtYXRyaXg0LmNvbXBvc2UodmVjdG9yMy56ZXJvKCksIHEsIHZlY3RvcjMub25lKCkpOwoJcmV0dXJuIHZlY3RvcjMuc2V0RnJvbVJvdGF0aW9uTWF0cml4KG0sIG9yZGVyKTsKfQoKdmVjdG9yMy5sb2NhbFRvV29ybGQgPSAodmVjdG9yLCBtYXRyaXhXb3JsZCkgPT4gewoJcmV0dXJuIHZlY3RvcjMuYXBwbHlNYXRyaXg0KHZlY3RvciwgbWF0cml4V29ybGQpOwp9Cgp2ZWN0b3IzLndvcmxkVG9Mb2NhbCA9ICh2ZWN0b3IsIG1hdHJpeFdvcmxkKSA9PiB7Cgljb25zdCBpbnZlcnNlTWF0cml4ID0gbWF0cml4NC5pbnZlcnQoWy4uLm1hdHJpeFdvcmxkXSk7CglyZXR1cm4gdmVjdG9yMy5hcHBseU1hdHJpeDQodmVjdG9yLCBpbnZlcnNlTWF0cml4KTsKfQoKLy8gPT09PT09PT09PQovLyBxdWF0ZXJuaW9uCi8vID09PT09PT09PT0KZ2xvYmFsVGhpcy5xdWF0ZXJuaW9uID0ge307CgpxdWF0ZXJuaW9uLmlkZW50aXR5ID0gKCkgPT4gewoJcmV0dXJuIHt4OiAwLCB5OiAwLCB6OiAwLCB3OiAxfTsKfQoKcXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXggPSAocSwgbSkgPT4gewoJLy8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG0KCS8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCgoJY29uc3QgbTExID0gbVsgMCBdLCBtMTIgPSBtWyA0IF0sIG0xMyA9IG1bIDggXTsKCWNvbnN0IG0yMSA9IG1bIDEgXSwgbTIyID0gbVsgNSBdLCBtMjMgPSBtWyA5IF07Cgljb25zdCBtMzEgPSBtWyAyIF0sIG0zMiA9IG1bIDYgXSwgbTMzID0gbVsgMTAgXTsKCgljb25zdCB0cmFjZSA9IG0xMSArIG0yMiArIG0zMzsKCglpZiAoIHRyYWNlID4gMCApIHsKCQljb25zdCBzID0gMC41IC8gTWF0aC5zcXJ0KCB0cmFjZSArIDEuMCApOwoKCQlxLncgPSAwLjI1IC8gczsKCQlxLnggPSAoIG0zMiAtIG0yMyApICogczsKCQlxLnkgPSAoIG0xMyAtIG0zMSApICogczsKCQlxLnogPSAoIG0yMSAtIG0xMiApICogczsKCX0gZWxzZSBpZiAoIG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMgKSB7CgkJY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTExIC0gbTIyIC0gbTMzICk7CgoJCXEudyA9ICggbTMyIC0gbTIzICkgLyBzOwoJCXEueCA9IDAuMjUgKiBzOwoJCXEueSA9ICggbTEyICsgbTIxICkgLyBzOwoJCXEueiA9ICggbTEzICsgbTMxICkgLyBzOwoJfSBlbHNlIGlmICggbTIyID4gbTMzICkgewoJCWNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoIDEuMCArIG0yMiAtIG0xMSAtIG0zMyApOwoKCQlxLncgPSAoIG0xMyAtIG0zMSApIC8gczsKCQlxLnggPSAoIG0xMiArIG0yMSApIC8gczsKCQlxLnkgPSAwLjI1ICogczsKCQlxLnogPSAoIG0yMyArIG0zMiApIC8gczsKCX0gZWxzZSB7CgkJY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCggMS4wICsgbTMzIC0gbTExIC0gbTIyICk7CgoJCXEudyA9ICggbTIxIC0gbTEyICkgLyBzOwoJCXEueCA9ICggbTEzICsgbTMxICkgLyBzOwoJCXEueSA9ICggbTIzICsgbTMyICkgLyBzOwoJCXEueiA9IDAuMjUgKiBzOwoJfQoKCXJldHVybiBxOwp9CQoKcXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlID0gKGF4aXMsIGFuZ2xlKSA9PiB7CgkvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvYW5nbGVUb1F1YXRlcm5pb24vaW5kZXguaHRtCgkvLyBhc3N1bWVzIGF4aXMgaXMgbm9ybWFsaXplZAoJY29uc3QgcSA9IHF1YXRlcm5pb24uaWRlbnRpdHkoKTsKCWNvbnN0IGhhbGZBbmdsZSA9IGFuZ2xlIC8gMiwgcyA9IE1hdGguc2luKCBoYWxmQW5nbGUgKTsKCglxLnggPSBheGlzLnggKiBzOwoJcS55ID0gYXhpcy55ICogczsKCXEueiA9IGF4aXMueiAqIHM7CglxLncgPSBNYXRoLmNvcyhoYWxmQW5nbGUpOwoKCXJldHVybiBxOwp9CgpxdWF0ZXJuaW9uLmZyb21FdWxlciA9IChldWxlciwgb3JkZXIgPSAnWFlaJykgPT4gewoJY29uc3QgcSA9IHF1YXRlcm5pb24uaWRlbnRpdHkoKTsKCWNvbnN0IHggPSBldWxlci54LCB5ID0gZXVsZXIueSwgeiA9IGV1bGVyLno7CgoJLy8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLwoJLy8gCTIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubQoJY29uc3QgYzEgPSBNYXRoLmNvcyggeCAvIDIgKTsKCWNvbnN0IGMyID0gTWF0aC5jb3MoIHkgLyAyICk7Cgljb25zdCBjMyA9IE1hdGguY29zKCB6IC8gMiApOwoKCWNvbnN0IHMxID0gTWF0aC5zaW4oIHggLyAyICk7Cgljb25zdCBzMiA9IE1hdGguc2luKCB5IC8gMiApOwoJY29uc3QgczMgPSBNYXRoLnNpbiggeiAvIDIgKTsKCglzd2l0Y2ggKCBvcmRlciApIHsKCQljYXNlICdYWVonOgoJCQlxLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CgkJCXEueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKCQkJcS56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwoJCQlxLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CgkJCWJyZWFrOwoJCWNhc2UgJ1lYWic6CgkJCXEueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKCQkJcS55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwoJCQlxLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CgkJCXEudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKCQkJYnJlYWs7CgkJY2FzZSAnWlhZJzoKCQkJcS54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzOwoJCQlxLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CgkJCXEueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKCQkJcS53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwoJCQlicmVhazsKCQljYXNlICdaWVgnOgoJCQlxLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CgkJCXEueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKCQkJcS56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwoJCQlxLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CgkJCWJyZWFrOwoJCWNhc2UgJ1laWCc6CgkJCXEueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKCQkJcS55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwoJCQlxLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CgkJCXEudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKCQkJYnJlYWs7CgkJY2FzZSAnWFpZJzoKCQkJcS54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzOwoJCQlxLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CgkJCXEueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKCQkJcS53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwoJCQlicmVhazsKCQlkZWZhdWx0OgoJCQljb25zb2xlLndhcm4oICdbcXVhdGVybmlvbi5mcm9tRXVsZXJdIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcgKyBvcmRlcik7Cgl9CgoJcmV0dXJuIHE7Cn0KCnF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9ucyA9IChhLCBiKSA9PiB7CgkvLyBmcm9tIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvY29kZS9pbmRleC5odG0KCWNvbnNvbGUubG9nKGBbcXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zXSBhOmAsIEpTT04uc3RyaW5naWZ5KGEpKTsKCWNvbnNvbGUubG9nKGBbcXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zXSBiOmAsIEpTT04uc3RyaW5naWZ5KGIpKTsKCWNvbnN0IHEgPSBxdWF0ZXJuaW9uLmlkZW50aXR5KCk7Cgljb25zdCBxYXggPSBhLngsIHFheSA9IGEueSwgcWF6ID0gYS56LCBxYXcgPSBhLnc7Cgljb25zdCBxYnggPSBiLngsIHFieSA9IGIueSwgcWJ6ID0gYi56LCBxYncgPSBiLnc7CgoJcS54ID0gcWF4ICogcWJ3ICsgcWF3ICogcWJ4ICsgcWF5ICogcWJ6IC0gcWF6ICogcWJ5OwoJcS55ID0gcWF5ICogcWJ3ICsgcWF3ICogcWJ5ICsgcWF6ICogcWJ4IC0gcWF4ICogcWJ6OwoJcS56ID0gcWF6ICogcWJ3ICsgcWF3ICogcWJ6ICsgcWF4ICogcWJ5IC0gcWF5ICogcWJ4OwoJcS53ID0gcWF3ICogcWJ3IC0gcWF4ICogcWJ4IC0gcWF5ICogcWJ5IC0gcWF6ICogcWJ6OwoKCXJldHVybiBxOwp9CgpxdWF0ZXJuaW9uLmxlbmd0aCA9IChxKSA9PiB7CglyZXR1cm4gTWF0aC5zcXJ0KCBxLnggKiBxLnggKyBxLnkgKiBxLnkgKyBxLnogKiBxLnogKyBxLncgKiBxLncgKTsKfQoKcXVhdGVybmlvbi5ub3JtYWxpemUgPSAocSkgPT4gewoJbGV0IGwgPSBxdWF0ZXJuaW9uLmxlbmd0aChxKTsKCglpZiAobCA9PT0gMCkgewoJCXEueCA9IDA7CgkJcS55ID0gMDsKCQlxLnogPSAwOwoJCXEudyA9IDE7Cgl9IGVsc2UgewoJCWwgPSAxIC8gbDsKCgkJcS54ID0gcS54ICogbDsKCQlxLnkgPSBxLnkgKiBsOwoJCXEueiA9IHEueiAqIGw7CgkJcS53ID0gcS53ICogbDsKCX0KCglyZXR1cm4gcTsKfQoKcXVhdGVybmlvbi5pbnZlcnQgPSAocSkgPT4gewoJLy8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGgKCXJldHVybiBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZShxKTsKfQoKcXVhdGVybmlvbi5jb25qdWdhdGUgPSAocSkgPT4gewoJcS54ICo9IC0gMTsKCXEueSAqPSAtIDE7CglxLnogKj0gLSAxOwoKCXJldHVybiBxOwp9CgovLyA9PT09PT09PT09Ci8vIG1hdHJpeDQKLy8gPT09PT09PT09PQpnbG9iYWxUaGlzLm1hdHJpeDQgPSB7fTsKCm1hdHJpeDQuaWRlbnRpdHkgPSAoKSA9PiB7CglyZXR1cm4gWwoJCTEsIDAsIDAsIDAsCgkJMCwgMSwgMCwgMCwKCQkwLCAwLCAxLCAwLAoJCTAsIDAsIDAsIDEKCV07Cn0KCm1hdHJpeDQubXVsdGlwbHlNYXRyaWNlcyA9IChtLCBhLCBiKSA9PiB7Cgljb25zdCBhMTEgPSBhWzBdLCBhMTIgPSBhWzRdLCBhMTMgPSBhWzhdLCBhMTQgPSBhWzEyXTsKCWNvbnN0IGEyMSA9IGFbMV0sIGEyMiA9IGFbNV0sIGEyMyA9IGFbOV0sIGEyNCA9IGFbMTNdOwoJY29uc3QgYTMxID0gYVsyXSwgYTMyID0gYVs2XSwgYTMzID0gYVsxMF0sIGEzNCA9IGFbMTRdOwoJY29uc3QgYTQxID0gYVszXSwgYTQyID0gYVs3XSwgYTQzID0gYVsxMV0sIGE0NCA9IGFbMTVdOwoKCWNvbnN0IGIxMSA9IGJbMF0sIGIxMiA9IGJbNF0sIGIxMyA9IGJbOF0sIGIxNCA9IGJbMTJdOwoJY29uc3QgYjIxID0gYlsxXSwgYjIyID0gYls1XSwgYjIzID0gYls5XSwgYjI0ID0gYlsxM107Cgljb25zdCBiMzEgPSBiWzJdLCBiMzIgPSBiWzZdLCBiMzMgPSBiWzEwXSwgYjM0ID0gYlsxNF07Cgljb25zdCBiNDEgPSBiWzNdLCBiNDIgPSBiWzddLCBiNDMgPSBiWzExXSwgYjQ0ID0gYlsxNV07CgoJbVswXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMSArIGExNCAqIGI0MTsKCW1bNF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDI7CgltWzhdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzOwoJbVsxMl0gPSBhMTEgKiBiMTQgKyBhMTIgKiBiMjQgKyBhMTMgKiBiMzQgKyBhMTQgKiBiNDQ7CgoJbVsxXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MTsKCW1bNV0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzIgKyBhMjQgKiBiNDI7CgltWzldID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzOwoJbVsxM10gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDQ7CgoJbVsyXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MTsKCW1bNl0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDI7CgltWzEwXSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMyArIGEzNCAqIGI0MzsKCW1bMTRdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0OwoKCW1bM10gPSBhNDEgKiBiMTEgKyBhNDIgKiBiMjEgKyBhNDMgKiBiMzEgKyBhNDQgKiBiNDE7CgltWzddID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyOwoJbVsxMV0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDM7CgltWzE1XSA9IGE0MSAqIGIxNCArIGE0MiAqIAliMjQgKyBhNDMgKiBiMzQgKyBhNDQgKiBiNDQ7CgoJcmV0dXJuIG07Cn0KCm1hdHJpeDQuaW52ZXJ0ID0gKG0pID0+IHsKCS8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bQoJY29uc3QgbjExID0gbVswXSwgbjIxID0gbVsxXSwgbjMxID0gbVsyXSwgbjQxID0gbVszXTsKCWNvbnN0IG4xMiA9IG1bNF0sIG4yMiA9IG1bNV0sIG4zMiA9IG1bNl0sIG40MiA9IG1bN107Cgljb25zdCBuMTMgPSBtWzhdLCBuMjMgPSBtWzldLCBuMzMgPSBtWzEwXSwgbjQzID0gbVsxMV07Cgljb25zdCBuMTQgPSBtWzEyXSwgbjI0ID0gbVsxM10sIG4zNCA9IG1bMTRdLCBuNDQgPSBtWzE1XTsKCgljb25zdCB0MTEgPSBuMjMgKiBuMzQgKiBuNDIgLSBuMjQgKiBuMzMgKiBuNDIgKyBuMjQgKiBuMzIgKiBuNDMgLSBuMjIgKiBuMzQgKiBuNDMgLSBuMjMgKiBuMzIgKiBuNDQgKyBuMjIgKiBuMzMgKiBuNDQ7Cgljb25zdCB0MTIgPSBuMTQgKiBuMzMgKiBuNDIgLSBuMTMgKiBuMzQgKiBuNDIgLSBuMTQgKiBuMzIgKiBuNDMgKyBuMTIgKiBuMzQgKiBuNDMgKyBuMTMgKiBuMzIgKiBuNDQgLSBuMTIgKiBuMzMgKiBuNDQ7Cgljb25zdCB0MTMgPSBuMTMgKiBuMjQgKiBuNDIgLSBuMTQgKiBuMjMgKiBuNDIgKyBuMTQgKiBuMjIgKiBuNDMgLSBuMTIgKiBuMjQgKiBuNDMgLSBuMTMgKiBuMjIgKiBuNDQgKyBuMTIgKiBuMjMgKiBuNDQ7Cgljb25zdCB0MTQgPSBuMTQgKiBuMjMgKiBuMzIgLSBuMTMgKiBuMjQgKiBuMzIgLSBuMTQgKiBuMjIgKiBuMzMgKyBuMTIgKiBuMjQgKiBuMzMgKyBuMTMgKiBuMjIgKiBuMzQgLSBuMTIgKiBuMjMgKiBuMzQ7CgoJY29uc3QgZGV0ID0gbjExICogdDExICsgbjIxICogdDEyICsgbjMxICogdDEzICsgbjQxICogdDE0OwoKCWlmIChkZXQgPT09IDApIHJldHVybiBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07CgoJY29uc3QgZGV0SW52ID0gMSAvIGRldDsKCgltWzBdID0gdDExICogZGV0SW52OwoJbVsxXSA9IChuMjQgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzEgKiBuNDMgKyBuMjEgKiBuMzQgKiBuNDMgKyBuMjMgKiBuMzEgKiBuNDQgLSBuMjEgKiBuMzMgKiBuNDQpICogZGV0SW52OwoJbVsyXSA9IChuMjIgKiBuMzQgKiBuNDEgLSBuMjQgKiBuMzIgKiBuNDEgKyBuMjQgKiBuMzEgKiBuNDIgLSBuMjEgKiBuMzQgKiBuNDIgLSBuMjIgKiBuMzEgKiBuNDQgKyBuMjEgKiBuMzIgKiBuNDQpICogZGV0SW52OwoJbVszXSA9IChuMjMgKiBuMzIgKiBuNDEgLSBuMjIgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzEgKiBuNDIgKyBuMjEgKiBuMzMgKiBuNDIgKyBuMjIgKiBuMzEgKiBuNDMgLSBuMjEgKiBuMzIgKiBuNDMpICogZGV0SW52OwoKCW1bNF0gPSB0MTIgKiBkZXRJbnY7CgltWzVdID0gKG4xMyAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMyAqIG40MSArIG4xNCAqIG4zMSAqIG40MyAtIG4xMSAqIG4zNCAqIG40MyAtIG4xMyAqIG4zMSAqIG40NCArIG4xMSAqIG4zMyAqIG40NCkgKiBkZXRJbnY7CgltWzZdID0gKG4xNCAqIG4zMiAqIG40MSAtIG4xMiAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMSAqIG40MiArIG4xMSAqIG4zNCAqIG40MiArIG4xMiAqIG4zMSAqIG40NCAtIG4xMSAqIG4zMiAqIG40NCkgKiBkZXRJbnY7CgltWzddID0gKG4xMiAqIG4zMyAqIG40MSAtIG4xMyAqIG4zMiAqIG40MSArIG4xMyAqIG4zMSAqIG40MiAtIG4xMSAqIG4zMyAqIG40MiAtIG4xMiAqIG4zMSAqIG40MyArIG4xMSAqIG4zMiAqIG40MykgKiBkZXRJbnY7CgoJbVs4XSA9IHQxMyAqIGRldEludjsKCW1bOV0gPSAobjE0ICogbjIzICogbjQxIC0gbjEzICogbjI0ICogbjQxIC0gbjE0ICogbjIxICogbjQzICsgbjExICogbjI0ICogbjQzICsgbjEzICogbjIxICogbjQ0IC0gbjExICogbjIzICogbjQ0KSAqIGRldEludjsKCW1bMTBdID0gKG4xMiAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMiAqIG40MSArIG4xNCAqIG4yMSAqIG40MiAtIG4xMSAqIG4yNCAqIG40MiAtIG4xMiAqIG4yMSAqIG40NCArIG4xMSAqIG4yMiAqIG40NCkgKiBkZXRJbnY7CgltWzExXSA9IChuMTMgKiBuMjIgKiBuNDEgLSBuMTIgKiBuMjMgKiBuNDEgLSBuMTMgKiBuMjEgKiBuNDIgKyBuMTEgKiBuMjMgKiBuNDIgKyBuMTIgKiBuMjEgKiBuNDMgLSBuMTEgKiBuMjIgKiBuNDMpICogZGV0SW52OwoKCW1bMTJdID0gdDE0ICogZGV0SW52OwoJbVsxM10gPSAobjEzICogbjI0ICogbjMxIC0gbjE0ICogbjIzICogbjMxICsgbjE0ICogbjIxICogbjMzIC0gbjExICogbjI0ICogbjMzIC0gbjEzICogbjIxICogbjM0ICsgbjExICogbjIzICogbjM0KSAqIGRldEludjsKCW1bMTRdID0gKG4xNCAqIG4yMiAqIG4zMSAtIG4xMiAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMSAqIG4zMiArIG4xMSAqIG4yNCAqIG4zMiArIG4xMiAqIG4yMSAqIG4zNCAtIG4xMSAqIG4yMiAqIG4zNCkgKiBkZXRJbnY7CgltWzE1XSA9IChuMTIgKiBuMjMgKiBuMzEgLSBuMTMgKiBuMjIgKiBuMzEgKyBuMTMgKiBuMjEgKiBuMzIgLSBuMTEgKiBuMjMgKiBuMzIgLSBuMTIgKiBuMjEgKiBuMzMgKyBuMTEgKiBuMjIgKiBuMzMpICogZGV0SW52OwoKCXJldHVybiBtOwp9CgptYXRyaXg0LmNvbXBvc2UgPSAocG9zaXRpb24sIHF1YXRlcm5pb24sIHNjYWxlKSA9PiB7Cgljb25zdCBtID0gbWF0cml4NC5pZGVudGl0eSgpOwoKCWNvbnN0IHggPSBxdWF0ZXJuaW9uLngsIHkgPSBxdWF0ZXJuaW9uLnksIHogPSBxdWF0ZXJuaW9uLnosIHcgPSBxdWF0ZXJuaW9uLnc7Cgljb25zdCB4MiA9IHggKyB4LAl5MiA9IHkgKyB5LCB6MiA9IHogKyB6OwoJY29uc3QgeHggPSB4ICogeDIsIHh5ID0geCAqIHkyLCB4eiA9IHggKiB6MjsKCWNvbnN0IHl5ID0geSAqIHkyLCB5eiA9IHkgKiB6MiwgenogPSB6ICogejI7Cgljb25zdCB3eCA9IHcgKiB4Miwgd3kgPSB3ICogeTIsIHd6ID0gdyAqIHoyOwoKCWNvbnN0IHN4ID0gc2NhbGUueCwgc3kgPSBzY2FsZS55LCBzeiA9IHNjYWxlLno7CgoJbVswXSA9ICggMSAtICggeXkgKyB6eiApICkgKiBzeDsKCW1bMV0gPSAoIHh5ICsgd3ogKSAqIHN4OwoJbVsyXSA9ICggeHogLSB3eSApICogc3g7CgltWzNdID0gMDsKCgltWzRdID0gKCB4eSAtIHd6ICkgKiBzeTsKCW1bNV0gPSAoIDEgLSAoIHh4ICsgenogKSApICogc3k7CgltWzZdID0gKCB5eiArIHd4ICkgKiBzeTsKCW1bN10gPSAwOwoKCW1bOF0gPSAoIHh6ICsgd3kgKSAqIHN6OwoJbVs5XSA9ICggeXogLSB3eCApICogc3o7CgltWzEwXSA9ICggMSAtICggeHggKyB5eSApICkgKiBzejsKCW1bMTFdID0gMDsKCgltWzEyXSA9IHBvc2l0aW9uLng7CgltWzEzXSA9IHBvc2l0aW9uLnk7CgltWzE0XSA9IHBvc2l0aW9uLno7CgltWzE1XSA9IDE7CgoJcmV0dXJuIG07Cn0KCm1hdHJpeDQuZGVjb21wb3NlID0gKG0pID0+IHsKCWNvbnN0IHAgPSB2ZWN0b3IzLnplcm8oKTsKCWNvbnN0IHEgPSBxdWF0ZXJuaW9uLmlkZW50aXR5KCk7Cgljb25zdCBzID0gdmVjdG9yMy56ZXJvKCk7CgoJbGV0IHN4ID0gdmVjdG9yMy5sZW5ndGgoe3g6IG1bMF0sIHk6IG1bMV0sIHo6IG1bMl19KTsKCWNvbnN0IHN5ID0gdmVjdG9yMy5sZW5ndGgoe3g6IG1bNF0sIHk6IG1bNV0sIHo6IG1bNl19KTsKCWNvbnN0IHN6ID0gdmVjdG9yMy5sZW5ndGgoe3g6IG1bOF0sIHk6IG1bOV0sIHo6IG1bMTBdfSk7CgoJLy8gaWYgZGV0ZXJtaW5lIGlzIG5lZ2F0aXZlLCB3ZSBuZWVkIHRvIGludmVydCBvbmUgc2NhbGUKCWNvbnN0IGRldCA9IG1hdHJpeDQuZGV0ZXJtaW5hbnQobSk7CglpZiAoIGRldCA8IDAgKSBzeCA9IC0gc3g7CgoJcC54ID0gbVsxMl07CglwLnkgPSBtWzEzXTsKCXAueiA9IG1bMTRdOwoKCS8vIHNjYWxlIHRoZSByb3RhdGlvbiBwYXJ0CglsZXQgbTEgPSBbLi4ubV07CgoJY29uc3QgaW52U1ggPSAxIC8gc3g7Cgljb25zdCBpbnZTWSA9IDEgLyBzeTsKCWNvbnN0IGludlNaID0gMSAvIHN6OwoKCW0xWzBdICo9IGludlNYOwoJbTFbMV0gKj0gaW52U1g7CgltMVsyXSAqPSBpbnZTWDsKCgltMVs0XSAqPSBpbnZTWTsKCW0xWzVdICo9IGludlNZOwoJbTFbNl0gKj0gaW52U1k7CgoJbTFbOF0gKj0gaW52U1o7CgltMVs5XSAqPSBpbnZTWjsKCW0xWzEwXSAqPSBpbnZTWjsKCglxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChxLCBtMSk7CgoJcy54ID0gc3g7CglzLnkgPSBzeTsKCXMueiA9IHN6OwoKCXJldHVybiB7CgkJcG9zaXRpb246IHAsCgkJcXVhdGVybmlvbjogcSwKCQlzY2FsZTogcywKCX0KfQoKbWF0cml4NC5kZXRlcm1pbmFudCA9IChtKSA9PiB7Cgljb25zdCBuMTEgPSBtWyAwIF0sIG4xMiA9IG1bIDQgXSwgbjEzID0gbVsgOCBdLCBuMTQgPSBtWyAxMiBdOwoJY29uc3QgbjIxID0gbVsgMSBdLCBuMjIgPSBtWyA1IF0sIG4yMyA9IG1bIDkgXSwgbjI0ID0gbVsgMTMgXTsKCWNvbnN0IG4zMSA9IG1bIDIgXSwgbjMyID0gbVsgNiBdLCBuMzMgPSBtWyAxMCBdLCBuMzQgPSBtWyAxNCBdOwoJY29uc3QgbjQxID0gbVsgMyBdLCBuNDIgPSBtWyA3IF0sIG40MyA9IG1bIDExIF0sIG40NCA9IG1bIDE1IF07CgoJLy9UT0RPOiBtYWtlIHRoaXMgbW9yZSBlZmZpY2llbnQKCS8vKCBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG0gKQoJcmV0dXJuICgKCQluNDEgKiAoCgkJCSsgbjE0ICogbjIzICogbjMyCgkJCQktIG4xMyAqIG4yNCAqIG4zMgoJCQkJLSBuMTQgKiBuMjIgKiBuMzMKCQkJCSsgbjEyICogbjI0ICogbjMzCgkJCQkrIG4xMyAqIG4yMiAqIG4zNAoJCQkJLSBuMTIgKiBuMjMgKiBuMzQKCQkpICsKCQluNDIgKiAoCgkJCSsgbjExICogbjIzICogbjM0CgkJCQktIG4xMSAqIG4yNCAqIG4zMwoJCQkJKyBuMTQgKiBuMjEgKiBuMzMKCQkJCS0gbjEzICogbjIxICogbjM0CgkJCQkrIG4xMyAqIG4yNCAqIG4zMQoJCQkJLSBuMTQgKiBuMjMgKiBuMzEKCQkpICsKCQluNDMgKiAoCgkJCSsgbjExICogbjI0ICogbjMyCgkJCQktIG4xMSAqIG4yMiAqIG4zNAoJCQkJLSBuMTQgKiBuMjEgKiBuMzIKCQkJCSsgbjEyICogbjIxICogbjM0CgkJCQkrIG4xNCAqIG4yMiAqIG4zMQoJCQkJLSBuMTIgKiBuMjQgKiBuMzEKCQkpICsKCQluNDQgKiAoCgkJCS0gbjEzICogbjIyICogbjMxCgkJCQktIG4xMSAqIG4yMyAqIG4zMgoJCQkJKyBuMTEgKiBuMjIgKiBuMzMKCQkJCSsgbjEzICogbjIxICogbjMyCgkJCQktIG4xMiAqIG4yMSAqIG4zMwoJCQkJKyBuMTIgKiBuMjMgKiBuMzEKCQkpCgkpOwp9CgptYXRyaXg0Lmxvb2tBdCA9IChtLCBleWUsIHRhcmdldCwgdXApID0+IHsKCWxldCB4LCB5LCB6OwoKCXogPSBtYXRoLnN1YnRyYWN0VmVjdG9ycyh0YXJnZXQsIGV5ZSk7CgoJaWYgKCB2ZWN0b3IzLmxlbmd0aFNxKHopID09PSAwICkgewoJCS8vIGV5ZSBhbmQgdGFyZ2V0IGFyZSBpbiB0aGUgc2FtZSBwb3NpdGlvbgoJCXoueiA9IDE7Cgl9CgoJeiA9IG1hdGgubm9ybWFsaXplVmVjdG9yKHopOwoJeCA9IHZlY3RvcjMuY3Jvc3NWZWN0b3JzKHVwLCB6KTsKCglpZiAoIHZlY3RvcjMubGVuZ3RoU3EoeCkgPT09IDAgKSB7CgkJLy8gdXAgYW5kIHogYXJlIHBhcmFsbGVsCgkJaWYgKE1hdGguYWJzKHVwLnopID09PSAxKSB7CgkJCXoueCArPSAwLjAwMDE7CgkJfSBlbHNlIHsKCQkJei56ICs9IDAuMDAwMTsKCQl9CgoJCXogPSBtYXRoLm5vcm1hbGl6ZVZlY3Rvcih6KTsKCQl4ID0gdmVjdG9yMy5jcm9zc1ZlY3RvcnModXAsIHopOwoJfQoKCXggPSBtYXRoLm5vcm1hbGl6ZVZlY3Rvcih4KTsKCXkgPSB2ZWN0b3IzLmNyb3NzVmVjdG9ycyh6LCB4KTsKCgltWzBdID0geC54OyBtWzRdID0geS54OyBtWzhdID0gei54OwoJbVsxXSA9IHgueTsgbVs1XSA9IHkueTsgbVs5XSA9IHoueTsKCW1bMl0gPSB4Lno7IG1bNl0gPSB5Lno7IG1bMTBdID0gei56OwoKCXJldHVybiBtOwp9CgptYXRyaXg0LmxvY2FsTWF0cml4RnJvbUJvdCA9IChib3QsIGRpbWVuc2lvbikgPT4gewoJY29uc3QgcCA9IHsKCQl4OiBib3QudGFnc1tkaW1lbnNpb24gKyAiWCJdID8/IDAsCgkJeTogYm90LnRhZ3NbZGltZW5zaW9uICsgIlkiXSA/PyAwLAoJCXo6IGJvdC50YWdzW2RpbWVuc2lvbiArICJaIl0gPz8gMCwKCX07Cgljb25zdCByID0gewoJCXg6IGJvdC50YWdzW2RpbWVuc2lvbiArICJSb3RhdGlvblgiXSA/PyAwLAoJCXk6IGJvdC50YWdzW2RpbWVuc2lvbiArICJSb3RhdGlvblkiXSA/PyAwLAoJCXo6IGJvdC50YWdzW2RpbWVuc2lvbiArICJSb3RhdGlvbloiXSA/PyAwLAoJfTsKCWNvbnN0IHEgPSBxdWF0ZXJuaW9uLmZyb21FdWxlcihyKTsKCWNvbnN0IHMgPSB7CgkJeDogYm90LnRhZ3NbInNjYWxlWCJdID8/IDEsCgkJeTogYm90LnRhZ3NbInNjYWxlWSJdID8/IDEsCgkJejogYm90LnRhZ3NbInNjYWxlWSJdID8/IDEsCgl9OwoJY29uc3Qgc2NhbGFyID0gYm90LnRhZ3NbInNjYWxlIl0gPz8gMTsKCXZlY3RvcjMubXVsdGlwbHlTY2FsYXIocywgc2NhbGFyKTsKCglyZXR1cm4gbWF0cml4NC5jb21wb3NlKHAsIHEsIHMpOwp9CgptYXRyaXg0LndvcmxkTWF0cml4RnJvbUJvdCA9IChib3QsIGRpbWVuc2lvbikgPT4gewoJbGV0IG1hdHJpeFdvcmxkID0gbWF0cml4NC5pZGVudGl0eSgpOwoJY29uc3QgbWF0cml4TG9jYWwgPSBtYXRyaXg0LmxvY2FsTWF0cml4RnJvbUJvdChib3QsIGRpbWVuc2lvbik7CgoJY29uc3QgcGFyZW50SWQgPSBib3QudGFncy50cmFuc2Zvcm1lcjsKCWxldCBwYXJlbnQgPSBwYXJlbnRJZCA/IGdldEJvdCgnaWQnLCBwYXJlbnRJZCkgOiBudWxsOwoKCWlmICghcGFyZW50KSB7CgkJbWF0cml4V29ybGQgPSBtYXRyaXhMb2NhbDsKCX0gZWxzZSB7CgkJY29uc3QgcGFyZW50TWF0cml4V29ybGQgPSBtYXRyaXg0LndvcmxkRnJvbUJvdChwYXJlbnQsIGRpbWVuc2lvbik7CgkJbWF0cml4V29ybGQgPSBtYXRyaXg0Lm11bHRpcGx5TWF0cmljZXMobWF0cml4V29ybGQsIHBhcmVudE1hdHJpeFdvcmxkLCBtYXRyaXhMb2NhbCk7Cgl9CgoJcmV0dXJuIG1hdHJpeFdvcmxkOwp9KADHkpKfCwAJc2V0dXBNYXRoAX4nAMeSkp8LABBzZXR1cENzc0NvbXBpbGVyAgQAx5KSnwu5owG9BEBnbG9iYWxUaGlzLmNvbXBpbGVDU1MgPSAoYm90cykgPT4gewogICAgYm90cyA9IEFycmF5LmlzQXJyYXkoYm90cykgPyBib3RzIDogW2JvdHNdOwoKICAgIGxldCBjc3MgPSBbXTsKCiAgICBmb3IgKGxldCBib3Qgb2YgYm90cykgewogICAgICAgIGZvciAobGV0IGtleSBpbiBib3QudGFncykgewogICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ2NzcycpKSB7CiAgICAgICAgICAgICAgICBpZiAodGFncy5kZWJ1ZykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbY29tcGlsZUNTU10gZm91bmQgQ1NTIGtleTogJHtrZXl9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjc3MucHVzaChib3QudGFnc1trZXldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBjb25zdCBjb21waWxlZCA9IGNzcy5qb2luKCdcblxuJyk7CiAgICBpZiAodGFncy5kZWJ1ZykgewogICAgICAgIGNvbnNvbGUubG9nKGBbY29tcGlsZUNTU10gY29tcGlsZWQgQ1NTOlxuXG5gLCBjb21waWxlZCk7CiAgICB9CgogICAgcmV0dXJuIGNvbXBpbGVkOwp9OwA="}]}